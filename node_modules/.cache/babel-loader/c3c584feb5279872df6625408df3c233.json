{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  background: rgba(255, 255, 255, 0.95);\\n  max-width: 100px;\\n  border-radius: 10px;\\n  margin: 10px;\\n  outline: 2px solid #e9e9e9;\\n\\n  button {\\n    padding: 5px;\\n    background: white;\\n    margin: 5px;\\n    cursor: pointer;\\n    background: #e9e9e9;\\n    border: none;\\n    border-radius: 5px;\\n  }\\n\"])));var buttons=[{label:'新增 - 背景',className:'add-background',onClick:function onClick(_ref){var addBgElement=_ref.addBgElement;addBgElement();}},{label:'新增 - 文字',className:'add-font',onClick:function onClick(_ref2){var addFontElement=_ref2.addFontElement;addFontElement();}},{label:'新增 - 圖片',className:'add-image',onClick:function onClick(_ref3){var addImageElement=_ref3.addImageElement;addImageElement();}},{label:'刪除元件',className:'delete-element',onClick:function onClick(_ref4){var setShowDeleteBox=_ref4.setShowDeleteBox;setShowDeleteBox(true);}}];export default function ElementButtons(_ref5){var setShowDeleteBox=_ref5.setShowDeleteBox,objData=_ref5.objData,setObjData=_ref5.setObjData;var addFontElement=function addFontElement(){var lastFontId=objData.filter(function(element){return element.type==='FONT';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"font-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(_toConsumableArray(objData),[{id:nextFontId,type:'FONT'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};var addImageElement=function addImageElement(){var lastFontId=objData.filter(function(element){return element.type==='IMAGE';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"img-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(_toConsumableArray(objData),[{id:nextFontId,type:'IMAGE'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};var addBgElement=function addBgElement(){var lastFontId=objData.filter(function(element){return element.type==='BACKGROUND';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"bg-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(_toConsumableArray(objData),[{id:nextFontId,type:'BACKGROUND'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};return/*#__PURE__*/_jsx(Wrapper,{children:buttons.map(function(button,index){return/*#__PURE__*/_jsx(\"button\",{className:button.className,onClick:function onClick(){return button.onClick({setShowDeleteBox:setShowDeleteBox,addFontElement:addFontElement,addImageElement:addImageElement,addBgElement:addBgElement});},children:button.label},index);})});}","map":{"version":3,"names":["React","styled","jsx","_jsx","Wrapper","div","_templateObject","_taggedTemplateLiteral","buttons","label","className","onClick","_ref","addBgElement","_ref2","addFontElement","_ref3","addImageElement","_ref4","setShowDeleteBox","ElementButtons","_ref5","objData","setObjData","lastFontId","filter","element","type","reduce","maxId","idNumber","parseInt","id","split","nextFontId","concat","String","padStart","updatedElementData","_toConsumableArray","localStorage","setItem","JSON","stringify","children","map","button","index"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/components/button/element-button.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  padding: 10px;\n  background: rgba(255, 255, 255, 0.95);\n  max-width: 100px;\n  border-radius: 10px;\n  margin: 10px;\n  outline: 2px solid #e9e9e9;\n\n  button {\n    padding: 5px;\n    background: white;\n    margin: 5px;\n    cursor: pointer;\n    background: #e9e9e9;\n    border: none;\n    border-radius: 5px;\n  }\n`;\n\nconst buttons = [\n  {\n    label: '新增 - 背景',\n    className: 'add-background',\n    onClick: ({ addBgElement }) => {\n      addBgElement();\n    },\n  },\n  {\n    label: '新增 - 文字',\n    className: 'add-font',\n    onClick: ({ addFontElement }) => {\n      addFontElement();\n    },\n  },\n  {\n    label: '新增 - 圖片',\n    className: 'add-image',\n    onClick: ({ addImageElement }) => {\n      addImageElement();\n    },\n  },\n  {\n    label: '刪除元件',\n    className: 'delete-element',\n    onClick: ({ setShowDeleteBox }) => {\n      setShowDeleteBox(true);\n    },\n  },\n];\n\nexport default function ElementButtons({\n  setShowDeleteBox,\n  objData,\n  setObjData,\n}) {\n  const addFontElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'FONT')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `font-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [...objData, { id: nextFontId, type: 'FONT' }];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  const addImageElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'IMAGE')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `img-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [...objData, { id: nextFontId, type: 'IMAGE' }];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  const addBgElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'BACKGROUND')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `bg-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [\n      ...objData,\n      { id: nextFontId, type: 'BACKGROUND' },\n    ];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  return (\n    <Wrapper>\n      {buttons.map((button, index) => (\n        <button\n          key={index}\n          className={button.className}\n          onClick={() =>\n            button.onClick({\n              setShowDeleteBox,\n              addFontElement,\n              addImageElement,\n              addBgElement,\n            })\n          }\n        >\n          {button.label}\n        </button>\n      ))}\n    </Wrapper>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}