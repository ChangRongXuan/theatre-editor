{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = LiveBlog;\nvar _dataLoader = _interopRequireDefault(require(\"../data-loader\"));\nvar _liveBlogContainer = _interopRequireDefault(require(\"./live-blog-container\"));\nvar _jumbotron = require(\"./jumbotron\");\nvar _styledComponents = require(\"styled-components\");\nvar _react = require(\"react\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst GlobalStyles = (0, _styledComponents.createGlobalStyle)([\"body{background-color:#fff1db;}\"]);\n/**\n *  @callback OnChange\n *  @param {Object} props\n *  @param {'tag'|'liveBlogItem'} props.category\n *  @param {'click'|'scroll'} [props.eventName]\n *  @param {string} [props.eventTarget]\n *  @param {*} [props.eventValue]\n *  @param {*} [props.metadata]\n */\n\n/**\n *  @param {Object} props\n *  @param {Object} props.initialLiveblog\n *  @param {string} [props.fetchLiveblogUrl='']\n *  @param {string} [props.fetchImageBaseUrl='https://editools-gcs-dev.readr.tw']\n *  @param {boolean} [props.toLoadPeriodically=true]\n *  @param {OnChange} [props.onChange=()=>{}]\n */\n\nfunction LiveBlog(_ref) {\n  let {\n    initialLiveblog,\n    fetchLiveblogUrl = '',\n    fetchImageBaseUrl = 'https://editools-gcs-dev.readr.tw',\n    toLoadPeriodically = true,\n    onChange = () => {}\n  } = _ref;\n  const [liveblog, setLiveblog] = (0, _react.useState)(initialLiveblog);\n  (0, _react.useEffect)(() => {\n    let dataLoader = new _dataLoader.default();\n    if (fetchLiveblogUrl) {\n      if (toLoadPeriodically) {\n        const handleError = (errMsg, errObj) => {\n          console.log(errMsg, errObj);\n        };\n        const handleData = data => {\n          setLiveblog(data);\n        };\n        dataLoader.addEventListener('error', handleError);\n        dataLoader.addEventListener('data', handleData); // after register event listener\n        // start to load data periodically\n\n        dataLoader.loadDataPeriodically(fetchLiveblogUrl);\n        return () => {\n          dataLoader.removeEventListener('error', handleError);\n          dataLoader.removeEventListener('data', handleData);\n          dataLoader = null;\n        };\n      }\n      dataLoader.loadData(fetchLiveblogUrl).then(data => setLiveblog(data));\n    }\n  }, [fetchLiveblogUrl, initialLiveblog, toLoadPeriodically]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n      id: \"light-box-root\"\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(GlobalStyles, {}), (liveblog === null || liveblog === void 0 ? void 0 : liveblog.heroImage) && /*#__PURE__*/(0, _jsxRuntime.jsx)(_jumbotron.JumbotronContainer, {\n      image: {\n        name: liveblog.heroImage.name,\n        url: fetchImageBaseUrl + liveblog.heroImage.imageFile.url\n      }\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_liveBlogContainer.default, {\n      liveblog: liveblog,\n      fetchImageBaseUrl: fetchImageBaseUrl,\n      onChange: onChange\n    })]\n  });\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","default","LiveBlog","_dataLoader","_interopRequireDefault","require","_liveBlogContainer","_jumbotron","_styledComponents","_react","_jsxRuntime","obj","__esModule","GlobalStyles","createGlobalStyle","_ref","initialLiveblog","fetchLiveblogUrl","fetchImageBaseUrl","toLoadPeriodically","onChange","liveblog","setLiveblog","useState","useEffect","dataLoader","handleError","errMsg","errObj","console","log","handleData","data","addEventListener","loadDataPeriodically","removeEventListener","loadData","then","jsxs","Fragment","children","jsx","id","heroImage","JumbotronContainer","image","name","url","imageFile"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@readr-media/react-live-blog/lib/react-components/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = LiveBlog;\n\nvar _dataLoader = _interopRequireDefault(require(\"../data-loader\"));\n\nvar _liveBlogContainer = _interopRequireDefault(require(\"./live-blog-container\"));\n\nvar _jumbotron = require(\"./jumbotron\");\n\nvar _styledComponents = require(\"styled-components\");\n\nvar _react = require(\"react\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst GlobalStyles = (0, _styledComponents.createGlobalStyle)([\"body{background-color:#fff1db;}\"]);\n/**\n *  @callback OnChange\n *  @param {Object} props\n *  @param {'tag'|'liveBlogItem'} props.category\n *  @param {'click'|'scroll'} [props.eventName]\n *  @param {string} [props.eventTarget]\n *  @param {*} [props.eventValue]\n *  @param {*} [props.metadata]\n */\n\n/**\n *  @param {Object} props\n *  @param {Object} props.initialLiveblog\n *  @param {string} [props.fetchLiveblogUrl='']\n *  @param {string} [props.fetchImageBaseUrl='https://editools-gcs-dev.readr.tw']\n *  @param {boolean} [props.toLoadPeriodically=true]\n *  @param {OnChange} [props.onChange=()=>{}]\n */\n\nfunction LiveBlog({\n  initialLiveblog,\n  fetchLiveblogUrl = '',\n  fetchImageBaseUrl = 'https://editools-gcs-dev.readr.tw',\n  toLoadPeriodically = true,\n  onChange = () => {}\n}) {\n  const [liveblog, setLiveblog] = (0, _react.useState)(initialLiveblog);\n  (0, _react.useEffect)(() => {\n    let dataLoader = new _dataLoader.default();\n\n    if (fetchLiveblogUrl) {\n      if (toLoadPeriodically) {\n        const handleError = (errMsg, errObj) => {\n          console.log(errMsg, errObj);\n        };\n\n        const handleData = data => {\n          setLiveblog(data);\n        };\n\n        dataLoader.addEventListener('error', handleError);\n        dataLoader.addEventListener('data', handleData); // after register event listener\n        // start to load data periodically\n\n        dataLoader.loadDataPeriodically(fetchLiveblogUrl);\n        return () => {\n          dataLoader.removeEventListener('error', handleError);\n          dataLoader.removeEventListener('data', handleData);\n          dataLoader = null;\n        };\n      }\n\n      dataLoader.loadData(fetchLiveblogUrl).then(data => setLiveblog(data));\n    }\n  }, [fetchLiveblogUrl, initialLiveblog, toLoadPeriodically]);\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"div\", {\n      id: \"light-box-root\"\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(GlobalStyles, {}), (liveblog === null || liveblog === void 0 ? void 0 : liveblog.heroImage) && /*#__PURE__*/(0, _jsxRuntime.jsx)(_jumbotron.JumbotronContainer, {\n      image: {\n        name: liveblog.heroImage.name,\n        url: fetchImageBaseUrl + liveblog.heroImage.imageFile.url\n      }\n    }), /*#__PURE__*/(0, _jsxRuntime.jsx)(_liveBlogContainer.default, {\n      liveblog: liveblog,\n      fetchImageBaseUrl: fetchImageBaseUrl,\n      onChange: onChange\n    })]\n  });\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAGC,QAAQ;AAE1B,IAAIC,WAAW,GAAGC,sBAAsB,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAEnE,IAAIC,kBAAkB,GAAGF,sBAAsB,CAACC,OAAO,CAAC,uBAAuB,CAAC,CAAC;AAEjF,IAAIE,UAAU,GAAGF,OAAO,CAAC,aAAa,CAAC;AAEvC,IAAIG,iBAAiB,GAAGH,OAAO,CAAC,mBAAmB,CAAC;AAEpD,IAAII,MAAM,GAAGJ,OAAO,CAAC,OAAO,CAAC;AAE7B,IAAIK,WAAW,GAAGL,OAAO,CAAC,mBAAmB,CAAC;AAE9C,SAASD,sBAAsBA,CAACO,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEV,OAAO,EAAEU;EAAI,CAAC;AAAE;AAE9F,MAAME,YAAY,GAAG,CAAC,CAAC,EAAEL,iBAAiB,CAACM,iBAAiB,EAAE,CAAC,iCAAiC,CAAC,CAAC;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASZ,QAAQA,CAAAa,IAAA,EAMd;EAAA,IANe;IAChBC,eAAe;IACfC,gBAAgB,GAAG,EAAE;IACrBC,iBAAiB,GAAG,mCAAmC;IACvDC,kBAAkB,GAAG,IAAI;IACzBC,QAAQ,GAAGA,CAAA,KAAM,CAAC;EACpB,CAAC,GAAAL,IAAA;EACC,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAG,CAAC,CAAC,EAAEb,MAAM,CAACc,QAAQ,EAAEP,eAAe,CAAC;EACrE,CAAC,CAAC,EAAEP,MAAM,CAACe,SAAS,EAAE,MAAM;IAC1B,IAAIC,UAAU,GAAG,IAAItB,WAAW,CAACF,OAAO,CAAC,CAAC;IAE1C,IAAIgB,gBAAgB,EAAE;MACpB,IAAIE,kBAAkB,EAAE;QACtB,MAAMO,WAAW,GAAGA,CAACC,MAAM,EAAEC,MAAM,KAAK;UACtCC,OAAO,CAACC,GAAG,CAACH,MAAM,EAAEC,MAAM,CAAC;QAC7B,CAAC;QAED,MAAMG,UAAU,GAAGC,IAAI,IAAI;UACzBV,WAAW,CAACU,IAAI,CAAC;QACnB,CAAC;QAEDP,UAAU,CAACQ,gBAAgB,CAAC,OAAO,EAAEP,WAAW,CAAC;QACjDD,UAAU,CAACQ,gBAAgB,CAAC,MAAM,EAAEF,UAAU,CAAC,CAAC,CAAC;QACjD;;QAEAN,UAAU,CAACS,oBAAoB,CAACjB,gBAAgB,CAAC;QACjD,OAAO,MAAM;UACXQ,UAAU,CAACU,mBAAmB,CAAC,OAAO,EAAET,WAAW,CAAC;UACpDD,UAAU,CAACU,mBAAmB,CAAC,MAAM,EAAEJ,UAAU,CAAC;UAClDN,UAAU,GAAG,IAAI;QACnB,CAAC;MACH;MAEAA,UAAU,CAACW,QAAQ,CAACnB,gBAAgB,CAAC,CAACoB,IAAI,CAACL,IAAI,IAAIV,WAAW,CAACU,IAAI,CAAC,CAAC;IACvE;EACF,CAAC,EAAE,CAACf,gBAAgB,EAAED,eAAe,EAAEG,kBAAkB,CAAC,CAAC;EAC3D,OAAO,aAAa,CAAC,CAAC,EAAET,WAAW,CAAC4B,IAAI,EAAE5B,WAAW,CAAC6B,QAAQ,EAAE;IAC9DC,QAAQ,EAAE,CAAC,aAAa,CAAC,CAAC,EAAE9B,WAAW,CAAC+B,GAAG,EAAE,KAAK,EAAE;MAClDC,EAAE,EAAE;IACN,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAEhC,WAAW,CAAC+B,GAAG,EAAE5B,YAAY,EAAE,CAAC,CAAC,CAAC,EAAE,CAACQ,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACsB,SAAS,KAAK,aAAa,CAAC,CAAC,EAAEjC,WAAW,CAAC+B,GAAG,EAAElC,UAAU,CAACqC,kBAAkB,EAAE;MACpMC,KAAK,EAAE;QACLC,IAAI,EAAEzB,QAAQ,CAACsB,SAAS,CAACG,IAAI;QAC7BC,GAAG,EAAE7B,iBAAiB,GAAGG,QAAQ,CAACsB,SAAS,CAACK,SAAS,CAACD;MACxD;IACF,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAErC,WAAW,CAAC+B,GAAG,EAAEnC,kBAAkB,CAACL,OAAO,EAAE;MAChEoB,QAAQ,EAAEA,QAAQ;MAClBH,iBAAiB,EAAEA,iBAAiB;MACpCE,QAAQ,EAAEA;IACZ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script"}