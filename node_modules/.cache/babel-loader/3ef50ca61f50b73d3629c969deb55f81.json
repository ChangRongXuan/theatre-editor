{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\nvar _annotatingError = _interopRequireDefault(require(\"../annotating-error\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nvar _ = {\n  get: _lodash[\"default\"]\n};\n/**\n *  We only pick certain properties from Axios config\n *  because of the record size limitation (250kb) of\n *  StackDriver logging system.\n *  @typedef PartialAxiosConfig\n *  @property {string} url\n *  @property {string} method\n *  @property {string} baseURL\n *  @property {*} headers\n *  @property {*} params\n *  @property {number} timeout\n *  @property {boolean} withCredentials\n *  @property {*} auth\n *  @property {string} responseType\n *  @property {string} responseEncoding\n *  @property {number} maxContentLength\n *  @property {*} proxy\n */\n\n/**\n *  Pick informative properties from axios config. For other removed properties, see https://github.com/axios/axios#request-config\n *  @param {Object} axiosConfig - full config provided by Axios\n *  @return {PartialAxiosConfig|{}}\n *\n */\n\nfunction pruneAxiosConfig(axiosConfig) {\n  if (_typeof(axiosConfig) === 'object' && axiosConfig !== null) {\n    return {\n      // request url\n      url: axiosConfig.url,\n      // request method\n      method: axiosConfig.method,\n      // request baseURL\n      baseURL: axiosConfig.baseURL,\n      // request headers\n      headers: axiosConfig.headers,\n      // request query params\n      params: axiosConfig.params,\n      // request data\n      data: axiosConfig.data,\n      // request timeout\n      timeout: axiosConfig.timeout,\n      withCredentials: axiosConfig.withCredentials,\n      auth: axiosConfig.auth,\n      responseType: axiosConfig.responseType,\n      responseEncoding: axiosConfig.responseEncoding,\n      maxContentLength: axiosConfig.maxContentLength,\n      proxy: axiosConfig.proxy\n    };\n  }\n  return {};\n}\n/**\n *\n *\n * @param {Error} axiosError\n * @returns {AnnotatingError}\n */\n\nfunction annotateAxiosError(axiosError) {\n  var message = 'failed to make an axios request';\n  var response, headers;\n  if (axiosError.response) {\n    var statusCode = _.get(axiosError, 'response.status');\n    response = {\n      statusCode: statusCode,\n      data: _.get(axiosError, 'response.data'),\n      headers: _.get(axiosError, 'response.headers')\n    };\n    message = \"an axios request was made but response with status \".concat(statusCode);\n  } else if (axiosError.request) {\n    message = 'an axios request was made but no response was received';\n  }\n  var payload = {\n    response: response,\n    headers: headers,\n    config: pruneAxiosConfig(_.get(axiosError, 'config'))\n  };\n  return new _annotatingError[\"default\"](axiosError, 'AxiosError', message, payload, annotateAxiosError);\n}\nvar _default = annotateAxiosError;\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","_lodash","_interopRequireDefault","require","_annotatingError","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_","get","pruneAxiosConfig","axiosConfig","url","method","baseURL","headers","params","data","timeout","withCredentials","auth","responseType","responseEncoding","maxContentLength","proxy","annotateAxiosError","axiosError","message","response","statusCode","concat","request","payload","config","_default"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@twreporter/errors/lib/helpers/annotate-axios-error.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _annotatingError = _interopRequireDefault(require(\"../annotating-error\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _ = {\n  get: _lodash[\"default\"]\n};\n/**\n *  We only pick certain properties from Axios config\n *  because of the record size limitation (250kb) of\n *  StackDriver logging system.\n *  @typedef PartialAxiosConfig\n *  @property {string} url\n *  @property {string} method\n *  @property {string} baseURL\n *  @property {*} headers\n *  @property {*} params\n *  @property {number} timeout\n *  @property {boolean} withCredentials\n *  @property {*} auth\n *  @property {string} responseType\n *  @property {string} responseEncoding\n *  @property {number} maxContentLength\n *  @property {*} proxy\n */\n\n/**\n *  Pick informative properties from axios config. For other removed properties, see https://github.com/axios/axios#request-config\n *  @param {Object} axiosConfig - full config provided by Axios\n *  @return {PartialAxiosConfig|{}}\n *\n */\n\nfunction pruneAxiosConfig(axiosConfig) {\n  if (_typeof(axiosConfig) === 'object' && axiosConfig !== null) {\n    return {\n      // request url\n      url: axiosConfig.url,\n      // request method\n      method: axiosConfig.method,\n      // request baseURL\n      baseURL: axiosConfig.baseURL,\n      // request headers\n      headers: axiosConfig.headers,\n      // request query params\n      params: axiosConfig.params,\n      // request data\n      data: axiosConfig.data,\n      // request timeout\n      timeout: axiosConfig.timeout,\n      withCredentials: axiosConfig.withCredentials,\n      auth: axiosConfig.auth,\n      responseType: axiosConfig.responseType,\n      responseEncoding: axiosConfig.responseEncoding,\n      maxContentLength: axiosConfig.maxContentLength,\n      proxy: axiosConfig.proxy\n    };\n  }\n\n  return {};\n}\n/**\n *\n *\n * @param {Error} axiosError\n * @returns {AnnotatingError}\n */\n\n\nfunction annotateAxiosError(axiosError) {\n  var message = 'failed to make an axios request';\n  var response, headers;\n\n  if (axiosError.response) {\n    var statusCode = _.get(axiosError, 'response.status');\n\n    response = {\n      statusCode: statusCode,\n      data: _.get(axiosError, 'response.data'),\n      headers: _.get(axiosError, 'response.headers')\n    };\n    message = \"an axios request was made but response with status \".concat(statusCode);\n  } else if (axiosError.request) {\n    message = 'an axios request was made but no response was received';\n  }\n\n  var payload = {\n    response: response,\n    headers: headers,\n    config: pruneAxiosConfig(_.get(axiosError, 'config'))\n  };\n  return new _annotatingError[\"default\"](axiosError, 'AxiosError', message, payload, annotateAxiosError);\n}\n\nvar _default = annotateAxiosError;\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}