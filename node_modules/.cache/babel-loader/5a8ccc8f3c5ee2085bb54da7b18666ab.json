{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState}from'react';import styled from'styled-components';import{initialConfig}from'../../constants';import studio from'@theatre/studio';import{types}from'@theatre/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: 200;\\n\"])));var Form=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 30%;\\n  height: 50%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 70px auto;\\n\\n  input {\\n    width: 30%;\\n    margin-bottom: 20px;\\n  }\\n\\n  textarea {\\n    width: 90%;\\n    height: 200px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));export default function FontLightBox(_ref){var setShowFontLightBox=_ref.setShowFontLightBox,sheet=_ref.sheet;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),fontContent=_useState2[0],setFontContent=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),fontID=_useState4[0],setFontID=_useState4[1];var addFontElement=function addFontElement(){var fontID=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var fontContent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var menuConfig=sheet.object(\"\".concat(fontID),_objectSpread(_objectSpread({},initialConfig.FONT),{},{content:types.string(\"\".concat(fontContent))}));var div=document.createElement('div');console.log('menuConfig',[menuConfig]);div.id=\"\".concat(fontID);div.textContent=\"\".concat(fontContent);div.onclick=function(){return studio.setSelection([menuConfig]);};div.style.cssText=\"\\n      position: absolute;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center'\\n    \";var container=document.getElementById('theatre-stage');if(container){container.appendChild(div);}menuConfig.onValuesChange(function(newValue){div.style.left=newValue.position.x+'%';div.style.top=newValue.position.y+'%';div.style.background=newValue.bgColor;div.style.color=newValue.font.color;div.style.opacity=newValue.opacity;div.style.padding=newValue.padding+'px';div.style.display=newValue.visible?'block':'none';div.style.width=newValue.size.width+'px';div.style.height=newValue.size.height+'px';div.style.fontSize=newValue.font.size+'px';div.style.borderRadius=newValue.border.radius+'%';div.style.border=\"\".concat(newValue.border.size,\"px solid \").concat(newValue.border.color);div.textContent=newValue.content;setFontContent(newValue.content);});var theatreData=JSON.parse(localStorage.getItem('theatre-data'))||[];var updatedElementData=[].concat(_toConsumableArray(theatreData),[{id:fontID,content:fontContent,type:'font'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));};return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u65B0\\u589E Font \\u5143\\u4EF6 \"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u7269\\u4EF6 ID (\\u52FF\\u8207\\u4E4B\\u524D\\u7684\\u91CD\\u8907)\\uFF1A \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u4E2D/\\u82F1/\\u6578\\u5B57\\u7686\\u53EF\",value:fontID,onChange:function onChange(e){return setFontID(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u6587\\u5B57\\u5167\\u5BB9\",value:fontContent,onChange:function onChange(e){return setFontContent(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setShowFontLightBox(false);addFontElement(fontID,fontContent);},children:\"\\u78BA\\u5B9A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setShowFontLightBox(false);},children:\"\\u53D6\\u6D88\"})]})});}","map":{"version":3,"names":["React","useState","styled","initialConfig","studio","types","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","FontLightBox","_ref","setShowFontLightBox","sheet","_useState","_useState2","_slicedToArray","fontContent","setFontContent","_useState3","_useState4","fontID","setFontID","addFontElement","arguments","length","undefined","menuConfig","object","concat","_objectSpread","FONT","content","string","document","createElement","console","log","id","textContent","onclick","setSelection","style","cssText","container","getElementById","appendChild","onValuesChange","newValue","left","position","x","top","y","background","bgColor","color","font","opacity","padding","display","visible","width","size","height","fontSize","borderRadius","border","radius","theatreData","JSON","parse","localStorage","getItem","updatedElementData","_toConsumableArray","type","setItem","stringify","children","placeholder","value","onChange","e","target","onClick"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/add-font.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { initialConfig } from '../../constants';\nimport studio from '@theatre/studio';\nimport { types } from '@theatre/core';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 200;\n`;\n\nconst Form = styled.div`\n  width: 30%;\n  height: 50%;\n  background: white;\n  border: 10px;\n  padding: 20px;\n  outline: 3px solid black;\n  margin: 70px auto;\n\n  input {\n    width: 30%;\n    margin-bottom: 20px;\n  }\n\n  textarea {\n    width: 90%;\n    height: 200px;\n  }\n\n  button {\n    padding: 5px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport default function FontLightBox({ setShowFontLightBox, sheet }) {\n  const [fontContent, setFontContent] = useState('');\n  const [fontID, setFontID] = useState('');\n\n  const addFontElement = (fontID = '', fontContent = '') => {\n    const menuConfig = sheet.object(`${fontID}`, {\n      ...initialConfig.FONT,\n      content: types.string(`${fontContent}`),\n    });\n\n    const div = document.createElement('div');\n\n    console.log('menuConfig', [menuConfig]);\n\n    div.id = `${fontID}`;\n    div.textContent = `${fontContent}`;\n    div.onclick = () => studio.setSelection([menuConfig]);\n    div.style.cssText = `\n      position: absolute;\n      display: flex;\n      align-items: center;\n      justify-content: center'\n    `;\n\n    const container = document.getElementById('theatre-stage');\n    if (container) {\n      container.appendChild(div);\n    }\n\n    menuConfig.onValuesChange((newValue) => {\n      div.style.left = newValue.position.x + '%';\n      div.style.top = newValue.position.y + '%';\n      div.style.background = newValue.bgColor;\n      div.style.color = newValue.font.color;\n      div.style.opacity = newValue.opacity;\n      div.style.padding = newValue.padding + 'px';\n      div.style.display = newValue.visible ? 'block' : 'none';\n      div.style.width = newValue.size.width + 'px';\n      div.style.height = newValue.size.height + 'px';\n      div.style.fontSize = newValue.font.size + 'px';\n      div.style.borderRadius = newValue.border.radius + '%';\n      div.style.border = `${newValue.border.size}px solid ${newValue.border.color}`;\n      div.textContent = newValue.content;\n      setFontContent(newValue.content);\n    });\n\n    const theatreData = JSON.parse(localStorage.getItem('theatre-data')) || [];\n    const updatedElementData = [\n      ...theatreData,\n      { id: fontID, content: fontContent, type: 'font' },\n    ];\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n  };\n\n  return (\n    <Wrapper>\n      <Form>\n        <h2>新增 Font 元件 </h2>\n\n        <span>物件 ID (勿與之前的重複)： </span>\n        <input\n          placeholder='中/英/數字皆可'\n          value={fontID}\n          onChange={(e) => setFontID(e.target.value)}\n        />\n\n        <textarea\n          placeholder='文字內容'\n          value={fontContent}\n          onChange={(e) => setFontContent(e.target.value)}\n        />\n\n        <button\n          onClick={() => {\n            setShowFontLightBox(false);\n            addFontElement(fontID, fontContent);\n          }}\n        >\n          確定\n        </button>\n\n        <button\n          onClick={() => {\n            setShowFontLightBox(false);\n          }}\n        >\n          取消\n        </button>\n      </Form>\n    </Wrapper>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}