{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _general = _interopRequireDefault(require(\"./general\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction trimLinesFromTheBottom(string, trimmedCount) {\n  if (!trimmedCount || !string) return string !== null && string !== void 0 ? string : '';\n  var array = string.split(/\\r?\\n|\\r/);\n  if (array.length > trimmedCount) {\n    array.splice(array.length - trimmedCount, trimmedCount);\n  } else {\n    array.splice(1, array.length - 1);\n  }\n  return array.join('\\n');\n}\n/**\n * print the information of error\n *\n * @param {Error} error\n * @param {Object} fields\n * @param {boolean} fields.withStack\n * @param {boolean} fields.withPayload\n * @param {number} [trimStack=0] - how many lines that will be trimmed in the stack from the bottom\n * @returns {string}\n */\n\nfunction printOne(error, fields) {\n  var trimStack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _fields$withPayload = fields.withPayload,\n    withPayload = _fields$withPayload === void 0 ? false : _fields$withPayload,\n    _fields$withStack = fields.withStack,\n    withStack = _fields$withStack === void 0 ? true : _fields$withStack;\n  var message = withStack ? trimLinesFromTheBottom(error.stack, trimStack).replace(/^\\s+/gm, ' ') : \"\".concat(error.name, \": \").concat(error.message); // stack string contains name and message already\n\n  if (withPayload) {\n    message += \"\\n > payload \".concat(JSON.stringify(error.payload));\n  }\n  return message;\n}\nvar defaultTrimStack = Error.stackTraceLimit > 1 ? Error.stackTraceLimit - 1 : 0;\n/**\n * print the information of all errors from cause to input errors\n *\n * @param {Error} error\n * @param {Object} fields\n * @param {boolean} [fields.withStack=true]\n * @param {boolean} [fields.withPayload=true]\n * @param {number} [limit=0] - how many errors will be printed from the cause. if limit = 0, all errors will be printed\n * @param {number} [trimCauseStack=defaultTrimStack] - how many frames of cause stack will be trimmed\n * @returns {string}\n */\n\nfunction printAll(error) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var trimCauseStack = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultTrimStack;\n  var _fields$withStack2 = fields.withStack,\n    withStack = _fields$withStack2 === void 0 ? true : _fields$withStack2,\n    _fields$withPayload2 = fields.withPayload,\n    withPayload = _fields$withPayload2 === void 0 ? true : _fields$withPayload2;\n  var joinedMessage = '';\n  var _error = error;\n  var errorsChain = [];\n  while (_error) {\n    errorsChain.push(_error);\n    _error = _general[\"default\"].unwrap(_error);\n  }\n  var chainLength = errorsChain.length;\n  var causeIndex = chainLength - 1;\n  var printEnd = limit ? chainLength - limit : 0;\n  for (var i = causeIndex; i >= printEnd; i--) {\n    joinedMessage += printOne(errorsChain[i], {\n      withPayload: i === causeIndex ? false : withPayload,\n      withStack: withStack\n    }, i === causeIndex ? trimCauseStack : 0) + (i === printEnd ? '' : '\\n');\n  }\n  return joinedMessage;\n}\nvar _default = {\n  printOne: printOne,\n  printAll: printAll\n};\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","_general","_interopRequireDefault","require","obj","__esModule","trimLinesFromTheBottom","string","trimmedCount","array","split","length","splice","join","printOne","error","fields","trimStack","arguments","undefined","_fields$withPayload","withPayload","_fields$withStack","withStack","message","stack","replace","concat","name","JSON","stringify","payload","defaultTrimStack","Error","stackTraceLimit","printAll","limit","trimCauseStack","_fields$withStack2","_fields$withPayload2","joinedMessage","_error","errorsChain","push","unwrap","chainLength","causeIndex","printEnd","i","_default"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@twreporter/errors/lib/helpers/print.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _general = _interopRequireDefault(require(\"./general\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction trimLinesFromTheBottom(string, trimmedCount) {\n  if (!trimmedCount || !string) return string !== null && string !== void 0 ? string : '';\n  var array = string.split(/\\r?\\n|\\r/);\n\n  if (array.length > trimmedCount) {\n    array.splice(array.length - trimmedCount, trimmedCount);\n  } else {\n    array.splice(1, array.length - 1);\n  }\n\n  return array.join('\\n');\n}\n/**\n * print the information of error\n *\n * @param {Error} error\n * @param {Object} fields\n * @param {boolean} fields.withStack\n * @param {boolean} fields.withPayload\n * @param {number} [trimStack=0] - how many lines that will be trimmed in the stack from the bottom\n * @returns {string}\n */\n\n\nfunction printOne(error, fields) {\n  var trimStack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _fields$withPayload = fields.withPayload,\n      withPayload = _fields$withPayload === void 0 ? false : _fields$withPayload,\n      _fields$withStack = fields.withStack,\n      withStack = _fields$withStack === void 0 ? true : _fields$withStack;\n  var message = withStack ? trimLinesFromTheBottom(error.stack, trimStack).replace(/^\\s+/gm, ' ') : \"\".concat(error.name, \": \").concat(error.message); // stack string contains name and message already\n\n  if (withPayload) {\n    message += \"\\n > payload \".concat(JSON.stringify(error.payload));\n  }\n\n  return message;\n}\n\nvar defaultTrimStack = Error.stackTraceLimit > 1 ? Error.stackTraceLimit - 1 : 0;\n/**\n * print the information of all errors from cause to input errors\n *\n * @param {Error} error\n * @param {Object} fields\n * @param {boolean} [fields.withStack=true]\n * @param {boolean} [fields.withPayload=true]\n * @param {number} [limit=0] - how many errors will be printed from the cause. if limit = 0, all errors will be printed\n * @param {number} [trimCauseStack=defaultTrimStack] - how many frames of cause stack will be trimmed\n * @returns {string}\n */\n\nfunction printAll(error) {\n  var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var trimCauseStack = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : defaultTrimStack;\n  var _fields$withStack2 = fields.withStack,\n      withStack = _fields$withStack2 === void 0 ? true : _fields$withStack2,\n      _fields$withPayload2 = fields.withPayload,\n      withPayload = _fields$withPayload2 === void 0 ? true : _fields$withPayload2;\n  var joinedMessage = '';\n  var _error = error;\n  var errorsChain = [];\n\n  while (_error) {\n    errorsChain.push(_error);\n    _error = _general[\"default\"].unwrap(_error);\n  }\n\n  var chainLength = errorsChain.length;\n  var causeIndex = chainLength - 1;\n  var printEnd = limit ? chainLength - limit : 0;\n\n  for (var i = causeIndex; i >= printEnd; i--) {\n    joinedMessage += printOne(errorsChain[i], {\n      withPayload: i === causeIndex ? false : withPayload,\n      withStack: withStack\n    }, i === causeIndex ? trimCauseStack : 0) + (i === printEnd ? '' : '\\n');\n  }\n\n  return joinedMessage;\n}\n\nvar _default = {\n  printOne: printOne,\n  printAll: printAll\n};\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}