{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\n\n/**\n *\n *\n * @export\n * @param {string} src - the src of CDN\n * @param {Function} checkIfScriptLoad - the function to check is script is loaded\n * @returns {boolean} is the CDN loaded or not\n */\nexport default function useCDN(src, checkIfScriptLoad) {\n  _s();\n  const [isLoaded, setLoaded] = useState(checkIfScriptLoad);\n  useEffect(() => {\n    if (!checkIfScriptLoad()) {\n      const existedScriptEle = document.querySelector(`script[src=\"${src}\"]`); // TODO: Need improvement. This may cause false negative result.\n      if (existedScriptEle) {\n        // Case 1: The script element exists but not has not been loaded yet\n        const handleLoad = () => {\n          existedScriptEle.removeEventListener('load', handleLoad);\n          setLoaded(true);\n        };\n        existedScriptEle.addEventListener('load', handleLoad);\n        return () => {\n          existedScriptEle.removeEventListener('load', handleLoad);\n        };\n      } else {\n        // Case 2: The script element does not exist\n        const newScriptEle = document.createElement('script');\n        newScriptEle.src = src;\n        const handleLoad = () => {\n          newScriptEle.removeEventListener('load', handleLoad);\n          setLoaded(true);\n        };\n        newScriptEle.addEventListener('load', handleLoad);\n        try {\n          document.head.appendChild(newScriptEle);\n        } catch (error) {\n          console.error(error);\n        }\n        return () => {\n          newScriptEle.removeEventListener('load', handleLoad);\n        };\n      }\n    }\n  }, [checkIfScriptLoad, src]);\n  return isLoaded;\n}\n_s(useCDN, \"/aIRPjVTyqOIAFVfJLEqH4pNVUs=\");","map":{"version":3,"names":["useState","useEffect","useCDN","src","checkIfScriptLoad","_s","isLoaded","setLoaded","existedScriptEle","document","querySelector","handleLoad","removeEventListener","addEventListener","newScriptEle","createElement","head","appendChild","error","console"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/hook/useCdn.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n/**\n *\n *\n * @export\n * @param {string} src - the src of CDN\n * @param {Function} checkIfScriptLoad - the function to check is script is loaded\n * @returns {boolean} is the CDN loaded or not\n */\nexport default function useCDN(src, checkIfScriptLoad) {\n  const [isLoaded, setLoaded] = useState(checkIfScriptLoad);\n  useEffect(() => {\n    if (!checkIfScriptLoad()) {\n      const existedScriptEle = document.querySelector(`script[src=\"${src}\"]`); // TODO: Need improvement. This may cause false negative result.\n      if (existedScriptEle) {\n        // Case 1: The script element exists but not has not been loaded yet\n        const handleLoad = () => {\n          existedScriptEle.removeEventListener('load', handleLoad);\n          setLoaded(true);\n        };\n        existedScriptEle.addEventListener('load', handleLoad);\n        return () => {\n          existedScriptEle.removeEventListener('load', handleLoad);\n        };\n      } else {\n        // Case 2: The script element does not exist\n        const newScriptEle = document.createElement('script');\n        newScriptEle.src = src;\n        const handleLoad = () => {\n          newScriptEle.removeEventListener('load', handleLoad);\n          setLoaded(true);\n        };\n        newScriptEle.addEventListener('load', handleLoad);\n        try {\n          document.head.appendChild(newScriptEle);\n        } catch (error) {\n          console.error(error);\n        }\n        return () => {\n          newScriptEle.removeEventListener('load', handleLoad);\n        };\n      }\n    }\n  }, [checkIfScriptLoad, src]);\n  return isLoaded;\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,MAAMA,CAACC,GAAG,EAAEC,iBAAiB,EAAE;EAAAC,EAAA;EACrD,MAAM,CAACC,QAAQ,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAACI,iBAAiB,CAAC;EACzDH,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,iBAAiB,CAAC,CAAC,EAAE;MACxB,MAAMI,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAE,eAAcP,GAAI,IAAG,CAAC,CAAC,CAAC;MACzE,IAAIK,gBAAgB,EAAE;QACpB;QACA,MAAMG,UAAU,GAAGA,CAAA,KAAM;UACvBH,gBAAgB,CAACI,mBAAmB,CAAC,MAAM,EAAED,UAAU,CAAC;UACxDJ,SAAS,CAAC,IAAI,CAAC;QACjB,CAAC;QACDC,gBAAgB,CAACK,gBAAgB,CAAC,MAAM,EAAEF,UAAU,CAAC;QACrD,OAAO,MAAM;UACXH,gBAAgB,CAACI,mBAAmB,CAAC,MAAM,EAAED,UAAU,CAAC;QAC1D,CAAC;MACH,CAAC,MAAM;QACL;QACA,MAAMG,YAAY,GAAGL,QAAQ,CAACM,aAAa,CAAC,QAAQ,CAAC;QACrDD,YAAY,CAACX,GAAG,GAAGA,GAAG;QACtB,MAAMQ,UAAU,GAAGA,CAAA,KAAM;UACvBG,YAAY,CAACF,mBAAmB,CAAC,MAAM,EAAED,UAAU,CAAC;UACpDJ,SAAS,CAAC,IAAI,CAAC;QACjB,CAAC;QACDO,YAAY,CAACD,gBAAgB,CAAC,MAAM,EAAEF,UAAU,CAAC;QACjD,IAAI;UACFF,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACH,YAAY,CAAC;QACzC,CAAC,CAAC,OAAOI,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACtB;QACA,OAAO,MAAM;UACXJ,YAAY,CAACF,mBAAmB,CAAC,MAAM,EAAED,UAAU,CAAC;QACtD,CAAC;MACH;IACF;EACF,CAAC,EAAE,CAACP,iBAAiB,EAAED,GAAG,CAAC,CAAC;EAC5B,OAAOG,QAAQ;AACjB;AAACD,EAAA,CApCuBH,MAAM"},"metadata":{},"sourceType":"module"}