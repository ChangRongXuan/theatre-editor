{"ast":null,"code":"import _toConsumableArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState}from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  z-index: 200;\\n\"])));var Form=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 30%;\\n  height: 25%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 150px auto;\\n\\n  input {\\n    width: 70%;\\n    margin-bottom: 20px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));export default function AddVideo(_ref){var setShowVideoBox=_ref.setShowVideoBox,setObjData=_ref.setObjData,objData=_ref.objData;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),source=_useState2[0],setSource=_useState2[1];var addVideoElement=function addVideoElement(){var lastVideoId=objData.filter(function(element){return element.type==='VIDEO';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextVideoId=\"video-\".concat(String(lastVideoId+1).padStart(3,'0'));var updatedElementData=[].concat(_toConsumableArray(objData),[{id:nextVideoId,type:'VIDEO',src:source}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u65B0\\u589E\\u5F71\\u7247\\u5143\\u4EF6 \"}),/*#__PURE__*/_jsx(\"span\",{children:\" \\u5F71\\u7247\\u4F86\\u6E90 \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\",value:source,onChange:function onChange(e){return setSource(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){addVideoElement();window.location.reload();},children:\"\\u78BA\\u5B9A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setShowVideoBox(false);},children:\"\\u53D6\\u6D88\"})]})});}","map":{"version":3,"names":["React","useState","styled","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","AddVideo","_ref","setShowVideoBox","setObjData","objData","_useState","_useState2","_slicedToArray","source","setSource","addVideoElement","lastVideoId","filter","element","type","reduce","maxId","idNumber","parseInt","id","split","nextVideoId","concat","String","padStart","updatedElementData","_toConsumableArray","src","localStorage","setItem","JSON","stringify","children","placeholder","value","onChange","e","target","onClick","window","location","reload"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/add-video.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 200;\n`;\n\nconst Form = styled.div`\n  width: 30%;\n  height: 25%;\n  background: white;\n  border: 10px;\n  padding: 20px;\n  outline: 3px solid black;\n  margin: 150px auto;\n\n  input {\n    width: 70%;\n    margin-bottom: 20px;\n  }\n\n  button {\n    padding: 5px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport default function AddVideo({ setShowVideoBox, setObjData, objData }) {\n  const [source, setSource] = useState('');\n\n  const addVideoElement = () => {\n    const lastVideoId = objData\n      .filter((element) => element.type === 'VIDEO')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextVideoId = `video-${String(lastVideoId + 1).padStart(3, '0')}`;\n    const updatedElementData = [\n      ...objData,\n      { id: nextVideoId, type: 'VIDEO', src: source },\n    ];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  return (\n    <Wrapper>\n      <Form>\n        <h2>新增影片元件 </h2>\n\n        <span> 影片來源 </span>\n        <input\n          placeholder=''\n          value={source}\n          onChange={(e) => setSource(e.target.value)}\n        />\n\n        <button\n          onClick={() => {\n            addVideoElement();\n            window.location.reload();\n          }}\n        >\n          確定\n        </button>\n\n        <button\n          onClick={() => {\n            setShowVideoBox(false);\n          }}\n        >\n          取消\n        </button>\n      </Form>\n    </Wrapper>\n  );\n}\n"],"mappings":"0bAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,GAAM,CAAAC,OAAO,CAAGL,MAAM,CAACM,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,2LAWzB,CAED,GAAM,CAAAC,IAAI,CAAGT,MAAM,CAACM,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,8XAuBtB,CAED,cAAe,SAAS,CAAAG,QAAQA,CAAAC,IAAA,CAA2C,IAAxC,CAAAC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CAAEC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CACrE,IAAAC,SAAA,CAA4BjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5B,GAAM,CAAAC,WAAW,CAAGP,OAAO,CACxBQ,MAAM,CAAC,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACC,IAAI,GAAK,OAAO,GAAC,CAC7CC,MAAM,CAAC,SAACC,KAAK,CAAEH,OAAO,CAAK,CAC1B,GAAM,CAAAI,QAAQ,CAAGC,QAAQ,CAACL,OAAO,CAACM,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CACnD,MAAO,CAAAH,QAAQ,CAAGD,KAAK,CAAGC,QAAQ,CAAGD,KAAK,CAC5C,CAAC,CAAE,CAAC,CAAC,CAEP,GAAM,CAAAK,WAAW,UAAAC,MAAA,CAAYC,MAAM,CAACZ,WAAW,CAAG,CAAC,CAAC,CAACa,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAAE,CACvE,GAAM,CAAAC,kBAAkB,IAAAH,MAAA,CAAAI,kBAAA,CACnBtB,OAAO,GACV,CAAEe,EAAE,CAAEE,WAAW,CAAEP,IAAI,CAAE,OAAO,CAAEa,GAAG,CAAEnB,MAAO,CAAC,EAChD,CAEDoB,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEC,IAAI,CAACC,SAAS,CAACN,kBAAkB,CAAC,CAAC,CACxEtB,UAAU,CAACsB,kBAAkB,CAAC,CAChC,CAAC,CAED,mBACElC,IAAA,CAACG,OAAO,EAAAsC,QAAA,cACNvC,KAAA,CAACK,IAAI,EAAAkC,QAAA,eACHzC,IAAA,OAAAyC,QAAA,CAAI,uCAAO,CAAI,CAAC,cAEhBzC,IAAA,SAAAyC,QAAA,CAAM,4BAAM,CAAM,CAAC,cACnBzC,IAAA,UACE0C,WAAW,CAAC,EAAE,CACdC,KAAK,CAAE1B,MAAO,CACd2B,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA3B,SAAS,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC5C,CAAC,cAEF3C,IAAA,WACE+C,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb5B,eAAe,CAAC,CAAC,CACjB6B,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAE,CAAAT,QAAA,CACH,cAED,CAAQ,CAAC,cAETzC,IAAA,WACE+C,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbpC,eAAe,CAAC,KAAK,CAAC,CACxB,CAAE,CAAA8B,QAAA,CACH,cAED,CAAQ,CAAC,EACL,CAAC,CACA,CAAC,CAEd"},"metadata":{},"sourceType":"module"}