{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import studio from'@theatre/studio';import{useState,useEffect}from'react';import Stage from'../components/stage';import EditPanel from'../components/edit-panel';import{getProject}from'@theatre/core';import{renderFontObject,renderImageObject,renderBgObject}from'../utils';import GridLine from'../components/grid-line';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Playground(){studio.initialize();var project=getProject('Project',{});var sheet=project.sheet('Scene','default');project.ready.then(function(){return sheet.sequence.pause();});// get object JSON in local-storage\nvar objJson=localStorage.getItem('theatre-data');var objData=objJson?JSON.parse(objJson):[];var _useState=useState(objData),_useState2=_slicedToArray(_useState,2),storedData=_useState2[0],setStoredData=_useState2[1];useEffect(function(){if(storedData.length>0){renderFontObject(storedData,sheet);renderImageObject(storedData,sheet);renderBgObject(storedData,sheet);}},[storedData]);// ------------------------\nvar _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showGrid=_useState4[0],setShowGrid=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showPanel=_useState6[0],setShowPanel=_useState6[1];studio.ui[showPanel?'restore':'hide']();useEffect(function(){var handleKeyDown=function handleKeyDown(event){if(event.key==='Escape'){setShowPanel(!showPanel);}if(event.key==='g'||event.key==='G'){setShowGrid(!showGrid);}};document.addEventListener('keydown',handleKeyDown);return function(){document.removeEventListener('keydown',handleKeyDown);};});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EditPanel,{sheet:sheet,setStoredData:setStoredData,storedData:storedData}),/*#__PURE__*/_jsx(Stage,{storedData:storedData,sheet:sheet}),showGrid&&/*#__PURE__*/_jsx(GridLine,{})]});}","map":{"version":3,"names":["studio","useState","useEffect","Stage","EditPanel","getProject","renderFontObject","renderImageObject","renderBgObject","GridLine","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Playground","initialize","project","sheet","ready","then","sequence","pause","objJson","localStorage","getItem","objData","JSON","parse","_useState","_useState2","_slicedToArray","storedData","setStoredData","length","_useState3","_useState4","showGrid","setShowGrid","_useState5","_useState6","showPanel","setShowPanel","ui","handleKeyDown","event","key","document","addEventListener","removeEventListener","children"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/page/playground.js"],"sourcesContent":["import studio from '@theatre/studio';\nimport { useState, useEffect } from 'react';\nimport Stage from '../components/stage';\nimport EditPanel from '../components/edit-panel';\nimport { getProject } from '@theatre/core';\nimport { renderFontObject, renderImageObject, renderBgObject } from '../utils';\nimport GridLine from '../components/grid-line';\n\nexport default function Playground() {\n  studio.initialize();\n  const project = getProject('Project', {});\n  const sheet = project.sheet('Scene', 'default');\n  project.ready.then(() => sheet.sequence.pause());\n\n  // get object JSON in local-storage\n  const objJson = localStorage.getItem('theatre-data');\n  const objData = objJson ? JSON.parse(objJson) : [];\n\n  const [storedData, setStoredData] = useState(objData);\n\n  useEffect(() => {\n    if (storedData.length > 0) {\n      renderFontObject(storedData, sheet);\n      renderImageObject(storedData, sheet);\n      renderBgObject(storedData, sheet);\n    }\n  }, [storedData]);\n\n  // ------------------------\n\n  const [showGrid, setShowGrid] = useState(true);\n  const [showPanel, setShowPanel] = useState(true);\n\n  studio.ui[showPanel ? 'restore' : 'hide']();\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Escape') {\n        setShowPanel(!showPanel);\n      }\n\n      if (event.key === 'g' || event.key === 'G') {\n        setShowGrid(!showGrid);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  return (\n    <>\n      <EditPanel\n        sheet={sheet}\n        setStoredData={setStoredData}\n        storedData={storedData}\n      />\n      <Stage storedData={storedData} sheet={sheet} />\n\n      {showGrid && <GridLine />}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}