{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = FullScreenVideo;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _useViewport = _interopRequireDefault(require(\"./hooks/useViewport\"));\nvar _videoItem = _interopRequireDefault(require(\"./video-item\"));\nvar _mockups = _interopRequireDefault(require(\"./mockups\"));\nvar _useMuted = require(\"./hooks/useMuted\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n *  @param {Object} opts\n *  @param {string} [opts.className]\n *  @param {string} [opts.preload='auto'] - 'auto', 'none' or 'metadata'. `preload` attribute of `video` tag.\n *  @param {boolean} [opts.muteHint=false] - if true, there is another full page to hint how to mute/unmute video.\n *  @param {Object[]} [opts.videoUrls]\n */\nfunction FullScreenVideo(_ref) {\n  let {\n    className,\n    preload = 'auto',\n    muteHint = false,\n    videoUrls,\n    voiceHint = '為確保最佳閱讀體驗，建議您開啟聲音、將載具橫放、於網路良好的環境，以最新版本瀏覽器（Chrome 108.0 / Safari 15.5 / Edge 108.0 以上）觀看本專題',\n    voiceButton = '確認',\n    isDarkMode = false\n  } = _ref;\n  const allContainerRef = (0, _react.useRef)(null);\n  const manager = (0, _useMuted.getCentralizedMutedManager)();\n  const {\n    width\n  } = (0, _useViewport.default)();\n  const [leftOffset, setLeftOffset] = (0, _react.useState)(0);\n  const [shouldShowHint, setShouldShowHint] = (0, _react.useState)(muteHint);\n  const [shownVideoIndex, setShownVideoIndex] = (0, _react.useState)(null);\n  const muted = (0, _useMuted.useMuted)(true);\n  /**\n   *  The following codes are WORKAROUND for Safari.\n   *  Problem to workaround:\n   *  In Safari, we still encounter `audio.play()` Promise rejection\n   *  even users have had interactions. The interactions, in our case, will be button clicking.\n   *\n   *  Therefore, the following logics find all Karaoke `audio` elements which has NOT been played before,\n   *  and try to `audio.play()` them.\n   *  Since this event is triggered by user clicking,\n   *  `audio.play()` will be successful without Promise rejection.\n   *  After this event finishes, Safari browser won't block `audio.play()` anymore.\n   */\n\n  const safariWorkaround = () => {\n    const otherVideos = document.querySelectorAll('video[data-readr-full-screen-video][data-played=false]');\n    otherVideos.forEach((\n    /**\n     *  @type HTMLAudioElement\n     */\n    video) => {\n      manager.updateMuted(muted);\n      const playAttempt = video.play();\n      if (playAttempt) {\n        playAttempt // play successfully\n        .then(() => {\n          // pause audio immediately\n          video.pause();\n        }) // fail to play\n        .catch(() => {// do nothing\n        });\n      }\n    });\n  };\n  (0, _react.useEffect)(() => {\n    for (let i = 0; i < videoUrls.length; i++) {\n      if (videoUrls[i].size > width) {\n        setShownVideoIndex(i);\n        break;\n      }\n    }\n    if (!shownVideoIndex) {\n      setShownVideoIndex(videoUrls.length - 1);\n    }\n  }, [width]);\n  (0, _react.useEffect)(() => {\n    // Adjust video block to cover the whole viewport (100vw)\n    const shiftLeft = function () {\n      const containerElement = allContainerRef.current;\n      if (typeof (containerElement === null || containerElement === void 0 ? void 0 : containerElement.getBoundingClientRect) === 'function') {\n        const rect = containerElement.getBoundingClientRect();\n        const leftOffset = (rect === null || rect === void 0 ? void 0 : rect.x) ?? (rect === null || rect === void 0 ? void 0 : rect.left) ?? 0;\n        setLeftOffset(leftOffset);\n      }\n    };\n    shiftLeft();\n  }, []);\n  const handleClickHintButton = () => {\n    setShouldShowHint(false);\n    safariWorkaround();\n    manager.updateMuted(false);\n  };\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [muteHint && /*#__PURE__*/(0, _jsxRuntime.jsx)(AudioBtnFixed, {\n      isMuted: muted,\n      onClick: () => {\n        manager.updateMuted(!muted);\n      },\n      children: muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {})\n    }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Container, {\n      ref: allContainerRef,\n      leftOffset: leftOffset,\n      children: [shouldShowHint && /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(HintContainer, {\n          isDarkMode: isDarkMode,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(Text, {\n            className: \"hint-text\",\n            children: voiceHint\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(Button, {\n            className: \"hint-button\",\n            onClick: handleClickHintButton,\n            children: voiceButton\n          })]\n        })\n      }), videoUrls.map((video, index) => {\n        return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"section\", {\n          children: index === shownVideoIndex && /*#__PURE__*/(0, _jsxRuntime.jsx)(_videoItem.default, {\n            className: className,\n            videoUrl: video.videoUrl,\n            setShownVideoIndex: setShownVideoIndex,\n            preload: preload,\n            muted: muted\n          })\n        }, `video_source_${index}`);\n      })]\n    })]\n  });\n}\nconst Container = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__Container\",\n  componentId: \"sc-vqgvzo-0\"\n})([\"z-index:100;position:relative;\", \"\"],\n/**\n* @param {Object} props\n* @param {number} props.leftOffset\n*/\nprops => {\n  const leftOffset = props.leftOffset;\n  return `transform: translateX(${0 - leftOffset}px);`;\n});\nconst AudioBtnFixed = _styledComponents.default.button.withConfig({\n  displayName: \"react-components__AudioBtnFixed\",\n  componentId: \"sc-vqgvzo-1\"\n})([\"position:fixed;min-width:40px;min-height:40px;border-radius:50%;border:0;top:89px;right:20px;background:#ea5f5f;display:flex;justify-content:center;align-items:center;outline:0;transition:0.5s;z-index:200;&:hover{background:#c14d4d;cursor:pointer;}svg{width:21.33px;height:17.33px;path{fill:#fff;}}@media \", \"{top:105px;}\", \"\"], _breakpoint.default.devices.tablet, props => {\n  return !props.isMuted && `\n      background: #3DC5BD;\n        &:hover {\n          background: #399E98;\n        }\n    `;\n});\nconst AudioBt = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__AudioBt\",\n  componentId: \"sc-vqgvzo-2\"\n})([\"cursor:pointer;@media \", \"{position:absolute;bottom:48px;right:48px;}\"], _breakpoint.default.devices.laptop);\nconst Text = _styledComponents.default.span.withConfig({\n  displayName: \"react-components__Text\",\n  componentId: \"sc-vqgvzo-3\"\n})([\"text-align:center;color:#000;max-width:259px;font-family:'PingFang TC';font-style:normal;font-weight:300;font-size:16px;line-height:22px;@media \", \"{font-size:20px;line-height:28px;max-width:640px;}\"], _breakpoint.default.devices.tablet);\nconst HintContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__HintContainer\",\n  componentId: \"sc-vqgvzo-4\"\n})([\"width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background-color:#fff;\", \"{margin-top:50px;& path{fill:#000;}&:hover path{fill:#7e7e7e;}}\", \"\"], AudioBt, props => props.isDarkMode && `\n      background: #000000;\n      .hint-text {\n        color: #f5f5f5;\n      }\n      .hint-button {\n        color: #FFFFFF;\n        border: 2px solid #FFFFFF;\n        background: #000;\n        &:hover {\n          background: red;\n          color: #000000;\n          background: #FFFFFF;\n        }\n      }\n      ${AudioBt} {\n        & path {\n          fill: #fff;\n        }\n        &:hover path {\n          fill: #9D9D9D;\n        }\n      }\n  `);\nconst Button = _styledComponents.default.button.withConfig({\n  displayName: \"react-components__Button\",\n  componentId: \"sc-vqgvzo-5\"\n})([\"font-family:'PingFang TC';font-style:normal;font-weight:300;font-size:16px;line-height:22px;color:#000000;padding:6.5px 14px;border:2px solid #000000;border-radius:8px;margin-top:48px;transition:0.5s;background:#fff;&:hover{background:#e9e9e9;cursor:pointer;}@media \", \"{margin-top:97px;font-size:20px;line-height:28px;}\"], _breakpoint.default.devices.tablet);","map":{"version":3,"names":["Object","defineProperty","exports","value","default","FullScreenVideo","_react","_interopRequireWildcard","require","_breakpoint","_interopRequireDefault","_styledComponents","_useViewport","_videoItem","_mockups","_useMuted","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_ref","className","preload","muteHint","videoUrls","voiceHint","voiceButton","isDarkMode","allContainerRef","useRef","manager","getCentralizedMutedManager","width","leftOffset","setLeftOffset","useState","shouldShowHint","setShouldShowHint","shownVideoIndex","setShownVideoIndex","muted","useMuted","safariWorkaround","otherVideos","document","querySelectorAll","forEach","video","updateMuted","playAttempt","play","then","pause","catch","useEffect","i","length","size","shiftLeft","containerElement","current","getBoundingClientRect","rect","x","left","handleClickHintButton","jsxs","Fragment","children","jsx","AudioBtnFixed","isMuted","onClick","audio","PausedButton","PlayingButton","Container","ref","HintContainer","Text","Button","map","index","videoUrl","div","withConfig","displayName","componentId","props","button","devices","tablet","AudioBt","laptop","span"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@readr-media/react-full-screen-video/lib/react-components/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = FullScreenVideo;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _useViewport = _interopRequireDefault(require(\"./hooks/useViewport\"));\n\nvar _videoItem = _interopRequireDefault(require(\"./video-item\"));\n\nvar _mockups = _interopRequireDefault(require(\"./mockups\"));\n\nvar _useMuted = require(\"./hooks/useMuted\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n *  @param {Object} opts\n *  @param {string} [opts.className]\n *  @param {string} [opts.preload='auto'] - 'auto', 'none' or 'metadata'. `preload` attribute of `video` tag.\n *  @param {boolean} [opts.muteHint=false] - if true, there is another full page to hint how to mute/unmute video.\n *  @param {Object[]} [opts.videoUrls]\n */\nfunction FullScreenVideo({\n  className,\n  preload = 'auto',\n  muteHint = false,\n  videoUrls,\n  voiceHint = '為確保最佳閱讀體驗，建議您開啟聲音、將載具橫放、於網路良好的環境，以最新版本瀏覽器（Chrome 108.0 / Safari 15.5 / Edge 108.0 以上）觀看本專題',\n  voiceButton = '確認',\n  isDarkMode = false\n}) {\n  const allContainerRef = (0, _react.useRef)(null);\n  const manager = (0, _useMuted.getCentralizedMutedManager)();\n  const {\n    width\n  } = (0, _useViewport.default)();\n  const [leftOffset, setLeftOffset] = (0, _react.useState)(0);\n  const [shouldShowHint, setShouldShowHint] = (0, _react.useState)(muteHint);\n  const [shownVideoIndex, setShownVideoIndex] = (0, _react.useState)(null);\n  const muted = (0, _useMuted.useMuted)(true);\n  /**\n   *  The following codes are WORKAROUND for Safari.\n   *  Problem to workaround:\n   *  In Safari, we still encounter `audio.play()` Promise rejection\n   *  even users have had interactions. The interactions, in our case, will be button clicking.\n   *\n   *  Therefore, the following logics find all Karaoke `audio` elements which has NOT been played before,\n   *  and try to `audio.play()` them.\n   *  Since this event is triggered by user clicking,\n   *  `audio.play()` will be successful without Promise rejection.\n   *  After this event finishes, Safari browser won't block `audio.play()` anymore.\n   */\n\n  const safariWorkaround = () => {\n    const otherVideos = document.querySelectorAll('video[data-readr-full-screen-video][data-played=false]');\n    otherVideos.forEach((\n    /**\n     *  @type HTMLAudioElement\n     */\n    video) => {\n      manager.updateMuted(muted);\n      const playAttempt = video.play();\n\n      if (playAttempt) {\n        playAttempt // play successfully\n        .then(() => {\n          // pause audio immediately\n          video.pause();\n        }) // fail to play\n        .catch(() => {// do nothing\n        });\n      }\n    });\n  };\n\n  (0, _react.useEffect)(() => {\n    for (let i = 0; i < videoUrls.length; i++) {\n      if (videoUrls[i].size > width) {\n        setShownVideoIndex(i);\n        break;\n      }\n    }\n\n    if (!shownVideoIndex) {\n      setShownVideoIndex(videoUrls.length - 1);\n    }\n  }, [width]);\n  (0, _react.useEffect)(() => {\n    // Adjust video block to cover the whole viewport (100vw)\n    const shiftLeft = function () {\n      const containerElement = allContainerRef.current;\n\n      if (typeof (containerElement === null || containerElement === void 0 ? void 0 : containerElement.getBoundingClientRect) === 'function') {\n        const rect = containerElement.getBoundingClientRect();\n        const leftOffset = (rect === null || rect === void 0 ? void 0 : rect.x) ?? (rect === null || rect === void 0 ? void 0 : rect.left) ?? 0;\n        setLeftOffset(leftOffset);\n      }\n    };\n\n    shiftLeft();\n  }, []);\n\n  const handleClickHintButton = () => {\n    setShouldShowHint(false);\n    safariWorkaround();\n    manager.updateMuted(false);\n  };\n\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [muteHint && /*#__PURE__*/(0, _jsxRuntime.jsx)(AudioBtnFixed, {\n      isMuted: muted,\n      onClick: () => {\n        manager.updateMuted(!muted);\n      },\n      children: muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {})\n    }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(Container, {\n      ref: allContainerRef,\n      leftOffset: leftOffset,\n      children: [shouldShowHint && /*#__PURE__*/(0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {\n        children: /*#__PURE__*/(0, _jsxRuntime.jsxs)(HintContainer, {\n          isDarkMode: isDarkMode,\n          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(Text, {\n            className: \"hint-text\",\n            children: voiceHint\n          }), /*#__PURE__*/(0, _jsxRuntime.jsx)(Button, {\n            className: \"hint-button\",\n            onClick: handleClickHintButton,\n            children: voiceButton\n          })]\n        })\n      }), videoUrls.map((video, index) => {\n        return /*#__PURE__*/(0, _jsxRuntime.jsx)(\"section\", {\n          children: index === shownVideoIndex && /*#__PURE__*/(0, _jsxRuntime.jsx)(_videoItem.default, {\n            className: className,\n            videoUrl: video.videoUrl,\n            setShownVideoIndex: setShownVideoIndex,\n            preload: preload,\n            muted: muted\n          })\n        }, `video_source_${index}`);\n      })]\n    })]\n  });\n}\n\nconst Container = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__Container\",\n  componentId: \"sc-vqgvzo-0\"\n})([\"z-index:100;position:relative;\", \"\"],\n/**\n* @param {Object} props\n* @param {number} props.leftOffset\n*/\nprops => {\n  const leftOffset = props.leftOffset;\n  return `transform: translateX(${0 - leftOffset}px);`;\n});\n\nconst AudioBtnFixed = _styledComponents.default.button.withConfig({\n  displayName: \"react-components__AudioBtnFixed\",\n  componentId: \"sc-vqgvzo-1\"\n})([\"position:fixed;min-width:40px;min-height:40px;border-radius:50%;border:0;top:89px;right:20px;background:#ea5f5f;display:flex;justify-content:center;align-items:center;outline:0;transition:0.5s;z-index:200;&:hover{background:#c14d4d;cursor:pointer;}svg{width:21.33px;height:17.33px;path{fill:#fff;}}@media \", \"{top:105px;}\", \"\"], _breakpoint.default.devices.tablet, props => {\n  return !props.isMuted && `\n      background: #3DC5BD;\n        &:hover {\n          background: #399E98;\n        }\n    `;\n});\n\nconst AudioBt = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__AudioBt\",\n  componentId: \"sc-vqgvzo-2\"\n})([\"cursor:pointer;@media \", \"{position:absolute;bottom:48px;right:48px;}\"], _breakpoint.default.devices.laptop);\n\nconst Text = _styledComponents.default.span.withConfig({\n  displayName: \"react-components__Text\",\n  componentId: \"sc-vqgvzo-3\"\n})([\"text-align:center;color:#000;max-width:259px;font-family:'PingFang TC';font-style:normal;font-weight:300;font-size:16px;line-height:22px;@media \", \"{font-size:20px;line-height:28px;max-width:640px;}\"], _breakpoint.default.devices.tablet);\n\nconst HintContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__HintContainer\",\n  componentId: \"sc-vqgvzo-4\"\n})([\"width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background-color:#fff;\", \"{margin-top:50px;& path{fill:#000;}&:hover path{fill:#7e7e7e;}}\", \"\"], AudioBt, props => props.isDarkMode && `\n      background: #000000;\n      .hint-text {\n        color: #f5f5f5;\n      }\n      .hint-button {\n        color: #FFFFFF;\n        border: 2px solid #FFFFFF;\n        background: #000;\n        &:hover {\n          background: red;\n          color: #000000;\n          background: #FFFFFF;\n        }\n      }\n      ${AudioBt} {\n        & path {\n          fill: #fff;\n        }\n        &:hover path {\n          fill: #9D9D9D;\n        }\n      }\n  `);\n\nconst Button = _styledComponents.default.button.withConfig({\n  displayName: \"react-components__Button\",\n  componentId: \"sc-vqgvzo-5\"\n})([\"font-family:'PingFang TC';font-style:normal;font-weight:300;font-size:16px;line-height:22px;color:#000000;padding:6.5px 14px;border:2px solid #000000;border-radius:8px;margin-top:48px;transition:0.5s;background:#fff;&:hover{background:#e9e9e9;cursor:pointer;}@media \", \"{margin-top:97px;font-size:20px;line-height:28px;}\"], _breakpoint.default.devices.tablet);"],"mappings":"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"},"metadata":{},"sourceType":"script"}