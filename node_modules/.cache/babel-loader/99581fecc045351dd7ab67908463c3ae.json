{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _errors = _interopRequireDefault(require(\"@twreporter/errors\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n/**\n *  @typedef {Object} SeatData\n *  @property {{label: string, seats: number}[]} parties\n */\nlet Loader = /*#__PURE__*/function () {\n  /**\n   *  @constructor\n   *  @param {Object} props\n   *  @param {string} [props.apiUrl='https://whoareyou-gcs.readr.tw']\n   *  @param {string} [props.version=v2]\n   */\n  function Loader(_ref) {\n    let {\n      apiUrl = 'https://whoareyou-gcs.readr.tw/elections',\n      version = 'v1'\n    } = _ref;\n    _classCallCheck(this, Loader);\n    _defineProperty(this, \"apiUrl\", 'https://whoareyou-gcs.readr.tw/elections');\n    _defineProperty(this, \"version\", 'v1');\n    this.apiUrl = apiUrl;\n    this.version = version === 'v1' ? '' : version;\n  }\n  /**\n   *  Load data from web service.\n   *  @param {Object} props\n   *  @param {string} props.year\n   *  @param {string} props.type\n   *  @param {string} props.filename\n   *  @throws Error\n   *  @returns {Promise<SeatData>}\n   */\n\n  _createClass(Loader, [{\n    key: \"loadData\",\n    value: async function loadData(_ref2) {\n      let {\n        year,\n        type,\n        filename\n      } = _ref2;\n      try {\n        const axiosRes = await _axios.default.get(`${this.apiUrl}/${this.version}/${year}/${type}/${filename}`);\n        return axiosRes === null || axiosRes === void 0 ? void 0 : axiosRes.data;\n      } catch (err) {\n        const annotatedErr = _errors.default.helpers.annotateAxiosError(err);\n        throw annotatedErr;\n      }\n    }\n    /**\n     *  Load data from web service.\n     *  @param {Object} props\n     *  @param {string} props.year\n     *  @param {string} props.countyCode - county code, see `Loader.countyCodes` for more info\n     *  @throws Error\n     *  @returns {Promise<SeatData>}\n     */\n  }, {\n    key: \"loadCouncilMemberData\",\n    value: function loadCouncilMemberData(_ref3) {\n      let {\n        year,\n        countyCode\n      } = _ref3;\n      return this.loadData({\n        type: 'councilMember',\n        year,\n        filename: `seat/county/${countyCode}.json`\n      });\n    }\n  }]);\n  return Loader;\n}();\nexports.default = Loader;\nLoader.electionTypes = ['councilMember' // 縣市議員\n];\n\nLoader.electionYears = ['2014', '2018', '2022'];\nLoader.countyCodes = ['09007',\n// 連江縣\n'09020',\n// 金門縣\n'10002',\n// 宜蘭縣\n'10004',\n// 新竹縣\n'10005',\n// 苗栗縣\n'10007',\n// 彰化縣\n'10008',\n// 南投縣\n'10009',\n// 雲林縣\n'10010',\n// 嘉義縣\n'10013',\n// 屏東縣\n'10014',\n// 台東縣\n'10015',\n// 花蓮縣\n'10016',\n// 澎湖縣\n'10017',\n// 基隆市\n'10018',\n// 新竹市\n'10020',\n// 嘉義市\n'63000',\n// 台北市\n'64000',\n// 高雄市\n'65000',\n// 新北市\n'66000',\n// 台中市\n'67000',\n// 台南市\n'68000' // 桃園市\n];","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_axios","_interopRequireDefault","require","_errors","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_defineProperty","Loader","_ref","apiUrl","version","loadData","_ref2","year","type","filename","axiosRes","get","data","err","annotatedErr","helpers","annotateAxiosError","loadCouncilMemberData","_ref3","countyCode","electionTypes","electionYears","countyCodes"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@readr-media/react-election-widgets/lib/seat-chart/data-loader.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _errors = _interopRequireDefault(require(\"@twreporter/errors\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n *  @typedef {Object} SeatData\n *  @property {{label: string, seats: number}[]} parties\n */\nlet Loader = /*#__PURE__*/function () {\n  /**\n   *  @constructor\n   *  @param {Object} props\n   *  @param {string} [props.apiUrl='https://whoareyou-gcs.readr.tw']\n   *  @param {string} [props.version=v2]\n   */\n  function Loader({\n    apiUrl = 'https://whoareyou-gcs.readr.tw/elections',\n    version = 'v1'\n  }) {\n    _classCallCheck(this, Loader);\n\n    _defineProperty(this, \"apiUrl\", 'https://whoareyou-gcs.readr.tw/elections');\n\n    _defineProperty(this, \"version\", 'v1');\n\n    this.apiUrl = apiUrl;\n    this.version = version === 'v1' ? '' : version;\n  }\n  /**\n   *  Load data from web service.\n   *  @param {Object} props\n   *  @param {string} props.year\n   *  @param {string} props.type\n   *  @param {string} props.filename\n   *  @throws Error\n   *  @returns {Promise<SeatData>}\n   */\n\n\n  _createClass(Loader, [{\n    key: \"loadData\",\n    value: async function loadData({\n      year,\n      type,\n      filename\n    }) {\n      try {\n        const axiosRes = await _axios.default.get(`${this.apiUrl}/${this.version}/${year}/${type}/${filename}`);\n        return axiosRes === null || axiosRes === void 0 ? void 0 : axiosRes.data;\n      } catch (err) {\n        const annotatedErr = _errors.default.helpers.annotateAxiosError(err);\n\n        throw annotatedErr;\n      }\n    }\n    /**\n     *  Load data from web service.\n     *  @param {Object} props\n     *  @param {string} props.year\n     *  @param {string} props.countyCode - county code, see `Loader.countyCodes` for more info\n     *  @throws Error\n     *  @returns {Promise<SeatData>}\n     */\n\n  }, {\n    key: \"loadCouncilMemberData\",\n    value: function loadCouncilMemberData({\n      year,\n      countyCode\n    }) {\n      return this.loadData({\n        type: 'councilMember',\n        year,\n        filename: `seat/county/${countyCode}.json`\n      });\n    }\n  }]);\n\n  return Loader;\n}();\n\nexports.default = Loader;\nLoader.electionTypes = ['councilMember' // 縣市議員\n];\nLoader.electionYears = ['2014', '2018', '2022'];\nLoader.countyCodes = ['09007', // 連江縣\n'09020', // 金門縣\n'10002', // 宜蘭縣\n'10004', // 新竹縣\n'10005', // 苗栗縣\n'10007', // 彰化縣\n'10008', // 南投縣\n'10009', // 雲林縣\n'10010', // 嘉義縣\n'10013', // 屏東縣\n'10014', // 台東縣\n'10015', // 花蓮縣\n'10016', // 澎湖縣\n'10017', // 基隆市\n'10018', // 新竹市\n'10020', // 嘉義市\n'63000', // 台北市\n'64000', // 高雄市\n'65000', // 新北市\n'66000', // 台中市\n'67000', // 台南市\n'68000' // 桃園市\n];"],"mappings":"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"},"metadata":{},"sourceType":"script"}