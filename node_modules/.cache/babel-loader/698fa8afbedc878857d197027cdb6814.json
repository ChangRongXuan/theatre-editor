{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import studio from'@theatre/studio';import{useState,useEffect}from'react';import Stage from'../components/stage';import EditPanel from'../components/edit-panel';import{getProject}from'@theatre/core';import GridLine from'../components/grid-line';import RangeSlider from'../components/range-slider';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditArea=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 100vh;\\n  position: relative;\\n  outline: 2px solid #29e2f3;\\n  margin: auto;\\n\"])));export default function Playground(){// Theatre.js initialize\nstudio.initialize();var project=getProject('Project',{});var sheet=project.sheet('Scene','default');project.ready.then(function(){return sheet.sequence.pause();});// Get objectJSON in local-storage\nvar initialObjJson=localStorage.getItem('theatre-data');var initialObjData=initialObjJson?JSON.parse(initialObjJson):[];var _useState=useState(initialObjData),_useState2=_slicedToArray(_useState,2),objData=_useState2[0],setObjData=_useState2[1];// Grid & Panel: keyboard shortcut setting\nvar _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showGrid=_useState4[0],setShowGrid=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showPanel=_useState6[0],setShowPanel=_useState6[1];studio.ui[showPanel?'restore':'hide']();useEffect(function(){var handleKeyDown=function handleKeyDown(event){if(event.key==='Escape'){setShowPanel(!showPanel);}if(event.key==='Backquote'||event.key==='`'){setShowGrid(!showGrid);}};document.addEventListener('keydown',handleKeyDown);return function(){document.removeEventListener('keydown',handleKeyDown);};});// ------------------------\nvar _useState7=useState(window.innerWidth),_useState8=_slicedToArray(_useState7,2),rangeSliderValue=_useState8[0],setRangeSliderValue=_useState8[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[showPanel&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(EditPanel,{sheet:sheet,setObjData:setObjData,objData:objData}),/*#__PURE__*/_jsx(RangeSlider,{setSliderValue:setRangeSliderValue,sliderValue:rangeSliderValue})]}),/*#__PURE__*/_jsxs(EditArea,{style:{maxWidth:rangeSliderValue},children:[/*#__PURE__*/_jsx(Stage,{objData:objData,sheet:sheet,stageWidth:rangeSliderValue}),showGrid&&/*#__PURE__*/_jsx(GridLine,{})]})]});}","map":{"version":3,"names":["studio","useState","useEffect","Stage","EditPanel","getProject","GridLine","RangeSlider","styled","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EditArea","div","_templateObject","_taggedTemplateLiteral","Playground","initialize","project","sheet","ready","then","sequence","pause","initialObjJson","localStorage","getItem","initialObjData","JSON","parse","_useState","_useState2","_slicedToArray","objData","setObjData","_useState3","_useState4","showGrid","setShowGrid","_useState5","_useState6","showPanel","setShowPanel","ui","handleKeyDown","event","key","document","addEventListener","removeEventListener","_useState7","window","innerWidth","_useState8","rangeSliderValue","setRangeSliderValue","children","setSliderValue","sliderValue","style","maxWidth","stageWidth"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/page/playground.js"],"sourcesContent":["import studio from '@theatre/studio';\nimport { useState, useEffect } from 'react';\nimport Stage from '../components/stage';\nimport EditPanel from '../components/edit-panel';\nimport { getProject } from '@theatre/core';\n\nimport GridLine from '../components/grid-line';\nimport RangeSlider from '../components/range-slider';\nimport styled from 'styled-components';\n\nconst EditArea = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  outline: 2px solid #29e2f3;\n  margin: auto;\n`;\n\nexport default function Playground() {\n  // Theatre.js initialize\n  studio.initialize();\n  const project = getProject('Project', {});\n  const sheet = project.sheet('Scene', 'default');\n  project.ready.then(() => sheet.sequence.pause());\n\n  // Get objectJSON in local-storage\n  const initialObjJson = localStorage.getItem('theatre-data');\n  const initialObjData = initialObjJson ? JSON.parse(initialObjJson) : [];\n\n  const [objData, setObjData] = useState(initialObjData);\n\n  // Grid & Panel: keyboard shortcut setting\n  const [showGrid, setShowGrid] = useState(true);\n  const [showPanel, setShowPanel] = useState(true);\n\n  studio.ui[showPanel ? 'restore' : 'hide']();\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Escape') {\n        setShowPanel(!showPanel);\n      }\n      if (event.key === 'Backquote' || event.key === '`') {\n        setShowGrid(!showGrid);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  // ------------------------\n\n  const [rangeSliderValue, setRangeSliderValue] = useState(window.innerWidth);\n\n  return (\n    <>\n      {showPanel && (\n        <>\n          <EditPanel sheet={sheet} setObjData={setObjData} objData={objData} />\n          <RangeSlider\n            setSliderValue={setRangeSliderValue}\n            sliderValue={rangeSliderValue}\n          />\n        </>\n      )}\n\n      <EditArea style={{ maxWidth: rangeSliderValue }}>\n        <Stage objData={objData} sheet={sheet} stageWidth={rangeSliderValue} />\n        {showGrid && <GridLine />}\n      </EditArea>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}