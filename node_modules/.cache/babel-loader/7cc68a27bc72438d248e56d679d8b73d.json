{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Karaoke;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _quoteShadow = _interopRequireDefault(require(\"./quote-shadow\"));\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\nvar _mockups = _interopRequireDefault(require(\"./mockups\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _reactIntersectionObserver = require(\"react-intersection-observer\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\n\n/**\n * @type {import('./typedef').KaraokeStyles}\n */\nconst defaultStyles = {\n  mobile: {\n    background: {\n      color: '#fff'\n    },\n    font: {\n      color: 'rgba(0,0,0,40%)',\n      size: '16px',\n      weight: '700'\n    },\n    lineHeight: '180%',\n    textAlign: 'center',\n    transitioned: {\n      font: {\n        color: '#000'\n      }\n    },\n    image: {\n      width: 'auto',\n      height: 'auto',\n      position: 'left'\n    }\n  },\n  tablet: {\n    background: {\n      color: '#fff'\n    },\n    font: {\n      color: 'rgba(0,0,0,40%)',\n      size: '28px',\n      weight: '700'\n    },\n    lineHeight: '180%',\n    textAlign: 'center',\n    transitioned: {\n      font: {\n        color: '#000'\n      }\n    },\n    image: {\n      width: 'auto',\n      height: 'auto',\n      position: 'left'\n    }\n  }\n};\n/**\n * This hook is used to record the mute status in the whole web page.\n * It's useful when there are multiple `Karaoke`s in the same web page.\n * If the user has clicked mute button in one `Karaoke` component,\n * we should mute all the rest audios as well.\n *\n * @param {boolean} initialValue\n * @return {[boolean, Function]}\n */\n\nfunction useMuted() {\n  let initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const [muted, _setMuted] = (0, _react.useState)(initialValue);\n  (0, _react.useEffect)(() => {\n    var _window, _window$__readr_react;\n    const _muted = (_window = window) === null || _window === void 0 ? void 0 : (_window$__readr_react = _window['__readr_react_karaoke']) === null || _window$__readr_react === void 0 ? void 0 : _window$__readr_react.muted;\n    if (typeof _muted === 'boolean') {\n      _setMuted(_muted);\n    }\n  });\n  const setMuted = _muted => {\n    window['__readr_react_karaoke'] = {\n      muted: _muted\n    };\n    _setMuted(_muted);\n  };\n  return [muted, setMuted];\n}\n/**\n *  @typedef {Object} KaraokeProps\n *  @property {import('./typedef').KaraokeStyles} [styles]\n *  @property {string[]} audioUrls,\n *  @property {string} [className]\n *  @property {string} [preload='auto'] - 'auto', 'none' or 'metadata'. `preload` attribute of `audio` tag.\n *  @property {string[]} textArr - quote text\n *  @property {string} [imgSrc]\n *  @property {boolean} [muteHint=false] - if true, there is another full page to hint how to mute/unmute audio.\n */\n\n/**\n *  @param {KaraokeProps} props\n */\n\nfunction Karaoke(_ref) {\n  let {\n    audioUrls,\n    className,\n    preload = 'auto',\n    styles = defaultStyles,\n    textArr,\n    imgSrc = '',\n    muteHint = false\n  } = _ref;\n  const defaultDuration = 10; // second\n\n  const audioRef = (0, _react.useRef)(null);\n  const [muted, setMuted] = useMuted(true);\n  const [containerRef, inView] = (0, _reactIntersectionObserver.useInView)({\n    threshold: [0.6]\n  });\n  const [audioOpts, setAudioOpts] = (0, _react.useState)({\n    paused: !inView,\n    duration: defaultDuration,\n    currentTime: 0,\n    notice: ''\n  });\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n    const onLoadedMetadata = () => {\n      setAudioOpts(opts => {\n        return Object.assign({}, opts, {\n          duration: audio.duration || defaultDuration\n        });\n      });\n    };\n    if (audio) {\n      audio.addEventListener('loadedmetadata', onLoadedMetadata);\n    } // clear event listeners\n\n    return () => {\n      audio.removeEventListener('loadedmetadata', onLoadedMetadata);\n    };\n  }, []);\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n    if (!audio) {\n      return;\n    } // set audio muted attribute according to browser muted state\n\n    audio.muted = muted;\n  }, [muted]);\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n    if (!audio) {\n      return;\n    } // in the viewport\n\n    if (inView) {\n      // start with `audioOpts.currentTime` to catch up `QuoteShadow` animation\n      audio.currentTime = audioOpts.currentTime;\n      const startPlayPromise = audio.play();\n      startPlayPromise // play successfully\n      .then(() => {\n        setAudioOpts(opts => Object.assign({}, opts, {\n          // clear notice\n          notice: ''\n        }));\n      }) // fail to play\n      .catch(error => {\n        // browser prevent from playing audio before user interactions\n        if (error.name === 'NotAllowedError') {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            notice: '請點選聲音播放鍵'\n          }));\n        } else {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            notice: '無法播放音檔，請重新整理頁面'\n          }));\n        }\n      });\n    } else {\n      // leave the viewport\n      audio.pause();\n    }\n    setAudioOpts(opts => Object.assign({}, opts, {\n      paused: !inView\n    }));\n  },\n  // `inView` is used to avoid from infinite re-rendering.\n  // `muted` is avoid state not changed due to closure.\n  [inView]);\n  /**\n   *  The following codes are WORKAROUND for Safari.\n   *  Problem to workaround:\n   *  In Safari, we still encounter `audio.play()` Promise rejection\n   *  even users have had interactions. The interactions, in our case, will be button clicking.\n   *\n   *  Therefore, the following logics find all Karaoke `audio` elements which has NOT been played before,\n   *  and try to `audio.play()` them.\n   *  Since this event is triggered by user clicking,\n   *  `audio.play()` will be successful without Promise rejection.\n   *  After this event finishes, Safari browser won't block `audio.play()` anymore.\n   */\n\n  const safariWorkaround = () => {\n    const otherAudios = document.querySelectorAll('audio[data-readr-karaoke][data-played=false]');\n    otherAudios.forEach((\n    /**\n     *  @type HTMLAudioElement\n     */\n    audio) => {\n      audio.muted = true;\n      const playAttempt = audio.play();\n      if (playAttempt) {\n        playAttempt // play successfully\n        .then(() => {\n          // pause audio immediately\n          audio.pause();\n        }) // fail to play\n        .catch(() => {// do nothing\n        });\n      }\n    });\n  };\n  const hintAudioBtJsx = /*#__PURE__*/(0, _jsxRuntime.jsx)(AudioBt, {\n    onClick: () => {\n      const audio = audioRef.current;\n      if (audio) {\n        setMuted(!muted);\n      }\n      safariWorkaround();\n    },\n    children: muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {})\n  });\n  const audioBtJsx = /*#__PURE__*/(0, _jsxRuntime.jsxs)(AudioBt, {\n    onClick: () => {\n      const audio = audioRef.current;\n      if (audio) {\n        if (muted || audioOpts.paused) {\n          audio.currentTime = audioOpts.currentTime;\n          audio.muted = false;\n          audio.play();\n          setMuted(false);\n          setAudioOpts(opts => Object.assign({}, opts, {\n            paused: false,\n            notice: ''\n          }));\n        } else {\n          audio.pause();\n          setMuted(true);\n          setAudioOpts(opts => Object.assign({}, opts, {\n            paused: true,\n            notice: ''\n          }));\n        }\n        audio.setAttribute('data-played', true);\n      }\n      safariWorkaround();\n    },\n    children: [audioOpts.paused || muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {}), audioOpts.notice && /*#__PURE__*/(0, _jsxRuntime.jsx)(\"span\", {\n      children: audioOpts.notice\n    })]\n  });\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [muteHint && /*#__PURE__*/(0, _jsxRuntime.jsxs)(HintContainer, {\n      children: [hintAudioBtJsx, /*#__PURE__*/(0, _jsxRuntime.jsxs)(Text, {\n        children: [\"\\u6B64\\u65B0\\u805E\\u5C08\\u984C\\u7DB2\\u9801\\u5305\\u542B\\u8072\\u97F3\\uFF0C\\u9EDE\\u64CA\", /*#__PURE__*/(0, _jsxRuntime.jsx)(\"b\", {\n          children: \"\\u958B\\u555F\"\n        })]\n      })]\n    }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(QuoteContainer, {\n      className: className,\n      ref: containerRef,\n      styles: styles,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"audio\", {\n        ref: audioRef,\n        preload: preload,\n        \"data-readr-karaoke\": true,\n        \"data-played\": false,\n        children: audioUrls.map((url, index) => /*#__PURE__*/(0, _jsxRuntime.jsx)(\"source\", {\n          src: url\n        }, `audio_source_${index}`))\n      }), imgSrc && /*#__PURE__*/(0, _jsxRuntime.jsx)(Img, {\n        src: imgSrc,\n        styles: styles\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(QuoteShadow, {\n        textArr: textArr,\n        play: !audioOpts.paused,\n        duration: audioOpts.duration,\n        styles: styles,\n        onCurrentTimeUpdate: currentTime => {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            currentTime\n          }));\n        }\n      }, `quote_in_view_${inView}`\n      /** use key to force re-rendering */), audioBtJsx]\n    })]\n  });\n}\nconst AudioBt = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__AudioBt\",\n  componentId: \"sc-1eappi4-0\"\n})([\"cursor:pointer;\"]);\nconst Text = _styledComponents.default.span.withConfig({\n  displayName: \"react-components__Text\",\n  componentId: \"sc-1eappi4-1\"\n})([\"font-weight:400;font-size:12px;line-height:180%;text-align:center;color:#000;@media \", \"{font-size:20px;}\"], _breakpoint.default.devices.tablet);\nconst HintContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__HintContainer\",\n  componentId: \"sc-1eappi4-2\"\n})([\"width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background-color:#fff;\", \"{margin-bottom:10px;& path{fill:#000;}}\"], AudioBt);\nconst Img = _styledComponents.default.img.withConfig({\n  displayName: \"react-components__Img\",\n  componentId: \"sc-1eappi4-3\"\n})([\"\", \"\"],\n/**\n*  @param {Object} props\n*  @param {import('./typedef').KaraokeStyles} props.styles\n*/\nprops => `\n      width: ${props.styles.mobile.image.width};\n      heigth: ${props.styles.mobile.image.height};\n      max-width: 100vw;\n\n      @media ${_breakpoint.default.devices.tablet} {\n        max-width: 50vw;\n      }\n    `);\nconst QuoteShadow = (0, _styledComponents.default)(_quoteShadow.default).withConfig({\n  displayName: \"react-components__QuoteShadow\",\n  componentId: \"sc-1eappi4-4\"\n})([\"width:calc(261 / 320 * 100%);@media \", \"{width:calc(800 / 1440 * 100%);}\"], _breakpoint.default.devices.tablet);\nconst QuoteContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__QuoteContainer\",\n  componentId: \"sc-1eappi4-5\"\n})([\"position:relative;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:\", \";@media \", \"{flex-direction:row;}\", \"{left:12px;bottom:12px;position:absolute;cursor:pointer;@media \", \"{left:27px;bottom:22px;}}\"],\n/**\n*  @param {Object} props\n*  @param {import('./typedef').KaraokeStyles} props.styles\n*/\nprops => props.styles.mobile.background.color, _breakpoint.default.devices.tablet, AudioBt, _breakpoint.default.devices.tablet);","map":{"version":3,"names":["Object","defineProperty","exports","value","default","Karaoke","_react","_interopRequireWildcard","require","_quoteShadow","_interopRequireDefault","_breakpoint","_mockups","_styledComponents","_reactIntersectionObserver","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","defaultStyles","mobile","background","color","font","size","weight","lineHeight","textAlign","transitioned","image","width","height","position","tablet","useMuted","initialValue","arguments","length","undefined","muted","_setMuted","useState","useEffect","_window","_window$__readr_react","_muted","window","setMuted","_ref","audioUrls","className","preload","styles","textArr","imgSrc","muteHint","defaultDuration","audioRef","useRef","containerRef","inView","useInView","threshold","audioOpts","setAudioOpts","paused","duration","currentTime","notice","audio","current","onLoadedMetadata","opts","assign","addEventListener","removeEventListener","startPlayPromise","play","then","catch","error","name","pause","safariWorkaround","otherAudios","document","querySelectorAll","forEach","playAttempt","hintAudioBtJsx","jsx","AudioBt","onClick","children","PausedButton","PlayingButton","audioBtJsx","jsxs","setAttribute","Fragment","HintContainer","Text","QuoteContainer","ref","map","url","index","src","Img","QuoteShadow","onCurrentTimeUpdate","div","withConfig","displayName","componentId","span","devices","img","props"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@readr-media/react-karaoke/lib/react-components/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Karaoke;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _quoteShadow = _interopRequireDefault(require(\"./quote-shadow\"));\n\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\n\nvar _mockups = _interopRequireDefault(require(\"./mockups\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _reactIntersectionObserver = require(\"react-intersection-observer\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * @type {import('./typedef').KaraokeStyles}\n */\nconst defaultStyles = {\n  mobile: {\n    background: {\n      color: '#fff'\n    },\n    font: {\n      color: 'rgba(0,0,0,40%)',\n      size: '16px',\n      weight: '700'\n    },\n    lineHeight: '180%',\n    textAlign: 'center',\n    transitioned: {\n      font: {\n        color: '#000'\n      }\n    },\n    image: {\n      width: 'auto',\n      height: 'auto',\n      position: 'left'\n    }\n  },\n  tablet: {\n    background: {\n      color: '#fff'\n    },\n    font: {\n      color: 'rgba(0,0,0,40%)',\n      size: '28px',\n      weight: '700'\n    },\n    lineHeight: '180%',\n    textAlign: 'center',\n    transitioned: {\n      font: {\n        color: '#000'\n      }\n    },\n    image: {\n      width: 'auto',\n      height: 'auto',\n      position: 'left'\n    }\n  }\n};\n/**\n * This hook is used to record the mute status in the whole web page.\n * It's useful when there are multiple `Karaoke`s in the same web page.\n * If the user has clicked mute button in one `Karaoke` component,\n * we should mute all the rest audios as well.\n *\n * @param {boolean} initialValue\n * @return {[boolean, Function]}\n */\n\nfunction useMuted(initialValue = false) {\n  const [muted, _setMuted] = (0, _react.useState)(initialValue);\n  (0, _react.useEffect)(() => {\n    var _window, _window$__readr_react;\n\n    const _muted = (_window = window) === null || _window === void 0 ? void 0 : (_window$__readr_react = _window['__readr_react_karaoke']) === null || _window$__readr_react === void 0 ? void 0 : _window$__readr_react.muted;\n\n    if (typeof _muted === 'boolean') {\n      _setMuted(_muted);\n    }\n  });\n\n  const setMuted = _muted => {\n    window['__readr_react_karaoke'] = {\n      muted: _muted\n    };\n\n    _setMuted(_muted);\n  };\n\n  return [muted, setMuted];\n}\n/**\n *  @typedef {Object} KaraokeProps\n *  @property {import('./typedef').KaraokeStyles} [styles]\n *  @property {string[]} audioUrls,\n *  @property {string} [className]\n *  @property {string} [preload='auto'] - 'auto', 'none' or 'metadata'. `preload` attribute of `audio` tag.\n *  @property {string[]} textArr - quote text\n *  @property {string} [imgSrc]\n *  @property {boolean} [muteHint=false] - if true, there is another full page to hint how to mute/unmute audio.\n */\n\n/**\n *  @param {KaraokeProps} props\n */\n\n\nfunction Karaoke({\n  audioUrls,\n  className,\n  preload = 'auto',\n  styles = defaultStyles,\n  textArr,\n  imgSrc = '',\n  muteHint = false\n}) {\n  const defaultDuration = 10; // second\n\n  const audioRef = (0, _react.useRef)(null);\n  const [muted, setMuted] = useMuted(true);\n  const [containerRef, inView] = (0, _reactIntersectionObserver.useInView)({\n    threshold: [0.6]\n  });\n  const [audioOpts, setAudioOpts] = (0, _react.useState)({\n    paused: !inView,\n    duration: defaultDuration,\n    currentTime: 0,\n    notice: ''\n  });\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n\n    const onLoadedMetadata = () => {\n      setAudioOpts(opts => {\n        return Object.assign({}, opts, {\n          duration: audio.duration || defaultDuration\n        });\n      });\n    };\n\n    if (audio) {\n      audio.addEventListener('loadedmetadata', onLoadedMetadata);\n    } // clear event listeners\n\n\n    return () => {\n      audio.removeEventListener('loadedmetadata', onLoadedMetadata);\n    };\n  }, []);\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n\n    if (!audio) {\n      return;\n    } // set audio muted attribute according to browser muted state\n\n\n    audio.muted = muted;\n  }, [muted]);\n  (0, _react.useEffect)(() => {\n    const audio = audioRef.current;\n\n    if (!audio) {\n      return;\n    } // in the viewport\n\n\n    if (inView) {\n      // start with `audioOpts.currentTime` to catch up `QuoteShadow` animation\n      audio.currentTime = audioOpts.currentTime;\n      const startPlayPromise = audio.play();\n      startPlayPromise // play successfully\n      .then(() => {\n        setAudioOpts(opts => Object.assign({}, opts, {\n          // clear notice\n          notice: ''\n        }));\n      }) // fail to play\n      .catch(error => {\n        // browser prevent from playing audio before user interactions\n        if (error.name === 'NotAllowedError') {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            notice: '請點選聲音播放鍵'\n          }));\n        } else {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            notice: '無法播放音檔，請重新整理頁面'\n          }));\n        }\n      });\n    } else {\n      // leave the viewport\n      audio.pause();\n    }\n\n    setAudioOpts(opts => Object.assign({}, opts, {\n      paused: !inView\n    }));\n  }, // `inView` is used to avoid from infinite re-rendering.\n  // `muted` is avoid state not changed due to closure.\n  [inView]);\n  /**\n   *  The following codes are WORKAROUND for Safari.\n   *  Problem to workaround:\n   *  In Safari, we still encounter `audio.play()` Promise rejection\n   *  even users have had interactions. The interactions, in our case, will be button clicking.\n   *\n   *  Therefore, the following logics find all Karaoke `audio` elements which has NOT been played before,\n   *  and try to `audio.play()` them.\n   *  Since this event is triggered by user clicking,\n   *  `audio.play()` will be successful without Promise rejection.\n   *  After this event finishes, Safari browser won't block `audio.play()` anymore.\n   */\n\n  const safariWorkaround = () => {\n    const otherAudios = document.querySelectorAll('audio[data-readr-karaoke][data-played=false]');\n    otherAudios.forEach((\n    /**\n     *  @type HTMLAudioElement\n     */\n    audio) => {\n      audio.muted = true;\n      const playAttempt = audio.play();\n\n      if (playAttempt) {\n        playAttempt // play successfully\n        .then(() => {\n          // pause audio immediately\n          audio.pause();\n        }) // fail to play\n        .catch(() => {// do nothing\n        });\n      }\n    });\n  };\n\n  const hintAudioBtJsx = /*#__PURE__*/(0, _jsxRuntime.jsx)(AudioBt, {\n    onClick: () => {\n      const audio = audioRef.current;\n\n      if (audio) {\n        setMuted(!muted);\n      }\n\n      safariWorkaround();\n    },\n    children: muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {})\n  });\n  const audioBtJsx = /*#__PURE__*/(0, _jsxRuntime.jsxs)(AudioBt, {\n    onClick: () => {\n      const audio = audioRef.current;\n\n      if (audio) {\n        if (muted || audioOpts.paused) {\n          audio.currentTime = audioOpts.currentTime;\n          audio.muted = false;\n          audio.play();\n          setMuted(false);\n          setAudioOpts(opts => Object.assign({}, opts, {\n            paused: false,\n            notice: ''\n          }));\n        } else {\n          audio.pause();\n          setMuted(true);\n          setAudioOpts(opts => Object.assign({}, opts, {\n            paused: true,\n            notice: ''\n          }));\n        }\n\n        audio.setAttribute('data-played', true);\n      }\n\n      safariWorkaround();\n    },\n    children: [audioOpts.paused || muted ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PausedButton, {}) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_mockups.default.audio.PlayingButton, {}), audioOpts.notice && /*#__PURE__*/(0, _jsxRuntime.jsx)(\"span\", {\n      children: audioOpts.notice\n    })]\n  });\n  return /*#__PURE__*/(0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [muteHint && /*#__PURE__*/(0, _jsxRuntime.jsxs)(HintContainer, {\n      children: [hintAudioBtJsx, /*#__PURE__*/(0, _jsxRuntime.jsxs)(Text, {\n        children: [\"\\u6B64\\u65B0\\u805E\\u5C08\\u984C\\u7DB2\\u9801\\u5305\\u542B\\u8072\\u97F3\\uFF0C\\u9EDE\\u64CA\", /*#__PURE__*/(0, _jsxRuntime.jsx)(\"b\", {\n          children: \"\\u958B\\u555F\"\n        })]\n      })]\n    }), /*#__PURE__*/(0, _jsxRuntime.jsxs)(QuoteContainer, {\n      className: className,\n      ref: containerRef,\n      styles: styles,\n      children: [/*#__PURE__*/(0, _jsxRuntime.jsx)(\"audio\", {\n        ref: audioRef,\n        preload: preload,\n        \"data-readr-karaoke\": true,\n        \"data-played\": false,\n        children: audioUrls.map((url, index) => /*#__PURE__*/(0, _jsxRuntime.jsx)(\"source\", {\n          src: url\n        }, `audio_source_${index}`))\n      }), imgSrc && /*#__PURE__*/(0, _jsxRuntime.jsx)(Img, {\n        src: imgSrc,\n        styles: styles\n      }), /*#__PURE__*/(0, _jsxRuntime.jsx)(QuoteShadow, {\n        textArr: textArr,\n        play: !audioOpts.paused,\n        duration: audioOpts.duration,\n        styles: styles,\n        onCurrentTimeUpdate: currentTime => {\n          setAudioOpts(opts => Object.assign({}, opts, {\n            currentTime\n          }));\n        }\n      }, `quote_in_view_${inView}`\n      /** use key to force re-rendering */\n      ), audioBtJsx]\n    })]\n  });\n}\n\nconst AudioBt = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__AudioBt\",\n  componentId: \"sc-1eappi4-0\"\n})([\"cursor:pointer;\"]);\n\nconst Text = _styledComponents.default.span.withConfig({\n  displayName: \"react-components__Text\",\n  componentId: \"sc-1eappi4-1\"\n})([\"font-weight:400;font-size:12px;line-height:180%;text-align:center;color:#000;@media \", \"{font-size:20px;}\"], _breakpoint.default.devices.tablet);\n\nconst HintContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__HintContainer\",\n  componentId: \"sc-1eappi4-2\"\n})([\"width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;background-color:#fff;\", \"{margin-bottom:10px;& path{fill:#000;}}\"], AudioBt);\n\nconst Img = _styledComponents.default.img.withConfig({\n  displayName: \"react-components__Img\",\n  componentId: \"sc-1eappi4-3\"\n})([\"\", \"\"],\n/**\n*  @param {Object} props\n*  @param {import('./typedef').KaraokeStyles} props.styles\n*/\nprops => `\n      width: ${props.styles.mobile.image.width};\n      heigth: ${props.styles.mobile.image.height};\n      max-width: 100vw;\n\n      @media ${_breakpoint.default.devices.tablet} {\n        max-width: 50vw;\n      }\n    `);\n\nconst QuoteShadow = (0, _styledComponents.default)(_quoteShadow.default).withConfig({\n  displayName: \"react-components__QuoteShadow\",\n  componentId: \"sc-1eappi4-4\"\n})([\"width:calc(261 / 320 * 100%);@media \", \"{width:calc(800 / 1440 * 100%);}\"], _breakpoint.default.devices.tablet);\n\nconst QuoteContainer = _styledComponents.default.div.withConfig({\n  displayName: \"react-components__QuoteContainer\",\n  componentId: \"sc-1eappi4-5\"\n})([\"position:relative;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:\", \";@media \", \"{flex-direction:row;}\", \"{left:12px;bottom:12px;position:absolute;cursor:pointer;@media \", \"{left:27px;bottom:22px;}}\"],\n/**\n*  @param {Object} props\n*  @param {import('./typedef').KaraokeStyles} props.styles\n*/\nprops => props.styles.mobile.background.color, _breakpoint.default.devices.tablet, AudioBt, _breakpoint.default.devices.tablet);"],"mappings":"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"},"metadata":{},"sourceType":"script"}