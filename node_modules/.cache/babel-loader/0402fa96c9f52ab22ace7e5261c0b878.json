{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useState}from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"])));var Form=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: white;\\n  border: 10px;\\n  padding: 10px 30px 30px;\\n  outline: 3px solid black;\\n  display: flex;\\n\\n  textarea {\\n    width: 100%;\\n    height: 100px;\\n    margin-bottom: 10px;\\n  }\\n\\n  button {\\n    padding: 10px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));var Block=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin: 0 30px;\\n  width: 400px;\\n\"])));export default function JSONLightBox(_ref){var setShowJSONLightBox=_ref.setShowJSONLightBox,animateJSON=_ref.animateJSON,objData=_ref.objData,setObjData=_ref.setObjData;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputObj=_useState2[0],setInputObj=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),inputAnimate=_useState4[0],setInputAnimate=_useState4[1];return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Block,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" JSON \\u8CC7\\u6599 (Read only) \"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5143\\u4EF6 JSON\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u5143\\u4EF6JSON\",value:JSON.stringify(objData),readOnly:true}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u52D5\\u756B JSON\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u52D5\\u756BJSON\",value:JSON.stringify(animateJSON),readOnly:true})]}),/*#__PURE__*/_jsxs(Block,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Edit JSON \"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u5143\\u4EF6 JSON\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8CBC\\u4E0A\\u8981\\u8B80\\u53D6\\u7684\\u5143\\u4EF6JSON\",value:inputObj,onChange:function onChange(e){return setInputObj(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u52D5\\u756B JSON\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u8CBC\\u4E0A\\u8981\\u8B80\\u53D6\\u7684\\u52D5\\u756BJSON\",value:inputAnimate,onChange:function onChange(e){return setInputAnimate(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setShowJSONLightBox(false);},children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){//更新 object storage 資料（自動記憶）\nlocalStorage.setItem('theatre-data',inputObj);//把 render 資料換成 inputObj，讓畫面直接更新\nsetObjData(JSON.parse(inputObj));//更新 state 資料（自動記憶）\nvar animate=localStorage.getItem('theatre-0.4.persistent');var animateData=JSON.parse(animate);var inputAnimateData=JSON.parse(inputAnimate);if(inputAnimateData){animateData.historic.innerState.coreByProject.Project=inputAnimateData;}var updatedAnimate=JSON.stringify(animateData);localStorage.setItem('theatre-0.4.persistent',updatedAnimate);window.location.reload();//一定要重新整理，不然會壞掉\n},children:\"\\u5132\\u5B58\\u4FEE\\u6539\"})]})]})});}","map":{"version":3,"names":["React","useState","styled","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Form","_templateObject2","Block","_templateObject3","JSONLightBox","_ref","setShowJSONLightBox","animateJSON","objData","setObjData","_useState","_useState2","_slicedToArray","inputObj","setInputObj","_useState3","_useState4","inputAnimate","setInputAnimate","children","placeholder","value","JSON","stringify","readOnly","onChange","e","target","onClick","localStorage","setItem","parse","animate","getItem","animateData","inputAnimateData","historic","innerState","coreByProject","Project","updatedAnimate","window","location","reload"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/show-json.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\n\nconst Form = styled.div`\n  background: white;\n  border: 10px;\n  padding: 10px 30px 30px;\n  outline: 3px solid black;\n  display: flex;\n\n  textarea {\n    width: 100%;\n    height: 100px;\n    margin-bottom: 10px;\n  }\n\n  button {\n    padding: 10px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nconst Block = styled.div`\n  margin: 0 30px;\n  width: 400px;\n`;\n\nexport default function JSONLightBox({\n  setShowJSONLightBox,\n  animateJSON,\n  objData,\n  setObjData,\n}) {\n  const [inputObj, setInputObj] = useState('');\n  const [inputAnimate, setInputAnimate] = useState('');\n\n  return (\n    <Wrapper>\n      <Form>\n        <Block>\n          <h2> JSON 資料 (Read only) </h2>\n          <p>元件 JSON</p>\n          <textarea\n            placeholder='元件JSON'\n            value={JSON.stringify(objData)}\n            readOnly={true}\n          />\n\n          <p>動畫 JSON</p>\n\n          <textarea\n            placeholder='動畫JSON'\n            value={JSON.stringify(animateJSON)}\n            readOnly={true}\n          />\n        </Block>\n\n        <Block>\n          <h2> Edit JSON </h2>\n          <p>元件 JSON</p>\n          <textarea\n            placeholder='貼上要讀取的元件JSON'\n            value={inputObj}\n            onChange={(e) => setInputObj(e.target.value)}\n          />\n\n          <p>動畫 JSON</p>\n\n          <textarea\n            placeholder='貼上要讀取的動畫JSON'\n            value={inputAnimate}\n            onChange={(e) => setInputAnimate(e.target.value)}\n          />\n\n          <button\n            onClick={() => {\n              setShowJSONLightBox(false);\n            }}\n          >\n            Close\n          </button>\n\n          <button\n            onClick={() => {\n              //更新 object storage 資料（自動記憶）\n              localStorage.setItem('theatre-data', inputObj);\n              //把 render 資料換成 inputObj，讓畫面直接更新\n              setObjData(JSON.parse(inputObj));\n\n              //更新 state 資料（自動記憶）\n              const animate = localStorage.getItem('theatre-0.4.persistent');\n              const animateData = JSON.parse(animate);\n\n              const inputAnimateData = JSON.parse(inputAnimate);\n\n              if (inputAnimateData) {\n                animateData.historic.innerState.coreByProject.Project =\n                  inputAnimateData;\n              }\n\n              const updatedAnimate = JSON.stringify(animateData);\n\n              localStorage.setItem('theatre-0.4.persistent', updatedAnimate);\n              window.location.reload(); //一定要重新整理，不然會壞掉\n            }}\n          >\n            儲存修改\n          </button>\n        </Block>\n      </Form>\n    </Wrapper>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}