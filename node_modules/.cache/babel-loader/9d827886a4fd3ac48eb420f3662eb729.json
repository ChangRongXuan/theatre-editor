{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReferendumDataManager = exports.PresidentDataManager = exports.LegislatorPartyDataManager = exports.LegislatorDataManager = exports.DataManager = exports.CountyMayorDataManager = exports.CouncilMemberDataManager = void 0;\nexports.dataManagerFactory = dataManagerFactory;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _icons = require(\"./icons\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\n/**\n *  @typedef {import('./typedef').Election} Election\n *  @typedef {import('./typedef').CouncilMemberElection} CouncilMemberElection\n *  @typedef {import('./typedef').ReferendumElection} ReferendumElection\n *  @typedef {import('./typedef').LegislatorPartyElection} LegislatorPartyElection\n *  @typedef {import('./typedef').PresidentElection} PresidentElection\n *  @typedef {import('./typedef').Proposition} Proposition\n *  @typedef {import('./typedef').Candidate} Candidate\n *  @typedef {import('./typedef').Entity} Entity\n *  @typedef {import('./typedef').District} District\n *  @typedef {import('./typedef').LegislatorParty} LegislatorParty\n *  @typedef {import('./typedef').PresidentCandidate} PresidentCandidate\n */\n\n/**\n *  @typedef {string} Head\n *\n *  @typedef {Object} CellEntity\n *  @property {string} [label]\n *  @property {string} [href]\n *  @property {React.ReactElement} [imgJsx]\n *  @property {boolean} [multiLines=false]\n *\n *  @typedef {CellEntity[]} Cell - Table cell. A cell contains multiple entities\n *\n *  @typedef {Object} Row\n *  @property {string} id\n *  @property {Cell[]} cells\n *  @property {string} [group]\n */\nconst ImgBlock = _styledComponents.default.div.withConfig({\n  displayName: \"manager__ImgBlock\",\n  componentId: \"sc-qjzdbt-0\"\n})([\"margin-right:8px;img,svg{width:32px;height:32px;object-fit:cover;border-radius:50%;overflow:hidden;}\", \"\"], props => {\n  var _props$theme;\n  switch ((_props$theme = props.theme) === null || _props$theme === void 0 ? void 0 : _props$theme.device) {\n    case 'rwd':\n    default:\n      {\n        return `\n          @media ${_breakpoint.default.devices.laptop} {\n            img, svg {\n              width: 40px;\n              height: 40px;\n            }\n          }\n        `;\n      }\n  }\n});\nlet DataManager = /*#__PURE__*/function () {\n  /**\n   *  @param {Object} data\n   */\n  function DataManager(data) {\n    _classCallCheck(this, DataManager);\n    this.data = data;\n    this.rows = [];\n    this.head = [];\n  }\n  /**\n   *  @return {Object} data\n   */\n\n  _createClass(DataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return this.data;\n    }\n    /**\n     *  @returns {Head[]}\n     */\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      console.warn('Method `buildListHead` needs to be implemented.');\n      return this.head;\n    }\n    /**\n     *  @returns {Row[]}\n     */\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      console.warn('Method `buildListRows` needs to be implemented.');\n      return this.rows;\n    }\n    /**\n     *  @param {Entity[]} entities\n     *  @returns {CellEntity[]}\n     */\n  }, {\n    key: \"buildNameCell\",\n    value: function buildNameCell(entities) {\n      return entities === null || entities === void 0 ? void 0 : entities.map(entity => {\n        return {\n          label: entity === null || entity === void 0 ? void 0 : entity.label,\n          href: entity === null || entity === void 0 ? void 0 : entity.href,\n          imgJsx: /*#__PURE__*/(0, _jsxRuntime.jsx)(CandidateImg, {\n            imgSrc: entity === null || entity === void 0 ? void 0 : entity.imgSrc\n          })\n        };\n      });\n    }\n    /**\n     *  @param {Entity[]} entities\n     *  @returns {CellEntity[]}\n     */\n  }, {\n    key: \"buildPartyCell\",\n    value: function buildPartyCell(entities) {\n      return entities === null || entities === void 0 ? void 0 : entities.map(entity => {\n        return {\n          label: (entity === null || entity === void 0 ? void 0 : entity.label) || '無',\n          href: entity === null || entity === void 0 ? void 0 : entity.href,\n          imgJsx: entity !== null && entity !== void 0 && entity.imgSrc ? /*#__PURE__*/(0, _jsxRuntime.jsx)(ImgBlock, {\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", {\n              src: entity.imgSrc\n            })\n          }) : null\n        };\n      });\n    }\n    /**\n     *  @param {string} id\n     *  @returns {Row}\n     */\n  }, {\n    key: \"getRowById\",\n    value: function getRowById(id) {\n      // eslint-disable-line\n      console.warn('Method `getRowById` needs to be implemented.');\n      return {\n        id: '',\n        cells: [],\n        group: ''\n      };\n    }\n    /**\n     *  @param {string} dn\n     *  @returns {Row}\n     */\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(dn) {\n      // eslint-disable-line\n      console.warn('Method `findRowByValue` needs to be implemented.');\n      return {\n        id: '',\n        cells: [],\n        group: ''\n      };\n    }\n  }]);\n  return DataManager;\n}();\nexports.DataManager = DataManager;\nfunction CandidateImg(_ref) {\n  let {\n    imgSrc\n  } = _ref;\n  const [errored, setErrored] = (0, _react.useState)(false);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImgBlock, {\n    children: imgSrc && !errored ? /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", {\n      src: imgSrc,\n      onError: () => setErrored(true)\n    }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.AnonymousIcon, {})\n  });\n}\nlet CouncilMemberDataManager = /*#__PURE__*/function (_DataManager) {\n  _inherits(CouncilMemberDataManager, _DataManager);\n  var _super = _createSuper(CouncilMemberDataManager);\n  function CouncilMemberDataManager() {\n    _classCallCheck(this, CouncilMemberDataManager);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CouncilMemberDataManager, [{\n    key: \"buildListHead\",\n    value:\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n    function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n      this.head = ['地區', '號次', '姓名', '推薦政黨', '得票數', '得票率', '當選'];\n      return this.head;\n    }\n    /**\n     *  @param {Candidate} c\n     *  @returns {Cell[]}\n     */\n  }, {\n    key: \"buildRowFromCandidate\",\n    value: function buildRowFromCandidate(c) {\n      var _c$tks, _c$votes;\n      const tksRate = (c === null || c === void 0 ? void 0 : c.tksRate) ?? (c === null || c === void 0 ? void 0 : c.voteRate);\n      return [\n      // 號次\n      [{\n        label: `${(c === null || c === void 0 ? void 0 : c.candNo) ?? (c === null || c === void 0 ? void 0 : c.number) ?? '-'}`\n      }],\n      // 姓名\n      this.buildNameCell([c === null || c === void 0 ? void 0 : c.name]),\n      // 政黨\n      this.buildPartyCell([c === null || c === void 0 ? void 0 : c.party]),\n      // 得票數\n      [{\n        label: (c === null || c === void 0 ? void 0 : (_c$tks = c.tks) === null || _c$tks === void 0 ? void 0 : _c$tks.toLocaleString()) ?? (c === null || c === void 0 ? void 0 : (_c$votes = c.votes) === null || _c$votes === void 0 ? void 0 : _c$votes.toLocaleString()) ?? '-'\n      }],\n      // 得票率\n      [{\n        label: typeof tksRate === 'number' ? `${tksRate}%` : '-'\n      }],\n      // 當選\n      [{\n        imgJsx: c !== null && c !== void 0 && c.candVictor || c !== null && c !== void 0 && c.elected ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.ElectedIcon, {}) : null\n      }]];\n    }\n    /**\n     *  @param {string} dn\n     *  @returns {string}\n     */\n  }, {\n    key: \"genFullDistrictName\",\n    value: function genFullDistrictName(dn) {\n      return `第${dn}選舉區`;\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data, _this$data$districts;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n      (_this$data = this.data) === null || _this$data === void 0 ? void 0 : (_this$data$districts = _this$data.districts) === null || _this$data$districts === void 0 ? void 0 : _this$data$districts.forEach(d => {\n        var _d$candidates;\n        d === null || d === void 0 ? void 0 : (_d$candidates = d.candidates) === null || _d$candidates === void 0 ? void 0 : _d$candidates.forEach((c, cIdx) => {\n          /** @type {Row} */\n          const row = {\n            id: '',\n            cells: [],\n            group: ''\n          };\n          row.group = d.districtName;\n          row.id = `${d.districtName}-${cIdx}`;\n          let districtName = '';\n          if (cIdx === 0) {\n            districtName = d.fullDistrictName || this.genFullDistrictName(d.districtName);\n          }\n          row.cells = this.buildRowFromCandidate(c);\n          row.cells.unshift([{\n            label: districtName\n          }]);\n          this.rows.push(row);\n        });\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName() {\n      let districtName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '01';\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n  return CouncilMemberDataManager;\n}(DataManager);\nexports.CouncilMemberDataManager = CouncilMemberDataManager;\nlet CountyMayorDataManager = /*#__PURE__*/function (_CouncilMemberDataMan) {\n  _inherits(CountyMayorDataManager, _CouncilMemberDataMan);\n  var _super2 = _createSuper(CountyMayorDataManager);\n  function CountyMayorDataManager() {\n    _classCallCheck(this, CountyMayorDataManager);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(CountyMayorDataManager, [{\n    key: \"genFullDistrictName\",\n    value:\n    /**\n     *  @override\n     */\n    function genFullDistrictName(dn) {\n      return dn;\n    }\n  }]);\n  return CountyMayorDataManager;\n}(CouncilMemberDataManager);\nexports.CountyMayorDataManager = CountyMayorDataManager;\nlet LegislatorDataManager = /*#__PURE__*/function (_CouncilMemberDataMan2) {\n  _inherits(LegislatorDataManager, _CouncilMemberDataMan2);\n  var _super3 = _createSuper(LegislatorDataManager);\n  function LegislatorDataManager() {\n    _classCallCheck(this, LegislatorDataManager);\n    return _super3.apply(this, arguments);\n  }\n  return _createClass(LegislatorDataManager);\n}(CouncilMemberDataManager);\nexports.LegislatorDataManager = LegislatorDataManager;\nlet LegislatorPartyDataManager = /*#__PURE__*/function (_DataManager2) {\n  _inherits(LegislatorPartyDataManager, _DataManager2);\n  var _super4 = _createSuper(LegislatorPartyDataManager);\n\n  /**\n   *  @override\n   *  @param {LegislatorPartyElection} data\n   */\n  function LegislatorPartyDataManager(data) {\n    var _this;\n    _classCallCheck(this, LegislatorPartyDataManager);\n    _this = _super4.call(this, data);\n    _this.districts = [{\n      districtName: '全國'\n    }];\n    return _this;\n  }\n  /**\n   *  @return {LegislatorPartyElection & { districts: {districtName: string}[] }} data\n   */\n\n  _createClass(LegislatorPartyDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return {\n        ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n      this.head = ['地區', '號次', '政黨', '得票數', '得票率', '當選席次'];\n      return this.head;\n    }\n    /**\n     *  @param {LegislatorParty} p\n     *  @returns {Cell[]}\n     */\n  }, {\n    key: \"buildRowFromParty\",\n    value: function buildRowFromParty(p) {\n      var _p$tks, _p$tksRate, _p$seats;\n      return [\n      // 號次\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.candNo) ?? '-'}`\n      }],\n      // 政黨\n      this.buildPartyCell([p.party]),\n      // 得票數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$tks = p.tks) === null || _p$tks === void 0 ? void 0 : _p$tks.toLocaleString()) ?? '-'\n      }],\n      // 得票率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$tksRate = p.tksRate) === null || _p$tksRate === void 0 ? void 0 : _p$tksRate.toLocaleString()) ?? '-'\n      }],\n      // 當選席次\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$seats = p.seats) === null || _p$seats === void 0 ? void 0 : _p$seats.toLocaleString()) ?? '-'\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data2, _this$data2$parties;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n      this.rows = (_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : (_this$data2$parties = _this$data2.parties) === null || _this$data2$parties === void 0 ? void 0 : _this$data2$parties.map((p, idx) => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: []\n        };\n        let districtName = '全國';\n        row.id = p.candNo;\n        row.group = districtName;\n        row.cells = this.buildRowFromParty(p);\n        if (idx !== 0) {\n          districtName = '';\n        }\n        row.cells.unshift([{\n          label: districtName\n        }]);\n        return row;\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName() {\n      let districtName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '全國';\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n  return LegislatorPartyDataManager;\n}(DataManager);\nexports.LegislatorPartyDataManager = LegislatorPartyDataManager;\nlet ReferendumDataManager = /*#__PURE__*/function (_DataManager3) {\n  _inherits(ReferendumDataManager, _DataManager3);\n  var _super5 = _createSuper(ReferendumDataManager);\n\n  /**\n   *  @override\n   *  @param {ReferendumElection} data\n   */\n  function ReferendumDataManager(data) {\n    var _this2;\n    _classCallCheck(this, ReferendumDataManager);\n    _this2 = _super5.call(this, data);\n    _this2.districts = [{\n      districtName: '全國'\n    }];\n    return _this2;\n  }\n  /**\n   *  @return {ReferendumElection & { districts: {districtName: string}[] }} data\n   */\n\n  _createClass(ReferendumDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return {\n        ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n      this.head = ['案號', '案名', '領銜人', '同意數', '同意率', '不同意數', '不同意率', '通過註記'];\n      return this.head;\n    }\n    /**\n     *  @param {Proposition} p\n     *  @returns {Cell[]}\n     */\n  }, {\n    key: \"buildRowFromPropostion\",\n    value: function buildRowFromPropostion(p) {\n      var _p$agreeTks, _p$agreeRate, _p$disagreeTks, _p$disagreeRate;\n      return [\n      // 案號\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.no) ?? '-'}`\n      }],\n      // 案名\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.content) ?? '-'}`,\n        multiLines: true\n      }],\n      // 領銜人\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.planner) ?? '-'}`\n      }],\n      // 同意數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$agreeTks = p.agreeTks) === null || _p$agreeTks === void 0 ? void 0 : _p$agreeTks.toLocaleString()) ?? '-'\n      }],\n      // 同意率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$agreeRate = p.agreeRate) === null || _p$agreeRate === void 0 ? void 0 : _p$agreeRate.toLocaleString()) ?? '-'\n      }],\n      // 不同意數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$disagreeTks = p.disagreeTks) === null || _p$disagreeTks === void 0 ? void 0 : _p$disagreeTks.toLocaleString()) ?? '-'\n      }],\n      // 不同意率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$disagreeRate = p.disagreeRate) === null || _p$disagreeRate === void 0 ? void 0 : _p$disagreeRate.toLocaleString()) ?? '-'\n      }],\n      // 當選\n      [{\n        label: p !== null && p !== void 0 && p.pass ? '是' : '否'\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data3, _this$data3$propositi;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n      this.rows = (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : (_this$data3$propositi = _this$data3.propositions) === null || _this$data3$propositi === void 0 ? void 0 : _this$data3$propositi.map(p => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: []\n        };\n        row.id = p.no;\n        row.group = '全國';\n        row.cells = this.buildRowFromPropostion(p);\n        return row;\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName() {\n      let districtName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '全國';\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n  return ReferendumDataManager;\n}(DataManager);\nexports.ReferendumDataManager = ReferendumDataManager;\nlet PresidentDataManager = /*#__PURE__*/function (_DataManager4) {\n  _inherits(PresidentDataManager, _DataManager4);\n  var _super6 = _createSuper(PresidentDataManager);\n\n  /**\n   *  @override\n   *  @param {PresidentElection} data\n   */\n  function PresidentDataManager(data) {\n    var _this3;\n    _classCallCheck(this, PresidentDataManager);\n    _this3 = _super6.call(this, data);\n    _this3.districts = [{\n      districtName: '全國'\n    }];\n    return _this3;\n  }\n  /**\n   *  @return {PresidentElection & { districts: {districtName: string}[] }} data\n   */\n\n  _createClass(PresidentDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return {\n        ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n      this.head = ['地區', '號次', '姓名', '推薦政黨', '得票數', '得票率', '當選'];\n      return this.head;\n    }\n    /**\n     *  @param {PresidentCandidate} c\n     *  @returns {Cell[]}\n     */\n  }, {\n    key: \"buildRowFromCandidates\",\n    value: function buildRowFromCandidates(c) {\n      var _c$tks2;\n      return [\n      // 號次\n      [{\n        label: `${(c === null || c === void 0 ? void 0 : c.candNo) ?? '-'}`\n      }],\n      // 姓名\n      this.buildNameCell(c.names),\n      // 政黨\n      this.buildPartyCell(c.parties).map(entity => Object.assign(entity, {\n        multiLines: true\n      })),\n      // 得票數\n      [{\n        label: (c === null || c === void 0 ? void 0 : (_c$tks2 = c.tks) === null || _c$tks2 === void 0 ? void 0 : _c$tks2.toLocaleString()) ?? '-'\n      }],\n      // 得票率\n      [{\n        label: typeof (c === null || c === void 0 ? void 0 : c.tksRate) === 'number' ? `${c === null || c === void 0 ? void 0 : c.tksRate}%` : '-'\n      }],\n      // 當選\n      [{\n        imgJsx: c !== null && c !== void 0 && c.candVictor ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.ElectedIcon, {}) : null\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _data$candidates;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n      this.rows = [];\n      /** @type {PresidentElection} */\n\n      const data = this.data;\n      data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : _data$candidates.forEach((c, cIdx) => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: [],\n          group: ''\n        };\n        let districtName = '';\n        row.group = districtName;\n        row.id = c.candNo;\n        if (cIdx === 0) {\n          var _this$districts, _this$districts$;\n          districtName = (_this$districts = this.districts) === null || _this$districts === void 0 ? void 0 : (_this$districts$ = _this$districts[0]) === null || _this$districts$ === void 0 ? void 0 : _this$districts$.districtName;\n        }\n        row.cells = this.buildRowFromCandidates(c);\n        row.cells.unshift([{\n          label: districtName\n        }]);\n        this.rows.push(row);\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName() {\n      let districtName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '全國';\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n  return PresidentDataManager;\n}(DataManager);\nexports.PresidentDataManager = PresidentDataManager;\nfunction dataManagerFactory() {\n  return {\n    /**\n     *  @param {Election | ReferendumElection | LegislatorPartyElection | PresidentElection } data\n     *  @returns {DataManager}\n     */\n    newDataManager: data => {\n      switch (data === null || data === void 0 ? void 0 : data.type) {\n        case 'mayor':\n          return new CountyMayorDataManager(data);\n        case 'councilMember':\n          return new CouncilMemberDataManager(data);\n        case 'legislator':\n          return new LegislatorDataManager(data);\n        case 'legislator-party':\n          return new LegislatorPartyDataManager(data);\n        case 'referendum':\n          return new ReferendumDataManager(data);\n        case 'president':\n          return new PresidentDataManager(data);\n        default:\n          {\n            return new DataManager(data);\n          }\n      }\n    }\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","ReferendumDataManager","PresidentDataManager","LegislatorPartyDataManager","LegislatorDataManager","DataManager","CountyMayorDataManager","CouncilMemberDataManager","dataManagerFactory","_react","_interopRequireWildcard","require","_breakpoint","_interopRequireDefault","_styledComponents","_icons","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_inherits","subClass","superClass","TypeError","create","constructor","writable","configurable","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","target","props","i","length","descriptor","enumerable","_createClass","protoProps","staticProps","ImgBlock","div","withConfig","displayName","componentId","_props$theme","theme","device","devices","laptop","data","rows","head","getData","buildListHead","console","warn","buildListRows","buildNameCell","entities","map","entity","label","href","imgJsx","jsx","CandidateImg","imgSrc","buildPartyCell","children","src","getRowById","id","cells","group","findRowByDistrictName","dn","_ref","errored","setErrored","useState","onError","AnonymousIcon","_DataManager","_super","buildRowFromCandidate","c","_c$tks","_c$votes","tksRate","voteRate","candNo","number","name","party","tks","toLocaleString","votes","candVictor","elected","ElectedIcon","genFullDistrictName","_this$data","_this$data$districts","districts","forEach","d","_d$candidates","candidates","cIdx","row","districtName","fullDistrictName","unshift","push","undefined","find","r","_CouncilMemberDataMan","_super2","_CouncilMemberDataMan2","_super3","_DataManager2","_super4","_this","buildRowFromParty","_p$tks","_p$tksRate","_p$seats","seats","_this$data2","_this$data2$parties","parties","idx","_DataManager3","_super5","_this2","buildRowFromPropostion","_p$agreeTks","_p$agreeRate","_p$disagreeTks","_p$disagreeRate","no","content","multiLines","planner","agreeTks","agreeRate","disagreeTks","disagreeRate","pass","_this$data3","_this$data3$propositi","propositions","_DataManager4","_super6","_this3","buildRowFromCandidates","_c$tks2","names","assign","_data$candidates","_this$districts","_this$districts$","newDataManager","type"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@readr-media/react-election-widgets/lib/votes-comparison/react-components/manager.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReferendumDataManager = exports.PresidentDataManager = exports.LegislatorPartyDataManager = exports.LegislatorDataManager = exports.DataManager = exports.CountyMayorDataManager = exports.CouncilMemberDataManager = void 0;\nexports.dataManagerFactory = dataManagerFactory;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _breakpoint = _interopRequireDefault(require(\"./breakpoint\"));\n\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\n\nvar _icons = require(\"./icons\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/**\n *  @typedef {import('./typedef').Election} Election\n *  @typedef {import('./typedef').CouncilMemberElection} CouncilMemberElection\n *  @typedef {import('./typedef').ReferendumElection} ReferendumElection\n *  @typedef {import('./typedef').LegislatorPartyElection} LegislatorPartyElection\n *  @typedef {import('./typedef').PresidentElection} PresidentElection\n *  @typedef {import('./typedef').Proposition} Proposition\n *  @typedef {import('./typedef').Candidate} Candidate\n *  @typedef {import('./typedef').Entity} Entity\n *  @typedef {import('./typedef').District} District\n *  @typedef {import('./typedef').LegislatorParty} LegislatorParty\n *  @typedef {import('./typedef').PresidentCandidate} PresidentCandidate\n */\n\n/**\n *  @typedef {string} Head\n *\n *  @typedef {Object} CellEntity\n *  @property {string} [label]\n *  @property {string} [href]\n *  @property {React.ReactElement} [imgJsx]\n *  @property {boolean} [multiLines=false]\n *\n *  @typedef {CellEntity[]} Cell - Table cell. A cell contains multiple entities\n *\n *  @typedef {Object} Row\n *  @property {string} id\n *  @property {Cell[]} cells\n *  @property {string} [group]\n */\nconst ImgBlock = _styledComponents.default.div.withConfig({\n  displayName: \"manager__ImgBlock\",\n  componentId: \"sc-qjzdbt-0\"\n})([\"margin-right:8px;img,svg{width:32px;height:32px;object-fit:cover;border-radius:50%;overflow:hidden;}\", \"\"], props => {\n  var _props$theme;\n\n  switch ((_props$theme = props.theme) === null || _props$theme === void 0 ? void 0 : _props$theme.device) {\n    case 'rwd':\n    default:\n      {\n        return `\n          @media ${_breakpoint.default.devices.laptop} {\n            img, svg {\n              width: 40px;\n              height: 40px;\n            }\n          }\n        `;\n      }\n  }\n});\n\nlet DataManager = /*#__PURE__*/function () {\n  /**\n   *  @param {Object} data\n   */\n  function DataManager(data) {\n    _classCallCheck(this, DataManager);\n\n    this.data = data;\n    this.rows = [];\n    this.head = [];\n  }\n  /**\n   *  @return {Object} data\n   */\n\n\n  _createClass(DataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return this.data;\n    }\n    /**\n     *  @returns {Head[]}\n     */\n\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      console.warn('Method `buildListHead` needs to be implemented.');\n      return this.head;\n    }\n    /**\n     *  @returns {Row[]}\n     */\n\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      console.warn('Method `buildListRows` needs to be implemented.');\n      return this.rows;\n    }\n    /**\n     *  @param {Entity[]} entities\n     *  @returns {CellEntity[]}\n     */\n\n  }, {\n    key: \"buildNameCell\",\n    value: function buildNameCell(entities) {\n      return entities === null || entities === void 0 ? void 0 : entities.map(entity => {\n        return {\n          label: entity === null || entity === void 0 ? void 0 : entity.label,\n          href: entity === null || entity === void 0 ? void 0 : entity.href,\n          imgJsx: /*#__PURE__*/(0, _jsxRuntime.jsx)(CandidateImg, {\n            imgSrc: entity === null || entity === void 0 ? void 0 : entity.imgSrc\n          })\n        };\n      });\n    }\n    /**\n     *  @param {Entity[]} entities\n     *  @returns {CellEntity[]}\n     */\n\n  }, {\n    key: \"buildPartyCell\",\n    value: function buildPartyCell(entities) {\n      return entities === null || entities === void 0 ? void 0 : entities.map(entity => {\n        return {\n          label: (entity === null || entity === void 0 ? void 0 : entity.label) || '無',\n          href: entity === null || entity === void 0 ? void 0 : entity.href,\n          imgJsx: entity !== null && entity !== void 0 && entity.imgSrc ? /*#__PURE__*/(0, _jsxRuntime.jsx)(ImgBlock, {\n            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", {\n              src: entity.imgSrc\n            })\n          }) : null\n        };\n      });\n    }\n    /**\n     *  @param {string} id\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"getRowById\",\n    value: function getRowById(id) {\n      // eslint-disable-line\n      console.warn('Method `getRowById` needs to be implemented.');\n      return {\n        id: '',\n        cells: [],\n        group: ''\n      };\n    }\n    /**\n     *  @param {string} dn\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(dn) {\n      // eslint-disable-line\n      console.warn('Method `findRowByValue` needs to be implemented.');\n      return {\n        id: '',\n        cells: [],\n        group: ''\n      };\n    }\n  }]);\n\n  return DataManager;\n}();\n\nexports.DataManager = DataManager;\n\nfunction CandidateImg({\n  imgSrc\n}) {\n  const [errored, setErrored] = (0, _react.useState)(false);\n  return /*#__PURE__*/(0, _jsxRuntime.jsx)(ImgBlock, {\n    children: imgSrc && !errored ? /*#__PURE__*/(0, _jsxRuntime.jsx)(\"img\", {\n      src: imgSrc,\n      onError: () => setErrored(true)\n    }) : /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.AnonymousIcon, {})\n  });\n}\n\nlet CouncilMemberDataManager = /*#__PURE__*/function (_DataManager) {\n  _inherits(CouncilMemberDataManager, _DataManager);\n\n  var _super = _createSuper(CouncilMemberDataManager);\n\n  function CouncilMemberDataManager() {\n    _classCallCheck(this, CouncilMemberDataManager);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CouncilMemberDataManager, [{\n    key: \"buildListHead\",\n    value:\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n    function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n\n      this.head = ['地區', '號次', '姓名', '推薦政黨', '得票數', '得票率', '當選'];\n      return this.head;\n    }\n    /**\n     *  @param {Candidate} c\n     *  @returns {Cell[]}\n     */\n\n  }, {\n    key: \"buildRowFromCandidate\",\n    value: function buildRowFromCandidate(c) {\n      var _c$tks, _c$votes;\n\n      const tksRate = (c === null || c === void 0 ? void 0 : c.tksRate) ?? (c === null || c === void 0 ? void 0 : c.voteRate);\n      return [// 號次\n      [{\n        label: `${(c === null || c === void 0 ? void 0 : c.candNo) ?? (c === null || c === void 0 ? void 0 : c.number) ?? '-'}`\n      }], // 姓名\n      this.buildNameCell([c === null || c === void 0 ? void 0 : c.name]), // 政黨\n      this.buildPartyCell([c === null || c === void 0 ? void 0 : c.party]), // 得票數\n      [{\n        label: (c === null || c === void 0 ? void 0 : (_c$tks = c.tks) === null || _c$tks === void 0 ? void 0 : _c$tks.toLocaleString()) ?? (c === null || c === void 0 ? void 0 : (_c$votes = c.votes) === null || _c$votes === void 0 ? void 0 : _c$votes.toLocaleString()) ?? '-'\n      }], // 得票率\n      [{\n        label: typeof tksRate === 'number' ? `${tksRate}%` : '-'\n      }], // 當選\n      [{\n        imgJsx: c !== null && c !== void 0 && c.candVictor || c !== null && c !== void 0 && c.elected ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.ElectedIcon, {}) : null\n      }]];\n    }\n    /**\n     *  @param {string} dn\n     *  @returns {string}\n     */\n\n  }, {\n    key: \"genFullDistrictName\",\n    value: function genFullDistrictName(dn) {\n      return `第${dn}選舉區`;\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data, _this$data$districts;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n\n      (_this$data = this.data) === null || _this$data === void 0 ? void 0 : (_this$data$districts = _this$data.districts) === null || _this$data$districts === void 0 ? void 0 : _this$data$districts.forEach(d => {\n        var _d$candidates;\n\n        d === null || d === void 0 ? void 0 : (_d$candidates = d.candidates) === null || _d$candidates === void 0 ? void 0 : _d$candidates.forEach((c, cIdx) => {\n          /** @type {Row} */\n          const row = {\n            id: '',\n            cells: [],\n            group: ''\n          };\n          row.group = d.districtName;\n          row.id = `${d.districtName}-${cIdx}`;\n          let districtName = '';\n\n          if (cIdx === 0) {\n            districtName = d.fullDistrictName || this.genFullDistrictName(d.districtName);\n          }\n\n          row.cells = this.buildRowFromCandidate(c);\n          row.cells.unshift([{\n            label: districtName\n          }]);\n          this.rows.push(row);\n        });\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(districtName = '01') {\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n\n  return CouncilMemberDataManager;\n}(DataManager);\n\nexports.CouncilMemberDataManager = CouncilMemberDataManager;\n\nlet CountyMayorDataManager = /*#__PURE__*/function (_CouncilMemberDataMan) {\n  _inherits(CountyMayorDataManager, _CouncilMemberDataMan);\n\n  var _super2 = _createSuper(CountyMayorDataManager);\n\n  function CountyMayorDataManager() {\n    _classCallCheck(this, CountyMayorDataManager);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(CountyMayorDataManager, [{\n    key: \"genFullDistrictName\",\n    value:\n    /**\n     *  @override\n     */\n    function genFullDistrictName(dn) {\n      return dn;\n    }\n  }]);\n\n  return CountyMayorDataManager;\n}(CouncilMemberDataManager);\n\nexports.CountyMayorDataManager = CountyMayorDataManager;\n\nlet LegislatorDataManager = /*#__PURE__*/function (_CouncilMemberDataMan2) {\n  _inherits(LegislatorDataManager, _CouncilMemberDataMan2);\n\n  var _super3 = _createSuper(LegislatorDataManager);\n\n  function LegislatorDataManager() {\n    _classCallCheck(this, LegislatorDataManager);\n\n    return _super3.apply(this, arguments);\n  }\n\n  return _createClass(LegislatorDataManager);\n}(CouncilMemberDataManager);\n\nexports.LegislatorDataManager = LegislatorDataManager;\n\nlet LegislatorPartyDataManager = /*#__PURE__*/function (_DataManager2) {\n  _inherits(LegislatorPartyDataManager, _DataManager2);\n\n  var _super4 = _createSuper(LegislatorPartyDataManager);\n\n  /**\n   *  @override\n   *  @param {LegislatorPartyElection} data\n   */\n  function LegislatorPartyDataManager(data) {\n    var _this;\n\n    _classCallCheck(this, LegislatorPartyDataManager);\n\n    _this = _super4.call(this, data);\n    _this.districts = [{\n      districtName: '全國'\n    }];\n    return _this;\n  }\n  /**\n   *  @return {LegislatorPartyElection & { districts: {districtName: string}[] }} data\n   */\n\n\n  _createClass(LegislatorPartyDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return { ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n\n      this.head = ['地區', '號次', '政黨', '得票數', '得票率', '當選席次'];\n      return this.head;\n    }\n    /**\n     *  @param {LegislatorParty} p\n     *  @returns {Cell[]}\n     */\n\n  }, {\n    key: \"buildRowFromParty\",\n    value: function buildRowFromParty(p) {\n      var _p$tks, _p$tksRate, _p$seats;\n\n      return [// 號次\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.candNo) ?? '-'}`\n      }], // 政黨\n      this.buildPartyCell([p.party]), // 得票數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$tks = p.tks) === null || _p$tks === void 0 ? void 0 : _p$tks.toLocaleString()) ?? '-'\n      }], // 得票率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$tksRate = p.tksRate) === null || _p$tksRate === void 0 ? void 0 : _p$tksRate.toLocaleString()) ?? '-'\n      }], // 當選席次\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$seats = p.seats) === null || _p$seats === void 0 ? void 0 : _p$seats.toLocaleString()) ?? '-'\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data2, _this$data2$parties;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n\n      this.rows = (_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : (_this$data2$parties = _this$data2.parties) === null || _this$data2$parties === void 0 ? void 0 : _this$data2$parties.map((p, idx) => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: []\n        };\n        let districtName = '全國';\n        row.id = p.candNo;\n        row.group = districtName;\n        row.cells = this.buildRowFromParty(p);\n\n        if (idx !== 0) {\n          districtName = '';\n        }\n\n        row.cells.unshift([{\n          label: districtName\n        }]);\n        return row;\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(districtName = '全國') {\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n\n  return LegislatorPartyDataManager;\n}(DataManager);\n\nexports.LegislatorPartyDataManager = LegislatorPartyDataManager;\n\nlet ReferendumDataManager = /*#__PURE__*/function (_DataManager3) {\n  _inherits(ReferendumDataManager, _DataManager3);\n\n  var _super5 = _createSuper(ReferendumDataManager);\n\n  /**\n   *  @override\n   *  @param {ReferendumElection} data\n   */\n  function ReferendumDataManager(data) {\n    var _this2;\n\n    _classCallCheck(this, ReferendumDataManager);\n\n    _this2 = _super5.call(this, data);\n    _this2.districts = [{\n      districtName: '全國'\n    }];\n    return _this2;\n  }\n  /**\n   *  @return {ReferendumElection & { districts: {districtName: string}[] }} data\n   */\n\n\n  _createClass(ReferendumDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return { ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n\n      this.head = ['案號', '案名', '領銜人', '同意數', '同意率', '不同意數', '不同意率', '通過註記'];\n      return this.head;\n    }\n    /**\n     *  @param {Proposition} p\n     *  @returns {Cell[]}\n     */\n\n  }, {\n    key: \"buildRowFromPropostion\",\n    value: function buildRowFromPropostion(p) {\n      var _p$agreeTks, _p$agreeRate, _p$disagreeTks, _p$disagreeRate;\n\n      return [// 案號\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.no) ?? '-'}`\n      }], // 案名\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.content) ?? '-'}`,\n        multiLines: true\n      }], // 領銜人\n      [{\n        label: `${(p === null || p === void 0 ? void 0 : p.planner) ?? '-'}`\n      }], // 同意數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$agreeTks = p.agreeTks) === null || _p$agreeTks === void 0 ? void 0 : _p$agreeTks.toLocaleString()) ?? '-'\n      }], // 同意率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$agreeRate = p.agreeRate) === null || _p$agreeRate === void 0 ? void 0 : _p$agreeRate.toLocaleString()) ?? '-'\n      }], // 不同意數\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$disagreeTks = p.disagreeTks) === null || _p$disagreeTks === void 0 ? void 0 : _p$disagreeTks.toLocaleString()) ?? '-'\n      }], // 不同意率\n      [{\n        label: (p === null || p === void 0 ? void 0 : (_p$disagreeRate = p.disagreeRate) === null || _p$disagreeRate === void 0 ? void 0 : _p$disagreeRate.toLocaleString()) ?? '-'\n      }], // 當選\n      [{\n        label: p !== null && p !== void 0 && p.pass ? '是' : '否'\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _this$data3, _this$data3$propositi;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n\n      this.rows = (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : (_this$data3$propositi = _this$data3.propositions) === null || _this$data3$propositi === void 0 ? void 0 : _this$data3$propositi.map(p => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: []\n        };\n        row.id = p.no;\n        row.group = '全國';\n        row.cells = this.buildRowFromPropostion(p);\n        return row;\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(districtName = '全國') {\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n\n  return ReferendumDataManager;\n}(DataManager);\n\nexports.ReferendumDataManager = ReferendumDataManager;\n\nlet PresidentDataManager = /*#__PURE__*/function (_DataManager4) {\n  _inherits(PresidentDataManager, _DataManager4);\n\n  var _super6 = _createSuper(PresidentDataManager);\n\n  /**\n   *  @override\n   *  @param {PresidentElection} data\n   */\n  function PresidentDataManager(data) {\n    var _this3;\n\n    _classCallCheck(this, PresidentDataManager);\n\n    _this3 = _super6.call(this, data);\n    _this3.districts = [{\n      districtName: '全國'\n    }];\n    return _this3;\n  }\n  /**\n   *  @return {PresidentElection & { districts: {districtName: string}[] }} data\n   */\n\n\n  _createClass(PresidentDataManager, [{\n    key: \"getData\",\n    value: function getData() {\n      return { ...this.data,\n        districts: [{\n          districtName: '全國'\n        }]\n      };\n    }\n    /**\n     *  @override\n     *  @returns {Head[]}\n     */\n\n  }, {\n    key: \"buildListHead\",\n    value: function buildListHead() {\n      // built already, therefore return the built one\n      if (this.head.length > 0) {\n        return this.head;\n      }\n\n      this.head = ['地區', '號次', '姓名', '推薦政黨', '得票數', '得票率', '當選'];\n      return this.head;\n    }\n    /**\n     *  @param {PresidentCandidate} c\n     *  @returns {Cell[]}\n     */\n\n  }, {\n    key: \"buildRowFromCandidates\",\n    value: function buildRowFromCandidates(c) {\n      var _c$tks2;\n\n      return [// 號次\n      [{\n        label: `${(c === null || c === void 0 ? void 0 : c.candNo) ?? '-'}`\n      }], // 姓名\n      this.buildNameCell(c.names), // 政黨\n      this.buildPartyCell(c.parties).map(entity => Object.assign(entity, {\n        multiLines: true\n      })), // 得票數\n      [{\n        label: (c === null || c === void 0 ? void 0 : (_c$tks2 = c.tks) === null || _c$tks2 === void 0 ? void 0 : _c$tks2.toLocaleString()) ?? '-'\n      }], // 得票率\n      [{\n        label: typeof (c === null || c === void 0 ? void 0 : c.tksRate) === 'number' ? `${c === null || c === void 0 ? void 0 : c.tksRate}%` : '-'\n      }], // 當選\n      [{\n        imgJsx: c !== null && c !== void 0 && c.candVictor ? /*#__PURE__*/(0, _jsxRuntime.jsx)(_icons.ElectedIcon, {}) : null\n      }]];\n    }\n    /**\n     *  @override\n     *  @returns {Row[]}\n     */\n\n  }, {\n    key: \"buildListRows\",\n    value: function buildListRows() {\n      var _data$candidates;\n\n      // built already, therefore return the built one\n      if (this.rows.length > 0) {\n        return this.rows;\n      }\n\n      this.rows = [];\n      /** @type {PresidentElection} */\n\n      const data = this.data;\n      data === null || data === void 0 ? void 0 : (_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : _data$candidates.forEach((c, cIdx) => {\n        /** @type {Row} */\n        const row = {\n          id: '',\n          cells: [],\n          group: ''\n        };\n        let districtName = '';\n        row.group = districtName;\n        row.id = c.candNo;\n\n        if (cIdx === 0) {\n          var _this$districts, _this$districts$;\n\n          districtName = (_this$districts = this.districts) === null || _this$districts === void 0 ? void 0 : (_this$districts$ = _this$districts[0]) === null || _this$districts$ === void 0 ? void 0 : _this$districts$.districtName;\n        }\n\n        row.cells = this.buildRowFromCandidates(c);\n        row.cells.unshift([{\n          label: districtName\n        }]);\n        this.rows.push(row);\n      });\n      return this.rows;\n    }\n    /**\n     *  @override\n     *  @param {string} districtName\n     *  @returns {Row}\n     */\n\n  }, {\n    key: \"findRowByDistrictName\",\n    value: function findRowByDistrictName(districtName = '全國') {\n      return this.rows.find(r => {\n        return r.group === districtName;\n      });\n    }\n  }]);\n\n  return PresidentDataManager;\n}(DataManager);\n\nexports.PresidentDataManager = PresidentDataManager;\n\nfunction dataManagerFactory() {\n  return {\n    /**\n     *  @param {Election | ReferendumElection | LegislatorPartyElection | PresidentElection } data\n     *  @returns {DataManager}\n     */\n    newDataManager: data => {\n      switch (data === null || data === void 0 ? void 0 : data.type) {\n        case 'mayor':\n          return new CountyMayorDataManager(data);\n\n        case 'councilMember':\n          return new CouncilMemberDataManager(data);\n\n        case 'legislator':\n          return new LegislatorDataManager(data);\n\n        case 'legislator-party':\n          return new LegislatorPartyDataManager(data);\n\n        case 'referendum':\n          return new ReferendumDataManager(data);\n\n        case 'president':\n          return new PresidentDataManager(data);\n\n        default:\n          {\n            return new DataManager(data);\n          }\n      }\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}