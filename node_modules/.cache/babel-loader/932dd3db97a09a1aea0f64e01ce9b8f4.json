{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/mac/Documents/GitHub/deepfake-demo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import FontElement from'./elements/font';import ImageElement from'./elements/image';import BackgroundElement from'./elements/background';import VideoElement from'./elements/video';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: relative;\\n  overflow: hidden;\\n  margin: auto;\\n\"])));export default function Stage(_ref){var objData=_ref.objData,sheet=_ref.sheet,stageWidth=_ref.stageWidth,draggable=_ref.draggable,_ref$setLoadedMedias=_ref.setLoadedMedias,setLoadedMedias=_ref$setLoadedMedias===void 0?function(){}:_ref$setLoadedMedias,_ref$setHasMediaError=_ref.setHasMediaError,setHasMediaError=_ref$setHasMediaError===void 0?function(){}:_ref$setHasMediaError;var handleOnLoad=function handleOnLoad(){setLoadedMedias(function(prev){return prev+1;});};var handleOnError=function handleOnError(){setHasMediaError(true);};var fontElements=objData.filter(function(data){return data.type==='FONT';}).map(function(data){return/*#__PURE__*/_jsx(FontElement,{id:data.id,sheet:sheet,stageWidth:stageWidth,draggable:draggable},'font'+data.id);});var imageElements=objData.filter(function(data){return data.type==='IMAGE';}).map(function(data){return/*#__PURE__*/_jsx(ImageElement,{id:data.id,sheet:sheet,stageWidth:stageWidth,draggable:draggable,onLoad:handleOnLoad,onError:handleOnError},'image'+data.id);});var bgElements=objData.filter(function(data){return data.type==='BACKGROUND';}).map(function(data){return/*#__PURE__*/_jsx(BackgroundElement,{id:data.id,sheet:sheet,stageWidth:stageWidth,draggable:draggable,onLoad:handleOnLoad,onError:handleOnError},'background'+data.id);});var videoElements=objData.filter(function(data){return data.type==='VIDEO';}).map(function(data){return/*#__PURE__*/_jsx(VideoElement,{id:data.id,source:data.src,sheet:sheet,stageWidth:stageWidth,draggable:draggable,onError:handleOnError},'video'+data.id);});return/*#__PURE__*/_jsxs(Wrapper,{id:\"theatre-stage\",children:[fontElements,imageElements,bgElements,videoElements]});}","map":{"version":3,"names":["FontElement","ImageElement","BackgroundElement","VideoElement","styled","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Stage","_ref","objData","sheet","stageWidth","draggable","_ref$setLoadedMedias","setLoadedMedias","_ref$setHasMediaError","setHasMediaError","handleOnLoad","prev","handleOnError","fontElements","filter","data","type","map","id","imageElements","onLoad","onError","bgElements","videoElements","source","src","children"],"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/components/stage.js"],"sourcesContent":["import FontElement from './elements/font';\nimport ImageElement from './elements/image';\nimport BackgroundElement from './elements/background';\nimport VideoElement from './elements/video';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n  margin: auto;\n`;\n\nexport default function Stage({\n  objData,\n  sheet,\n  stageWidth,\n  draggable,\n  setLoadedMedias = () => {},\n  setHasMediaError = () => {},\n}) {\n  const handleOnLoad = () => {\n    setLoadedMedias((prev) => prev + 1);\n  };\n\n  const handleOnError = () => {\n    setHasMediaError(true);\n  };\n\n  const fontElements = objData\n    .filter((data) => data.type === 'FONT')\n    .map((data) => {\n      return (\n        <FontElement\n          key={'font' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageWidth={stageWidth}\n          draggable={draggable}\n        />\n      );\n    });\n\n  const imageElements = objData\n    .filter((data) => data.type === 'IMAGE')\n    .map((data) => {\n      return (\n        <ImageElement\n          key={'image' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageWidth={stageWidth}\n          draggable={draggable}\n          onLoad={handleOnLoad}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  const bgElements = objData\n    .filter((data) => data.type === 'BACKGROUND')\n    .map((data) => {\n      return (\n        <BackgroundElement\n          key={'background' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageWidth={stageWidth}\n          draggable={draggable}\n          onLoad={handleOnLoad}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  const videoElements = objData\n    .filter((data) => data.type === 'VIDEO')\n    .map((data) => {\n      return (\n        <VideoElement\n          key={'video' + data.id}\n          id={data.id}\n          source={data.src}\n          sheet={sheet}\n          stageWidth={stageWidth}\n          draggable={draggable}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  return (\n    <Wrapper id='theatre-stage'>\n      {fontElements}\n      {imageElements}\n      {bgElements}\n      {videoElements}\n    </Wrapper>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}