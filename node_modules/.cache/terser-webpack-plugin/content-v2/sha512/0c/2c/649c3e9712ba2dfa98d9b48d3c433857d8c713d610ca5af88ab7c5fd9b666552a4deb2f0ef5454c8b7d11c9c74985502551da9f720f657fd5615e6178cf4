{"code":"(this[\"webpackJsonpreact-theatre\"]=this[\"webpackJsonpreact-theatre\"]||[]).push([[0],{81:function(e,t,n){\"use strict\";n.r(t);var i=n(58),o=n.n(i),a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),o(e),a(e),r(e)}))},r=n(0),c=n.n(r),s=n(24),d=n(5),u=n(6),l=n(7),b=n(9),p=n.n(b),g=n(13),j=n(8),h=function(){};function x(e,t){var n=Object(r.useRef)(t);n.current=t;var i=Object(r.useRef)(\"notDragging\"),o=Object(r.useRef)({dragHappened:!1,startPos:{x:0,y:0}});Object(r.useEffect)((function(){if(e){var t=h,a=function(e){!o.current.dragHappened&&n.current.lockCursorTo&&(t=function(e){var t=document.createElement(\"div\");return t.style.cssText=\"\\n    position: fixed;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 9999999;\",t.style.cursor=e,document.body.appendChild(t),function(){document.body.removeChild(t)}}(n.current.lockCursorTo)),o.current.dragHappened||(o.current.dragHappened=!0),i.current=\"dragging\";var a=function(e){var t=o.current.startPos;return[e.screenX-t.x,e.screenY-t.y]}(e);n.current.onDrag(a[0],a[1],e)},r=function(){c(),i.current=\"notDragging\",n.current.onDragEnd&&n.current.onDragEnd(o.current.dragHappened),t(),t=h},c=function(){document.removeEventListener(\"mousemove\",a),document.removeEventListener(\"mouseup\",r)},s=function(e){n.current.disabled||o.current.dragHappened&&(n.current.dontBlockMouseDown||\"notDragging\"===i.current||(e.stopPropagation(),e.preventDefault()),o.current.dragHappened=!1)},d=function(e){var t=n.current;if(!0!==t.disabled&&(0===e.button&&!1!==(t.onDragStart&&t.onDragStart(e)))){t.dontBlockMouseDown||(e.stopPropagation(),e.preventDefault()),i.current=\"dragStartCalled\";var c=e.screenX,s=e.screenY;o.current.startPos={x:c,y:s},o.current.dragHappened=!1,document.addEventListener(\"mousemove\",a),document.addEventListener(\"mouseup\",r)}},u=function(e){d(e)};return e.addEventListener(\"mousedown\",u),e.addEventListener(\"click\",s),function(){c(),e.removeEventListener(\"mousedown\",u),e.removeEventListener(\"click\",s),t(),\"notDragging\"!==i.current&&n.current.onDragEnd&&n.current.onDragEnd(\"dragging\"===i.current),i.current=\"notDragging\"}}}),[e])}var f,O,m=n(4),v={FONT:{position:m.types.compound({x:m.types.number(50,{nudgeMultiplier:.5}),y:m.types.number(50,{nudgeMultiplier:.5})}),size:m.types.compound({width:m.types.number(200,{nudgeMultiplier:1})}),bgColor:m.types.rgba({r:0,g:0,b:0,a:1}),font:m.types.compound({size:m.types.number(16,{nudgeMultiplier:1}),color:m.types.rgba({r:255,g:255,b:255,a:1}),weight:m.types.number(200,{range:[100,900],nudgeMultiplier:100}),spacing:m.types.number(.6,{range:[0,500],nudgeMultiplier:.1})}),border:m.types.compound({size:m.types.number(0),color:m.types.rgba({r:0,g:0,b:0,a:1}),radius:m.types.number(4,{range:[0,100],nudgeMultiplier:1})}),content:m.types.string(\"\\u8acb\\u8f38\\u5165\\u6587\\u5b57\"),opacity:m.types.number(1,{range:[0,1],nudgeMultiplier:.05}),padding:m.types.number(32,{range:[0,1e3],nudgeMultiplier:1}),visible:m.types.boolean(!0),zIndex:m.types.stringLiteral(\"10\",{bottom:\"-10\",0:\"0\",10:\"10\",100:\"100\",1e3:\"1000\",1e4:\"10000\"}),lineHeight:m.types.number(27,{range:[0,1e3],nudgeMultiplier:1}),textAlign:m.types.stringLiteral(\"justify\",{center:\"center\",left:\"left\",right:\"right\",justify:\"justify\"}),scale:m.types.number(1,{nudgeMultiplier:.1})},IMAGE:{position:m.types.compound({x:m.types.number(50,{nudgeMultiplier:.5}),y:m.types.number(50,{nudgeMultiplier:.5})}),size:m.types.compound({width:m.types.number(300,{nudgeMultiplier:.5})}),border:m.types.compound({size:m.types.number(0),color:m.types.rgba({r:0,g:0,b:0,a:1}),radius:m.types.number(0,{range:[0,100],nudgeMultiplier:1})}),url:m.types.string(\"/default-image.png\"),opacity:m.types.number(1,{range:[0,1],nudgeMultiplier:.05}),visible:m.types.boolean(!0),scale:m.types.number(1,{nudgeMultiplier:.1}),zIndex:m.types.stringLiteral(\"10\",{bottom:\"-10\",0:\"0\",10:\"10\",100:\"100\",1e3:\"1000\",1e4:\"10000\"})},BACKGROUND:{position:m.types.compound({x:m.types.number(50,{nudgeMultiplier:.5}),y:m.types.number(50,{nudgeMultiplier:.5})}),size:m.types.compound({width:m.types.number(100,{nudgeMultiplier:.5}),height:m.types.number(100,{nudgeMultiplier:.5})}),scale:m.types.number(1,{nudgeMultiplier:.1}),border:m.types.compound({size:m.types.number(0),color:m.types.rgba({r:0,g:0,b:0,a:1}),radius:m.types.number(0,{range:[0,100],nudgeMultiplier:1})}),url:m.types.string(\"/default-image.png\"),opacity:m.types.number(1,{range:[0,1],nudgeMultiplier:.05}),visible:m.types.boolean(!0),zIndex:m.types.stringLiteral(\"bottom\",{bottom:\"-10\",0:\"0\",10:\"10\",100:\"100\",1e3:\"1000\",1e4:\"10000\"})},VIDEO:{position:m.types.compound({x:m.types.number(50,{nudgeMultiplier:.5}),y:m.types.number(50,{nudgeMultiplier:.5})}),size:m.types.compound({width:m.types.number(300,{nudgeMultiplier:.5}),height:m.types.number(200,{nudgeMultiplier:.5})}),visible:m.types.boolean(!0),isPlaying:m.types.boolean(!0),isLoop:m.types.boolean(!1),scale:m.types.number(1,{nudgeMultiplier:.1}),zIndex:m.types.stringLiteral(\"10\",{bottom:\"-10\",0:\"0\",10:\"10\",100:\"100\",1e3:\"1000\",1e4:\"10000\"})}},y=n(1),S=j.b.div(f||(f=Object(l.a)([\"\\n  position: absolute;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  word-wrap: break-word;\\n  transform-origin: center;\\n  box-sizing: border-box;\\n\"])));function w(e){var t=e.id,n=e.sheet,i=e.stageSize,o=e.draggable,a=void 0===o||o,c=n.object(t,Object(g.a)({},v.FONT)),s=Object(r.useState)(null),d=Object(u.a)(s,2),l=d[0],b=d[1],j=Object(r.useMemo)((function(){var e,t,n=!1;return{onDragStart:function(){e=p.a.scrub(),t=c.value,n=!1},onDrag:function(o,a){var r=o/i.width*100,s=a/i.height*100;n||(p.a.setSelection([c]),n=!0),e.capture((function(e){(0,e.set)(c.props,Object(g.a)(Object(g.a)({},t),{},{position:{x:r+t.position.x,y:s+t.position.y}}))}))},onDragEnd:function(t){t?e.commit():e.discard()},lockCursorTo:\"move\"}}),[]);a&&x(l,j);var h=Object(r.useState)({}),f=Object(u.a)(h,2),O=f[0],m=f[1],w=Object(r.useState)(\"\"),k=Object(u.a)(w,2),D=k[0],z=k[1];return Object(r.useEffect)((function(){c.onValuesChange((function(e){z(e.content),m({left:\"\".concat(e.position.x,\"%\"),top:\"\".concat(e.position.y,\"%\"),background:\"\".concat(e.bgColor),color:\"\".concat(e.font.color),opacity:\" \".concat(e.opacity),padding:\"\".concat(e.padding,\"px\"),display:\"\".concat(e.visible?\"block\":\"none\"),width:\"\".concat(e.size.width,\"px\"),fontSize:\"\".concat(e.font.size,\"px\"),borderRadius:\"\".concat(e.border.radius,\"px\"),border:\"\".concat(e.border.size,\"px solid \").concat(e.border.color),fontWeight:\"\".concat(e.font.weight),letterSpacing:\"\".concat(e.font.spacing,\"px\"),lineHeight:\"\".concat(e.lineHeight,\"px\"),textAlign:\"\".concat(e.textAlign),zIndex:\"\".concat(e.zIndex),transform:\"scale(\".concat(e.scale,\") translate(-50%, -50%)\")})}))}),[c]),Object(y.jsx)(S,{onClick:function(){p.a.setSelection([c])},ref:b,style:O,dangerouslySetInnerHTML:{__html:D}})}var k,D=j.b.div(O||(O=Object(l.a)([\"\\n  position: absolute;\\n  display: block;\\n  overflow: hidden;\\n  height: auto;\\n  box-sizing: border-box;\\n  outline: 1px solid red;\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: contain;\\n    display: block;\\n  }\\n\"])));function z(e){var t=e.id,n=e.sheet,i=e.stageSize,o=e.draggable,a=void 0===o||o,c=e.onLoad,s=e.onError,d=n.object(t,Object(g.a)({},v.IMAGE)),l=Object(r.useState)(null),b=Object(u.a)(l,2),j=b[0],h=b[1],f=Object(r.useMemo)((function(){var e,t,n=!1;return{onDragStart:function(){e=p.a.scrub(),t=d.value,n=!1},onDrag:function(o,a){var r=o/i.width*100,c=a/i.height*100;n||(p.a.setSelection([d]),n=!0),e.capture((function(e){(0,e.set)(d.props,Object(g.a)(Object(g.a)({},t),{},{position:{x:r+t.position.x,y:c+t.position.y}}))}))},onDragEnd:function(t){t?e.commit():e.discard()},lockCursorTo:\"move\"}}),[]);a&&x(j,f);var O=Object(r.useState)({}),m=Object(u.a)(O,2),S=m[0],w=m[1],k=Object(r.useState)(\"/default-image.png\"),z=Object(u.a)(k,2),E=z[0],N=z[1];return Object(r.useEffect)((function(){d.onValuesChange((function(e){N(e.url),w({left:\"\".concat(e.position.x,\"%\"),top:\"\".concat(e.position.y,\"%\"),width:\"\".concat(e.size.width,\"px\"),borderRadius:\"\".concat(e.border.radius,\"%\"),border:\"\".concat(e.border.size,\"px solid \").concat(e.border.color),background:\"\".concat(e.bgColor),opacity:\"\".concat(e.opacity),display:\"\".concat(e.visible?\"block\":\"none\"),transform:\"scale(\".concat(e.scale,\") translate(-50%, -50%)\"),zIndex:\"\".concat(e.zIndex)})}))}),[d]),Object(y.jsx)(D,{onClick:function(){p.a.setSelection([d])},ref:h,style:S,children:Object(y.jsx)(\"img\",{src:E,alt:t,onLoad:c,onError:function(e){e.target.src=\"/error-warning.png\",s()}})})}var E,N=j.b.div(k||(k=Object(l.a)([\"\\n  position: absolute;\\n  display: block;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  outline: 3px solid blue;\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n    /* object-fit: contain; */\\n    display: block;\\n    outline: 3px solid red;\\n    /* object-position: top center; */\\n  }\\n\"])));function C(e){var t=e.id,n=e.sheet,i=e.stageSize,o=e.draggable,a=void 0===o||o,c=e.onLoad,s=e.onError,d=n.object(t,Object(g.a)({},v.BACKGROUND)),l=Object(r.useState)(null),b=Object(u.a)(l,2),j=b[0],h=b[1],f=Object(r.useMemo)((function(){var e,t,n=!1;return{onDragStart:function(){e=p.a.scrub(),t=d.value,n=!1},onDrag:function(o,a){var r=o/i.width*100,c=a/i.height*100;n||(p.a.setSelection([d]),n=!0),e.capture((function(e){(0,e.set)(d.props,Object(g.a)(Object(g.a)({},t),{},{position:{x:r+t.position.x,y:c+t.position.y}}))}))},onDragEnd:function(t){t?e.commit():e.discard()},lockCursorTo:\"move\"}}),[]);a&&x(j,f);var O=Object(r.useState)({}),m=Object(u.a)(O,2),S=m[0],w=m[1],k=Object(r.useState)(\"/default-image.png\"),D=Object(u.a)(k,2),z=D[0],E=D[1];return Object(r.useEffect)((function(){d.onValuesChange((function(e){E(e.url),w({left:\"\".concat(e.position.x,\"%\"),top:\"\".concat(e.position.y,\"%\"),width:\"\".concat(e.size.width,\"%\"),height:\"\".concat(e.size.height,\"%\"),borderRadius:\"\".concat(e.border.radius,\"%\"),border:\"\".concat(e.border.size,\"px solid \").concat(e.border.color),background:\"\".concat(e.bgColor),opacity:\"\".concat(e.opacity),display:\"\".concat(e.visible?\"block\":\"none\"),transform:\"scale(\".concat(e.scale,\") translate(-50%, -50%)\"),zIndex:\"\".concat(e.zIndex)})}))}),[d]),Object(y.jsx)(N,{onClick:function(){p.a.setSelection([d])},ref:h,style:S,children:Object(y.jsx)(\"img\",{src:z,alt:t,onLoad:c,onError:function(e){e.target.src=\"/error-warning.png\",s()}})})}var I,M=j.b.video(E||(E=Object(l.a)([\"\\n  position: absolute;\\n  display: block;\\n  height: auto;\\n  box-sizing: border-box;\\n\\n  /* hide controls on iOS */\\n  &::-webkit-media-controls-panel,\\n  &::-webkit-media-controls-play-button,\\n  &::-webkit-media-controls-start-playback-button {\\n    display: none !important;\\n    -webkit-appearance: none !important;\\n  }\\n\"])));function J(e){var t=e.id,n=e.sheet,i=e.source,o=e.stageSize,a=e.draggable,c=void 0===a||a,s=e.onError,d=n.object(t,Object(g.a)({},v.VIDEO)),l=Object(r.useState)(null),b=Object(u.a)(l,2),j=b[0],h=b[1],f=Object(r.useMemo)((function(){var e,t,n=!1;return{onDragStart:function(){e=p.a.scrub(),t=d.value,n=!1},onDrag:function(i,a){var r=i/o.width*100,c=a/o.height*100;n||(p.a.setSelection([d]),n=!0),e.capture((function(e){(0,e.set)(d.props,Object(g.a)(Object(g.a)({},t),{},{position:{x:r+t.position.x,y:c+t.position.y}}))}))},onDragEnd:function(t){t?e.commit():e.discard()},lockCursorTo:\"move\"}}),[]);c&&x(j,f);var O=Object(r.useState)(!1),m=Object(u.a)(O,2),S=m[0],w=m[1],k=Object(r.useState)(!1),D=Object(u.a)(k,2),z=D[0],E=D[1];Object(r.useEffect)((function(){j&&S?null===j||void 0===j||j.play():null===j||void 0===j||j.pause()}),[S]);var N=Object(r.useState)({}),C=Object(u.a)(N,2),I=C[0],J=C[1];return Object(r.useEffect)((function(){d.onValuesChange((function(e){w(e.isPlaying),E(e.isLoop),J({left:\"\".concat(e.position.x,\"%\"),top:\"\".concat(e.position.y,\"%\"),display:\"\".concat(e.visible?\"block\":\"none\"),width:\"\".concat(e.size.width,\"px\"),height:\"\".concat(e.size.height,\"px\"),zIndex:\"\".concat(e.zIndex),transform:\"scale(\".concat(e.scale,\") translate(-50%, -50%)\")})}))}),[d]),Object(y.jsx)(M,{muted:!0,autoPlay:S,ref:h,style:I,preload:\"auto\",loop:z,onClick:function(){p.a.setSelection([d])},onError:s,children:Object(y.jsx)(\"source\",{src:i})})}var B=j.b.div(I||(I=Object(l.a)([\"\\n  width: 100%;\\n  height: 100%;\\n  /* padding-top: 56.25%; 16:9 \\u6bd4\\u4f8b\\uff0c\\u5373 9 / 16 * 100%/ */\\n  /* padding-top: 75%; // 4:3 */\\n  position: relative;\\n  overflow: hidden;\\n  margin: auto;\\n\"])));function L(e){var t=e.objData,n=e.sheet,i=e.stageSize,o=e.draggable,a=e.setLoadedMedias,r=void 0===a?function(){}:a,c=e.setHasMediaError,s=void 0===c?function(){}:c,d=function(){r((function(e){return e+1}))},u=function(){s(!0)},l=t.filter((function(e){return\"FONT\"===e.type})).map((function(e){return Object(y.jsx)(w,{id:e.id,sheet:n,stageSize:i,draggable:o},\"font\"+e.id)})),b=t.filter((function(e){return\"IMAGE\"===e.type})).map((function(e){return Object(y.jsx)(z,{id:e.id,sheet:n,stageSize:i,draggable:o,onLoad:d,onError:u},\"image\"+e.id)})),p=t.filter((function(e){return\"BACKGROUND\"===e.type})).map((function(e){return Object(y.jsx)(C,{id:e.id,sheet:n,stageSize:i,draggable:o,onLoad:d,onError:u},\"background\"+e.id)})),g=t.filter((function(e){return\"VIDEO\"===e.type})).map((function(e){return Object(y.jsx)(J,{id:e.id,source:e.src,sheet:n,stageSize:i,draggable:o,onError:u},\"video\"+e.id)}));return Object(y.jsxs)(B,{id:\"theatre-stage\",children:[l,b,p,g]})}var V,P,A=n(12),H=j.b.div(V||(V=Object(l.a)([\"\\n  padding: 5px;\\n  background: rgba(255, 255, 255, 0.95);\\n  max-width: 120px;\\n  border-radius: 10px;\\n  margin: 10px;\\n  outline: 2px solid #e9e9e9;\\n\\n  button {\\n    padding: 5px;\\n    background: white;\\n    margin: 5px;\\n    cursor: pointer;\\n    background: #e9e9e9;\\n    border: none;\\n    border-radius: 5px;\\n  }\\n\"]))),R=[{label:\"BG\",className:\"add-background\",onClick:function(e){(0,e.addBgElement)()}},{label:\"Font\",className:\"add-font\",onClick:function(e){(0,e.addFontElement)()}},{label:\"Image\",className:\"add-image\",onClick:function(e){(0,e.addImageElement)()}},{label:\"Video\",className:\"add-video\",onClick:function(e){(0,e.setShowVideoBox)(!0)}},{label:\"\\u522a\\u9664\\u5143\\u4ef6\",className:\"delete-element\",onClick:function(e){(0,e.setShowDeleteBox)(!0)}}];function G(e){var t=e.setShowDeleteBox,n=e.objData,i=e.setObjData,o=e.setShowVideoBox,a=function(){var e=n.filter((function(e){return\"FONT\"===e.type})).reduce((function(e,t){var n=parseInt(t.id.split(\"-\")[1]);return n>e?n:e}),0),t=\"font-\".concat(String(e+1).padStart(3,\"0\")),o=[].concat(Object(A.a)(n),[{id:t,type:\"FONT\"}]);localStorage.setItem(\"theatre-data\",JSON.stringify(o)),i(o)},r=function(){var e=n.filter((function(e){return\"IMAGE\"===e.type})).reduce((function(e,t){var n=parseInt(t.id.split(\"-\")[1]);return n>e?n:e}),0),t=\"img-\".concat(String(e+1).padStart(3,\"0\")),o=[].concat(Object(A.a)(n),[{id:t,type:\"IMAGE\"}]);localStorage.setItem(\"theatre-data\",JSON.stringify(o)),i(o)},c=function(){var e=n.filter((function(e){return\"BACKGROUND\"===e.type})).reduce((function(e,t){var n=parseInt(t.id.split(\"-\")[1]);return n>e?n:e}),0),t=\"bg-\".concat(String(e+1).padStart(3,\"0\")),o=[].concat(Object(A.a)(n),[{id:t,type:\"BACKGROUND\"}]);localStorage.setItem(\"theatre-data\",JSON.stringify(o)),i(o)};return Object(y.jsx)(H,{children:R.map((function(e,n){return Object(y.jsx)(\"button\",{className:e.className,onClick:function(){return e.onClick({setShowDeleteBox:t,addFontElement:a,addImageElement:r,addBgElement:c,setShowVideoBox:o})},children:e.label},n)}))})}var T,F,q,W=j.b.div(P||(P=Object(l.a)([\"\\n  padding: 5px;\\n  background: rgba(255, 255, 255, 0.95);\\n  max-width: 120px;\\n  border-radius: 10px;\\n  margin: 10px 0 10px 10px;\\n  outline: 2px solid #e9e9e9;\\n\\n  button {\\n    padding: 5px;\\n    margin: 5px;\\n    cursor: pointer;\\n    background: #e9e9e9;\\n    border: none;\\n    border-radius: 5px;\\n  }\\n\"]))),K=[{label:\"clear JSON\",onClick:function(){confirm(\"\\u5c07\\u6e05\\u7a7a project \\u6240\\u6709\\u8cc7\\u6599\")&&(localStorage.removeItem(\"theatre-data\"),localStorage.removeItem(\"theatre-0.4.persistent\"),window.location.reload())}},{label:\"show JSON\",onClick:function(e){var t,n,i,o,a,r=e.setShowJSONLightBox,c=e.setAnimateJSON,s=localStorage.getItem(\"theatre-0.4.persistent\");c(null!==(t=null===(n=JSON.parse(s))||void 0===n||null===(i=n.historic)||void 0===i||null===(o=i.innerState)||void 0===o||null===(a=o.coreByProject)||void 0===a?void 0:a.Project)&&void 0!==t?t:{}),r(!0)}},{label:\"Play\",onClick:function(e){e.sheet.sequence.play()}},{label:\"Pause\",onClick:function(e){e.sheet.sequence.pause()}}];function U(e){var t=e.setShowJSONLightBox,n=e.setAnimateJSON,i=e.sheet;return Object(y.jsxs)(W,{children:[K.map((function(e,o){return Object(y.jsx)(\"button\",{onClick:function(){return e.onClick({setShowJSONLightBox:t,setAnimateJSON:n,sheet:i})},children:e.label},o)})),Object(y.jsx)(s.b,{to:\"/demo-scroll\",target:\"_blank\",children:Object(y.jsx)(\"button\",{children:\"Scroll\"})}),Object(y.jsx)(s.b,{to:\"/demo-video\",target:\"_blank\",children:Object(y.jsx)(\"button\",{children:\"Video\"})})]})}var Y,$,_=j.b.div(T||(T=Object(l.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"]))),X=j.b.div(F||(F=Object(l.a)([\"\\n  background: white;\\n  border: 10px;\\n  padding: 10px 30px 30px;\\n  outline: 3px solid black;\\n  display: flex;\\n\\n  textarea {\\n    width: 100%;\\n    height: 100px;\\n    margin-bottom: 10px;\\n  }\\n\\n  button {\\n    padding: 10px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"]))),Q=j.b.div(q||(q=Object(l.a)([\"\\n  margin: 0 30px;\\n  width: 400px;\\n\"])));function Z(e){var t=e.setShowJSONLightBox,n=e.animateJSON,i=e.objData,o=e.setObjData,a=Object(r.useState)(\"\"),c=Object(u.a)(a,2),s=c[0],d=c[1],l=Object(r.useState)(\"\"),b=Object(u.a)(l,2),p=b[0],g=b[1];return Object(y.jsx)(_,{children:Object(y.jsxs)(X,{children:[Object(y.jsxs)(Q,{children:[Object(y.jsx)(\"h2\",{children:\" JSON \\u8cc7\\u6599 (Read only) \"}),Object(y.jsx)(\"p\",{children:\"\\u5143\\u4ef6 JSON\"}),Object(y.jsx)(\"textarea\",{placeholder:\"\\u5143\\u4ef6JSON\",value:JSON.stringify(i),readOnly:!0}),Object(y.jsx)(\"p\",{children:\"\\u52d5\\u756b JSON\"}),Object(y.jsx)(\"textarea\",{placeholder:\"\\u52d5\\u756bJSON\",value:JSON.stringify(n),readOnly:!0})]}),Object(y.jsxs)(Q,{children:[Object(y.jsx)(\"h2\",{children:\" Edit JSON \"}),Object(y.jsx)(\"p\",{children:\"\\u5143\\u4ef6 JSON\"}),Object(y.jsx)(\"textarea\",{placeholder:\"\\u8cbc\\u4e0a\\u8981\\u8b80\\u53d6\\u7684\\u5143\\u4ef6JSON\",value:s,onChange:function(e){return d(e.target.value)}}),Object(y.jsx)(\"p\",{children:\"\\u52d5\\u756b JSON\"}),Object(y.jsx)(\"textarea\",{placeholder:\"\\u8cbc\\u4e0a\\u8981\\u8b80\\u53d6\\u7684\\u52d5\\u756bJSON\",value:p,onChange:function(e){return g(e.target.value)}}),Object(y.jsx)(\"button\",{onClick:function(){t(!1)},children:\"Close\"}),Object(y.jsx)(\"button\",{onClick:function(){localStorage.setItem(\"theatre-data\",s),o(JSON.parse(s));var e=localStorage.getItem(\"theatre-0.4.persistent\"),t=JSON.parse(e),n=JSON.parse(p);n&&(t.historic.innerState.coreByProject.Project=n);var i=JSON.stringify(t);localStorage.setItem(\"theatre-0.4.persistent\",i),window.location.reload()},children:\"\\u5132\\u5b58\\u4fee\\u6539\"})]})]})})}var ee,te,ne=j.b.div(Y||(Y=Object(l.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"]))),ie=j.b.div($||($=Object(l.a)([\"\\n  width: 30%;\\n  height: 25%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 150px auto;\\n\\n  input {\\n    width: 70%;\\n    margin-bottom: 20px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));function oe(e){var t=e.setShowDeleteBox,n=e.setObjData,i=e.objData,o=e.sheet,a=Object(r.useState)(\"\"),c=Object(u.a)(a,2),s=c[0],d=c[1];return Object(y.jsx)(ne,{children:Object(y.jsxs)(ie,{children:[Object(y.jsx)(\"h2\",{children:\"\\u522a\\u9664\\u5143\\u4ef6 \"}),Object(y.jsx)(\"span\",{children:\"\\u5143\\u4ef6 ID\\uff1a \"}),Object(y.jsx)(\"input\",{placeholder:\"\",value:s,onChange:function(e){return d(e.target.value)}}),Object(y.jsx)(\"button\",{onClick:function(){!function(e){var t=i.filter((function(t){return t.id!==e}));n(t),localStorage.setItem(\"theatre-data\",JSON.stringify(t))}(s),o.detachObject(s),window.location.reload()},children:\"\\u78ba\\u5b9a\"}),Object(y.jsx)(\"button\",{onClick:function(){t(!1)},children:\"\\u53d6\\u6d88\"})]})})}var ae,re,ce=j.b.div(ee||(ee=Object(l.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"]))),se=j.b.div(te||(te=Object(l.a)([\"\\n  width: 30%;\\n  height: 25%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 150px auto;\\n\\n  input {\\n    width: 95%;\\n    margin-bottom: 20px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));function de(e){var t=e.setShowVideoBox,n=e.setObjData,i=e.objData,o=Object(r.useState)(\"\"),a=Object(u.a)(o,2),c=a[0],s=a[1];return Object(y.jsx)(ce,{children:Object(y.jsxs)(se,{children:[Object(y.jsx)(\"h2\",{children:\"\\u65b0\\u589e\\u5f71\\u7247\\u5143\\u4ef6 \"}),Object(y.jsx)(\"span\",{children:\" \\u5f71\\u7247\\u4f86\\u6e90\\uff1a \"}),Object(y.jsx)(\"input\",{placeholder:\"\",value:c,onChange:function(e){return s(e.target.value)}}),Object(y.jsx)(\"button\",{onClick:function(){!function(){var e=i.filter((function(e){return\"VIDEO\"===e.type})).reduce((function(e,t){var n=parseInt(t.id.split(\"-\")[1]);return n>e?n:e}),0),t=\"video-\".concat(String(e+1).padStart(3,\"0\")),o=[].concat(Object(A.a)(i),[{id:t,type:\"VIDEO\",src:c}]);localStorage.setItem(\"theatre-data\",JSON.stringify(o)),n(o)}(),window.location.reload()},children:\"\\u78ba\\u5b9a\"}),Object(y.jsx)(\"button\",{onClick:function(){t(!1)},children:\"\\u53d6\\u6d88\"})]})})}var ue,le=j.b.div(ae||(ae=Object(l.a)([\"\\n  position: relative;\\n  z-index: 999999;\\n\"]))),be=j.b.div(re||(re=Object(l.a)([\"\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  justify-content: space-between;\\n  z-index: 100;\\n\"])));function pe(e){var t=e.sheet,n=e.setObjData,i=e.objData,o=Object(r.useState)(!1),a=Object(u.a)(o,2),c=a[0],s=a[1],d=Object(r.useState)(!1),l=Object(u.a)(d,2),b=l[0],p=l[1],g=Object(r.useState)(!1),j=Object(u.a)(g,2),h=j[0],x=j[1],f=Object(r.useState)({}),O=Object(u.a)(f,2),m=O[0],v=O[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(le,{id:\"lightbox-wrapper\",children:[c&&Object(y.jsx)(Z,{setShowJSONLightBox:s,animateJSON:m,objData:i,setObjData:n}),b&&Object(y.jsx)(oe,{objData:i,setObjData:n,setShowDeleteBox:p,sheet:t}),h&&Object(y.jsx)(de,{objData:i,setObjData:n,setShowVideoBox:x})]}),Object(y.jsxs)(be,{children:[Object(y.jsx)(U,{setShowJSONLightBox:s,setAnimateJSON:v,sheet:t}),Object(y.jsx)(G,{setShowDeleteBox:p,setObjData:n,objData:i,setShowVideoBox:x})]})]})}var ge,je,he,xe=\"#29e2f3\",fe=\"red\",Oe=j.b.div(ue||(ue=Object(l.a)([\"\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  margin: auto;\\n  z-index: 15000;\\n\\n  background-image: repeating-linear-gradient(\\n      to right,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 49.5px\\n    ),\\n    repeating-linear-gradient(\\n      to right,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 99.5px\\n    ),\\n    repeating-linear-gradient(\\n      to bottom,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 49.5px\\n    ),\\n    repeating-linear-gradient(\\n      to bottom,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 99.5px\\n    );\\n  background-size: 100px 100px;\\n  background-repeat: repeat;\\n  background-position: 100% 100%;\\n  pointer-events: none;\\n  opacity: 0.5;\\n\\n  // center-line-horizon\\n  &::before {\\n    content: '';\\n    position: absolute;\\n    top: 50%;\\n    left: 0;\\n    width: 100%;\\n    height: \",\";\\n    background-image: repeating-linear-gradient(\\n      to right,\\n      transparent,\\n      transparent 5px,\\n      \",\" 5px,\\n      \",\" 15px\\n    );\\n  }\\n\\n  // center-line-vertical\\n  &::after {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    left: 50%;\\n    width: \",\";\\n    height: 100%;\\n    background-image: repeating-linear-gradient(\\n      to bottom,\\n      transparent,\\n      transparent 5px,\\n      \",\" 5px,\\n      \",\" 15px\\n    );\\n  }\\n\"])),xe,xe,xe,xe,xe,xe,xe,xe,\"2px\",fe,fe,\"2px\",fe,fe);function me(){return Object(y.jsx)(Oe,{})}var ve,ye,Se,we=j.b.div(ge||(ge=Object(l.a)([\"\\n  position: fixed;\\n  left: 35px;\\n  bottom: \",\";\\n  width: 220px;\\n  height: 20px;\\n  z-index: 100;\\n\\n  input {\\n    position: absolute;\\n    top: 50%;\\n    z-index: 3;\\n    transform: translateY(-50%);\\n    -webkit-appearance: none;\\n    appearance: none;\\n    width: 100%;\\n    height: 4px;\\n    opacity: 0;\\n    margin: 0;\\n  }\\n\"])),(function(e){return\"width\"===e.type?\"200px\":\"250px\"})),ke=j.b.div(je||(je=Object(l.a)([\"\\n  width: 60px;\\n  height: 25px;\\n  border: 0.6px solid #303030;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%) translateX(-50%);\\n  background-color: #f4f4f4;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #303030;\\n  z-index: 2;\\n  border-radius: 5%;\\n  cursor: pointer;\\n  user-select: none;\\n\"]))),De=j.b.div(he||(he=Object(l.a)([\"\\n  height: 4px;\\n  width: 100%;\\n  background-color: #e1e1e1;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  left: 0;\\n  position: absolute;\\n  z-index: 1;\\n\\n  .fill {\\n    position: absolute;\\n    height: 4px;\\n    background-color: #303030;\\n  }\\n\"])));function ze(e){var t,n=e.sliderValue,i=e.setSliderValue,o=e.type,a=void 0===o?\"width\":o;return\"width\"===a?t=window.innerWidth:\"height\"===a&&(t=window.innerHeight),Object(y.jsxs)(we,{type:a,children:[Object(y.jsxs)(ke,{style:{left:n/t*200+\"px\"},children:[n,\" px\"]}),Object(y.jsx)(De,{children:Object(y.jsx)(\"div\",{className:\"fill\",style:{width:n/t*100+\"%\"}})}),Object(y.jsx)(\"input\",{type:\"range\",value:n,min:\"250\",max:t,onChange:function(e){var t=parseInt(e.target.value,10);i(t)}})]})}var Ee=j.b.div(ve||(ve=Object(l.a)([\"\\n  width: 100vw;\\n  height: 100vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]))),Ne=j.b.div(ye||(ye=Object(l.a)([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  outline: 2px solid #29e2f3;\\n  margin: auto;\\n  z-index: 5;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]))),Ce=j.b.div(Se||(Se=Object(l.a)([\"\\n  z-index: 10;\\n\"])));function Ie(){p.a.initialize();var e=Object(m.getProject)(\"Project\",{}),t=e.sheet(\"Scene\",\"default\");e.ready.then((function(){return t.sequence.pause()}));var n=localStorage.getItem(\"theatre-data\"),i=n?JSON.parse(n):[],o=Object(r.useState)(i),a=Object(u.a)(o,2),c=a[0],s=a[1],d=Object(r.useState)(!0),l=Object(u.a)(d,2),b=l[0],g=l[1],j=Object(r.useState)(!0),h=Object(u.a)(j,2),x=h[0],f=h[1];p.a.ui[x?\"restore\":\"hide\"](),Object(r.useEffect)((function(){var e=function(e){\"Escape\"===e.key&&f(!x),\"Backquote\"!==e.key&&\"`\"!==e.key||g(!b)};return document.addEventListener(\"keydown\",e),function(){document.removeEventListener(\"keydown\",e)}}));var O=Object(r.useState)(window.innerWidth),v=Object(u.a)(O,2),S=v[0],w=v[1],k=Object(r.useState)(window.innerHeight),D=Object(u.a)(k,2),z=D[0],E=D[1];return Object(y.jsxs)(Ee,{children:[x&&Object(y.jsxs)(Ce,{children:[Object(y.jsx)(pe,{sheet:t,setObjData:s,objData:c}),Object(y.jsx)(ze,{setSliderValue:w,sliderValue:S,type:\"width\"}),Object(y.jsx)(ze,{setSliderValue:E,sliderValue:z,type:\"height\"})]}),Object(y.jsxs)(Ne,{style:{maxWidth:S,maxHeight:z},children:[Object(y.jsx)(L,{objData:c,sheet:t,stageSize:{width:S,height:z}}),b&&Object(y.jsx)(me,{})]})]})}var Me,Je,Be,Le,Ve,Pe,Ae,He=n(85),Re={enter:200,exit:200},Ge=Object(j.c)(Me||(Me=Object(l.a)([\"\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: .4;\\n  }\\n\"]))),Te=j.b.div(Je||(Je=Object(l.a)([\"\\n  width: 100%;\\n  height: 100%;\\n  background: #000;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  backdrop-filter: blur(5px);\\n\"]))),Fe=j.b.div(Be||(Be=Object(l.a)([\"\\n  z-index: 100000;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  opacity: \",\";\\n  transition: \",\";\\n\"])),(function(e){switch(e.$state){case\"exited\":case\"exiting\":return\"0\";default:return\"1\"}}),(function(e){switch(e.$state){case\"exiting\":case\"exited\":return\"opacity \".concat(Re.exit,\"ms ease\");default:return\"opacity \".concat(Re.enter,\"ms ease\")}})),qe=j.b.div(Le||(Le=Object(l.a)([\"\\n  text-align: center;\\n  transform: translate(-50%, -50%);\\n  top: 50%;\\n  left: 50%;\\n  position: absolute;\\n  font-size: 1.8rem;\\n  width: 69%;\\n  @media screen and (max-width: 767px) {\\n    font-size: 1.5rem;\\n  }\\n  font-weight: bold;\\n  color: #fff;\\n  \",\"\\n\"])),(function(e){return e.$shining?Object(j.a)(Ve||(Ve=Object(l.a)([\"\\n          opacity: 1;\\n          will-change: opacity;\\n          animation: \",\" 0.65s ease-in-out;\\n          animation-direction: alternate;\\n          animation-iteration-count: infinite;\\n        \"])),Ge):\"\"}));function We(e){var t=e.show,n=void 0!==t&&t,i=e.message,o=void 0===i?\"\":i,a=e.shining,r=void 0!==a&&a;return Object(y.jsx)(He.a,{unmountOnExit:!0,in:n,timeout:Re,children:function(e){return Object(y.jsxs)(Fe,{$state:e,children:[Object(y.jsx)(Te,{}),Object(y.jsx)(qe,{$shining:r,children:o})]})}})}var Ke,Ue=j.b.div(Pe||(Pe=Object(l.a)([\"\\n  position: relative;\\n  width: 100vw;\\n  min-width: 100vw;\\n  max-width: 100vw;\\n  min-height: 100vh;\\n  background: #ffffff;\\n\"]))),Ye=j.b.div(Ae||(Ae=Object(l.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]))),$e=1500;function _e(){p.a.initialize(),p.a.ui.hide();var e=Object(m.getProject)(\"Project\",{}),t=e.sheet(\"Scene\",\"default\");e.ready.then((function(){return t.sequence.pause()}));var n=localStorage.getItem(\"theatre-data\"),i=n?JSON.parse(n):[],o=Object(r.useState)(0),a=Object(u.a)(o,2),c=a[0],s=a[1],d=Object(m.val)(t.sequence.pointer.length),l=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=function(){var e=l.current,t=e.closest(\".theatre-scroll-sizer\"),n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=n.top-i.top;s(o)};return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[]),Object(r.useEffect)((function(){var e=c/(d*$e)*d;t.sequence.position=e}),[c]);var b=Object(r.useState)(!1),g=Object(u.a)(b,2),j=g[0],h=g[1],x=Object(r.useState)(0),f=Object(u.a)(x,2),O=f[0],v=f[1],S=Object(r.useState)(!0),w=Object(u.a)(S,2),k=w[0],D=w[1],z=i.filter((function(e){return\"IMAGE\"===e.type||\"BACKGROUND\"===e.type})).length;Object(r.useEffect)((function(){O===z&&D(!1)}),[O,z]);var E=j||k?\"100vh\":\"\".concat(d*$e,\"px\");return Object(y.jsx)(Ue,{className:\"theatre-scroll-sizer\",style:{height:E},children:Object(y.jsxs)(Ye,{ref:l,children:[Object(y.jsx)(We,{show:k&&!j,message:\"\\u8f09\\u5165\\u4e2d\",shining:!0}),Object(y.jsx)(We,{show:j,message:\"\\u8f09\\u5165\\u5931\\u6557\\u3002\\u8acb\\u6aa2\\u67e5\\u60a8\\u7684\\u7db2\\u8def\\u9023\\u7dda\\uff0c\\u4e26\\u91cd\\u65b0\\u6574\\u7406\\u700f\\u89bd\\u5668\\u3002\"}),Object(y.jsx)(L,{objData:i,sheet:t,stageWidth:window.innerWidth,draggable:!1,setHasMediaError:h,setLoadedMedias:v})]})})}var Xe=j.b.div(Ke||(Ke=Object(l.a)([\"\\n  width: 100vw;\\n  height: 100vh;\\n\"])));function Qe(){p.a.initialize(),p.a.ui.hide();var e=Object(m.getProject)(\"Project\",{}),t=e.sheet(\"Scene\",\"default\");e.ready.then((function(){return t.sequence.play({iterationCount:1/0})}));var n=localStorage.getItem(\"theatre-data\"),i=n?JSON.parse(n):[],o=Object(r.useState)(!1),a=Object(u.a)(o,2),c=a[0],s=a[1],d=Object(r.useState)(0),l=Object(u.a)(d,2),b=l[0],g=l[1],j=Object(r.useState)(!0),h=Object(u.a)(j,2),x=h[0],f=h[1],O=i.filter((function(e){return\"IMAGE\"===e.type||\"BACKGROUND\"===e.type})).length;return Object(r.useEffect)((function(){b===O&&f(!1)}),[b,O]),Object(y.jsxs)(Xe,{children:[Object(y.jsx)(We,{show:x&&!c,message:\"\\u8f09\\u5165\\u4e2d\",shining:!0}),Object(y.jsx)(We,{show:c,message:\"\\u8f09\\u5165\\u5931\\u6557\\u3002\\u8acb\\u6aa2\\u67e5\\u60a8\\u7684\\u7db2\\u8def\\u9023\\u7dda\\uff0c\\u4e26\\u91cd\\u65b0\\u6574\\u7406\\u700f\\u89bd\\u5668\\u3002\"}),Object(y.jsx)(L,{objData:i,sheet:t,stageWidth:window.innerWidth,draggable:!1,setHasMediaError:s,setLoadedMedias:g})]})}function Ze(){return Object(y.jsx)(s.a,{children:Object(y.jsxs)(d.c,{children:[Object(y.jsx)(d.a,{path:\"/\",element:Object(y.jsx)(Ie,{})}),Object(y.jsx)(d.a,{path:\"demo-scroll\",element:Object(y.jsx)(_e,{})}),Object(y.jsx)(d.a,{path:\"demo-video\",element:Object(y.jsx)(Qe,{})})]})})}var et=document.getElementById(\"root\");o.a.createRoot(et).render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(Ze,{})})),a()}},[[81,1,2]]]);","name":"static/js/main.17abd35a.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","client","client_default","n","src_reportWebVitals","onPerfEntry","Function","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","react","react_default","dist","react_router_dist","slicedToArray","taggedTemplateLiteral","studio_dist","dist_default","objectSpread2","styled_components_browser_esm","noop","useDrag","target","opts","optsRef","Object","current","modeRef","stateRef","dragHappened","startPos","x","y","relinquishCursorLock","dragHandler","event","lockCursorTo","cursor","el","document","createElement","style","cssText","body","appendChild","removeChild","createCursorLock","deltas","screenX","screenY","getDistances","onDrag","dragEndHandler","removeDragListeners","onDragEnd","removeEventListener","preventUnwantedClick","disabled","dontBlockMouseDown","stopPropagation","preventDefault","dragStartHandler","button","onDragStart","addEventListener","onMouseDown","_templateObject","image_templateObject","core_dist","initialConfig","FONT","position","compound","number","nudgeMultiplier","size","width","bgColor","rgba","g","b","a","font","color","weight","range","spacing","border","radius","content","string","opacity","padding","visible","boolean","zIndex","stringLiteral","bottom","lineHeight","textAlign","center","left","right","justify","scale","IMAGE","url","BACKGROUND","height","VIDEO","isPlaying","isLoop","jsx_runtime","FontWrapper","div","FontElement","id","sheet","stageSize","_ref$draggable","draggable","object","_useState","_useState2","divRef","setDivRef","dragOpts","scrub","initial","firstOnDragCalled","value","percentX","percentY","setSelection","capture","_ref2","set","props","commit","discard","_useState3","_useState4","setStyle","_useState5","_useState6","setContent","onValuesChange","newValue","concat","top","background","display","fontSize","borderRadius","fontWeight","letterSpacing","transform","onClick","ref","dangerouslySetInnerHTML","__html","background_templateObject","ImageWrapper","ImageElement","onLoad","_onError","onError","imageUrl","setImageUrl","children","src","alt","video_templateObject","BgWrapper","BackgroundElement","stage_templateObject","Video","video","VideoElement","source","setIsPlaying","setIsLoop","play","pause","_useState7","_useState8","muted","autoPlay","preload","loop","Wrapper","Stage","objData","_ref$setLoadedMedias","setLoadedMedias","_ref$setHasMediaError","setHasMediaError","handleOnLoad","prev","handleOnError","fontElements","filter","data","type","map","imageElements","bgElements","videoElements","element_button_templateObject","setting_button_templateObject","toConsumableArray","element_button_Wrapper","buttons","label","className","addBgElement","addFontElement","_ref3","addImageElement","_ref4","setShowVideoBox","_ref5","setShowDeleteBox","ElementButtons","_ref6","setObjData","lastFontId","element","reduce","maxId","idNumber","parseInt","split","nextFontId","String","padStart","updatedElementData","localStorage","setItem","JSON","stringify","index","show_json_templateObject","_templateObject2","_templateObject3","setting_button_Wrapper","setting_button_buttons","confirm","removeItem","window","location","reload","_JSON$parse$historic$","_JSON$parse","_JSON$parse$historic","_JSON$parse$historic$2","_JSON$parse$historic$3","setShowJSONLightBox","setAnimateJSON","animate","getItem","parse","historic","innerState","coreByProject","Project","sequence","SettingButtons","to","delete_obj_templateObject","delete_obj_templateObject2","show_json_Wrapper","Form","Block","JSONLightBox","animateJSON","inputObj","setInputObj","inputAnimate","setInputAnimate","placeholder","readOnly","onChange","animateData","inputAnimateData","updatedAnimate","add_video_templateObject","add_video_templateObject2","delete_obj_Wrapper","delete_obj_Form","DeleteLightBox","deleteID","setDeleteID","filteredData","item","deleteObject","detachObject","edit_panel_templateObject","edit_panel_templateObject2","add_video_Wrapper","add_video_Form","AddVideo","setSource","lastVideoId","nextVideoId","addVideoElement","grid_line_templateObject","LightBoxWrapper","ButtonWrapper","EditPanel","showJSONLightBox","showDeleteBox","showVideoBox","range_slider_templateObject","range_slider_templateObject2","range_slider_templateObject3","gridColor","centerLineColor","Grid","GridLine","playground_templateObject","playground_templateObject2","playground_templateObject3","RangeBar","Thumb","Line","RangeSlider","screenSize","sliderValue","setSliderValue","_ref$type","innerWidth","innerHeight","min","max","playground_Wrapper","EditArea","PanelWrapper","Playground","initialize","project","ready","initialObjJson","initialObjData","showGrid","setShowGrid","showPanel","setShowPanel","ui","handleKeyDown","key","widthSliderValue","setWidthSliderValue","_useState9","_useState10","heightSliderValue","setHeightSliderValue","maxWidth","maxHeight","dimmer_with_message_templateObject","dimmer_with_message_templateObject2","dimmer_with_message_templateObject3","_templateObject4","_templateObject5","demo_scroll_templateObject","demo_scroll_templateObject2","Transition","transitionDuration","enter","exit","textAnimation","Dimmer","Container","$state","Text","$shining","DimmerWithMessage","_ref$show","show","_ref$message","message","_ref$shining","shining","unmountOnExit","in","timeout","state","demo_video_templateObject","ScrollSizer","StickyBox","defaultScrollScale","DemoScroll","hide","objJson","scrollPosition","setScrollPosition","sequenceLength","pointer","length","stageRef","handleScroll","stage","sizer","closest","stageRect","getBoundingClientRect","sizerRect","distance","newPosition","hasMediaError","loadedMedias","isLoading","setIsLoading","totalMedias","sizerHeight","stageWidth","VideoWrapper","DemoVideo","iterationCount","Infinity","App","path","rootElement","getElementById","createRoot","render","StrictMode"],"sources":["static/js/main.17abd35a.chunk.js"],"mappings":"CAACA,KAAK,6BAA+BA,KAAK,8BAAgC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElF,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAASF,EAAoB,IAC7BG,EAA8BH,EAAoBI,EAAEF,GAGyYG,EAA7a,SAAyBC,GAAgBA,GAAaA,aAAuBC,UAAUP,EAAoBQ,EAAiB,GAAGC,KAAKT,EAAoBU,KAAK,KAAM,KAAKD,MAAK,SAASE,GAAM,IAAIC,EAAOD,EAAKC,OAAOC,EAAOF,EAAKE,OAAOC,EAAOH,EAAKG,OAAOC,EAAOJ,EAAKI,OAAOC,EAAQL,EAAKK,QAAQJ,EAAON,GAAaO,EAAOP,GAAaQ,EAAOR,GAAaS,EAAOT,GAAaU,EAAQV,EAAa,GAAI,EAE1ZW,EAAQjB,EAAoB,GAC5BkB,EAA6BlB,EAAoBI,EAAEa,GAGnDE,EAAOnB,EAAoB,IAG3BoB,EAAoBpB,EAAoB,GAGxCqB,EAAgBrB,EAAoB,GAGpCsB,EAAwBtB,EAAoB,GAG5CuB,EAAcvB,EAAoB,GAClCwB,EAA4BxB,EAAoBI,EAAEmB,GAGlDE,EAAgBzB,EAAoB,IAGpC0B,EAAgC1B,EAAoB,GAGpD2B,EAAK,WAAgB,EAAiV,SAASC,EAAQC,EAAOC,GAAM,IAAIC,EAAQC,OAAOf,EAAc,OAArBe,CAAwBF,GAAMC,EAAQE,QAAQH,EAAK,IAAII,EAAQF,OAAOf,EAAc,OAArBe,CAAwB,eAAmBG,EAASH,OAAOf,EAAc,OAArBe,CAAwB,CAACI,cAAa,EAAMC,SAAS,CAACC,EAAE,EAAEC,EAAE,KAAKP,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,GAAIH,EAAJ,CAAkB,IAAqJW,EAAqBb,EAASc,EAAY,SAAqBC,IAAWP,EAASF,QAAQG,cAAcL,EAAQE,QAAQU,eAAcH,EAAj4B,SAA0BI,GAAQ,IAAIC,EAAGC,SAASC,cAAc,OAA4P,OAArPF,EAAGG,MAAMC,QAAQ,0GAA0GJ,EAAGG,MAAMJ,OAAOA,EAAOE,SAASI,KAAKC,YAAYN,GAAmB,WAAsBC,SAASI,KAAKE,YAAYP,EAAI,CAAoB,CAAwkBQ,CAAiBtB,EAAQE,QAAQU,eAAmBR,EAASF,QAAQG,eAAaD,EAASF,QAAQG,cAAa,GAAKF,EAAQD,QAAQ,WAAW,IAAIqB,EAApb,SAAsBZ,GAAO,IAAIL,EAASF,EAASF,QAAQI,SAAS,MAAM,CAACK,EAAMa,QAAQlB,EAASC,EAAEI,EAAMc,QAAQnB,EAASE,EAAG,CAA6TkB,CAAaf,GAAOX,EAAQE,QAAQyB,OAAOJ,EAAO,GAAGA,EAAO,GAAGZ,EAAO,EAAMiB,EAAe,WAA0BC,IAAsB1B,EAAQD,QAAQ,cAAcF,EAAQE,QAAQ4B,WAAW9B,EAAQE,QAAQ4B,UAAU1B,EAASF,QAAQG,cAAcI,IAAuBA,EAAqBb,CAAK,EAAgKiC,EAAoB,WAA+Bd,SAASgB,oBAAoB,YAAYrB,GAAaK,SAASgB,oBAAoB,UAAUH,EAAgB,EAAMI,EAAqB,SAA8BrB,GAAUX,EAAQE,QAAQ+B,UAAmB7B,EAASF,QAAQG,eAAkBL,EAAQE,QAAQgC,oBAAsC,gBAAlB/B,EAAQD,UAAyBS,EAAMwB,kBAAkBxB,EAAMyB,kBAAkBhC,EAASF,QAAQG,cAAa,EAAO,EAAMgC,EAAiB,SAA0B1B,GAAO,IAAIZ,EAAKC,EAAQE,QAAQ,IAAmB,IAAhBH,EAAKkC,WAAyC,IAAftB,EAAM2B,SAAiG,KAA7DvC,EAAKwC,aAAaxC,EAAKwC,YAAY5B,KAAO,CAAoCZ,EAAKmC,qBAAoBvB,EAAMwB,kBAAkBxB,EAAMyB,kBAAkBjC,EAAQD,QAAQ,kBAAkB,IAAIsB,EAAQb,EAAMa,QAAQC,EAAQd,EAAMc,QAAQrB,EAASF,QAAQI,SAAS,CAACC,EAAEiB,EAAQhB,EAAEiB,GAASrB,EAASF,QAAQG,cAAa,EAApgCU,SAASyB,iBAAiB,YAAY9B,GAAaK,SAASyB,iBAAiB,UAAUZ,EAA+rB,CAAuQ,EAAMa,EAAY,SAAqBhE,GAAG4D,EAAiB5D,EAAG,EAAyG,OAAvGqB,EAAO0C,iBAAiB,YAAYC,GAAa3C,EAAO0C,iBAAiB,QAAQR,GAA6B,WAAWH,IAAsB/B,EAAOiC,oBAAoB,YAAYU,GAAa3C,EAAOiC,oBAAoB,QAAQC,GAAsBvB,IAA4C,gBAAlBN,EAAQD,SAAyBF,EAAQE,QAAQ4B,WAAW9B,EAAQE,QAAQ4B,UAA4B,aAAlB3B,EAAQD,SAAuBC,EAAQD,QAAQ,aAAc,CAApzE,CAAszE,GAAE,CAACJ,GAAS,CAEj8F,IAgBI4C,EAIAC,EApBAC,EAAY3E,EAAoB,GAWhC4E,EAAc,CAACC,KARV,CAACC,SAASH,EAAiB,MAAEI,SAAS,CAACzC,EAAEqC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,KAAM1C,EAAEoC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,OAAQC,KAAKP,EAAiB,MAAEI,SAAS,CAACI,MAAMR,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,MAAMG,QAAQT,EAAiB,MAAEU,KAAK,CAACpF,EAAE,EAAEqF,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAAIC,KAAKd,EAAiB,MAAEI,SAAS,CAACG,KAAKP,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,IAAIS,MAAMf,EAAiB,MAAEU,KAAK,CAACpF,EAAE,IAAIqF,EAAE,IAAIC,EAAE,IAAIC,EAAE,IAAIG,OAAOhB,EAAiB,MAAEK,OAAO,IAAI,CAACY,MAAM,CAAC,IAAI,KAAKX,gBAAgB,MAAMY,QAAQlB,EAAiB,MAAEK,OAAO,GAAI,CAACY,MAAM,CAAC,EAAE,KAAKX,gBAAgB,OAAQa,OAAOnB,EAAiB,MAAEI,SAAS,CAACG,KAAKP,EAAiB,MAAEK,OAAO,GAAGU,MAAMf,EAAiB,MAAEU,KAAK,CAACpF,EAAE,EAAEqF,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAAIO,OAAOpB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,KAAKX,gBAAgB,MAAMe,QAAQrB,EAAiB,MAAEsB,OAAO,kCAASC,QAAQvB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,GAAGX,gBAAgB,MAAOkB,QAAQxB,EAAiB,MAAEK,OAAO,GAAG,CAACY,MAAM,CAAC,EAAE,KAAMX,gBAAgB,IAAImB,QAAQzB,EAAiB,MAAE0B,SAAQ,GAAMC,OAAO3B,EAAiB,MAAE4B,cAAc,KAAK,CAACC,OAAO,MAAM,EAAE,IAAI,GAAG,KAAK,IAAI,MAAM,IAAK,OAAO,IAAM,UAAUC,WAAW9B,EAAiB,MAAEK,OAAO,GAAG,CAACY,MAAM,CAAC,EAAE,KAAMX,gBAAgB,IAAIyB,UAAU/B,EAAiB,MAAE4B,cAAc,UAAU,CAACI,OAAO,SAASC,KAAK,OAAOC,MAAM,QAAQC,QAAQ,YAAYC,MAAMpC,EAAiB,MAAEK,OAAO,EAAE,CAACC,gBAAgB,MAQh0C+B,MANnB,CAAClC,SAASH,EAAiB,MAAEI,SAAS,CAACzC,EAAEqC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,KAAM1C,EAAEoC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,OAAQC,KAAKP,EAAiB,MAAEI,SAAS,CAACI,MAAMR,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,OAAQa,OAAOnB,EAAiB,MAAEI,SAAS,CAACG,KAAKP,EAAiB,MAAEK,OAAO,GAAGU,MAAMf,EAAiB,MAAEU,KAAK,CAACpF,EAAE,EAAEqF,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAAIO,OAAOpB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,KAAKX,gBAAgB,MAAMgC,IAAItC,EAAiB,MAAEsB,OAAO,sBAAsBC,QAAQvB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,GAAGX,gBAAgB,MAAOmB,QAAQzB,EAAiB,MAAE0B,SAAQ,GAAMU,MAAMpC,EAAiB,MAAEK,OAAO,EAAE,CAACC,gBAAgB,KAAMqB,OAAO3B,EAAiB,MAAE4B,cAAc,KAAK,CAACC,OAAO,MAAM,EAAE,IAAI,GAAG,KAAK,IAAI,MAAM,IAAK,OAAO,IAAM,WAMvtBU,WAJ1B,CAACpC,SAASH,EAAiB,MAAEI,SAAS,CAACzC,EAAEqC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,KAAM1C,EAAEoC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,OAAQC,KAAKP,EAAiB,MAAEI,SAAS,CAACI,MAAMR,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,KAAMkC,OAAOxC,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,OAAQ8B,MAAMpC,EAAiB,MAAEK,OAAO,EAAE,CAACC,gBAAgB,KAAMa,OAAOnB,EAAiB,MAAEI,SAAS,CAACG,KAAKP,EAAiB,MAAEK,OAAO,GAAGU,MAAMf,EAAiB,MAAEU,KAAK,CAACpF,EAAE,EAAEqF,EAAE,EAAEC,EAAE,EAAEC,EAAE,IAAIO,OAAOpB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,KAAKX,gBAAgB,MAAMgC,IAAItC,EAAiB,MAAEsB,OAAO,sBAAsBC,QAAQvB,EAAiB,MAAEK,OAAO,EAAE,CAACY,MAAM,CAAC,EAAE,GAAGX,gBAAgB,MAAOmB,QAAQzB,EAAiB,MAAE0B,SAAQ,GAAMC,OAAO3B,EAAiB,MAAE4B,cAAc,SAAS,CAACC,OAAO,MAAM,EAAE,IAAI,GAAG,KAAK,IAAI,MAAM,IAAK,OAAO,IAAM,WAItwBY,MAFrD,CAACtC,SAASH,EAAiB,MAAEI,SAAS,CAACzC,EAAEqC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,KAAM1C,EAAEoC,EAAiB,MAAEK,OAAO,GAAG,CAACC,gBAAgB,OAAQC,KAAKP,EAAiB,MAAEI,SAAS,CAACI,MAAMR,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,KAAMkC,OAAOxC,EAAiB,MAAEK,OAAO,IAAI,CAACC,gBAAgB,OAAQmB,QAAQzB,EAAiB,MAAE0B,SAAQ,GAAMgB,UAAU1C,EAAiB,MAAE0B,SAAQ,GAAMiB,OAAO3C,EAAiB,MAAE0B,SAAQ,GAAOU,MAAMpC,EAAiB,MAAEK,OAAO,EAAE,CAACC,gBAAgB,KAAMqB,OAAO3B,EAAiB,MAAE4B,cAAc,KAAK,CAACC,OAAO,MAAM,EAAE,IAAI,GAAG,KAAK,IAAI,MAAM,IAAK,OAAO,IAAM,YAIjlBe,EAAcvH,EAAoB,GAGdwH,EAAY9F,EAA+C,EAAE+F,IAAIhD,IAAkBA,EAAgBzC,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,wLAAwL,SAAS0F,EAAY/G,GAAM,IAAIgH,EAAGhH,EAAKgH,GAAGC,EAAMjH,EAAKiH,MAAMC,EAAUlH,EAAKkH,UAAUC,EAAenH,EAAKoH,UAAUA,OAA2B,IAAjBD,GAA6BA,EAAmBE,EAAOJ,EAAMI,OAAOL,EAAG3F,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAE4C,EAAcC,OAC9lBoD,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAASrG,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,IAAIsG,EAAUC,EAAYC,GAAkB,EAAM,MAAM,CAAClE,YAAY,WAAuBgE,EAAM9G,EAAagE,EAAE8C,QAAQC,EAAQP,EAAOS,MAAMD,GAAkB,CAAM,EAAE9E,OAAO,SAAgBpB,EAAEC,GAAG,IAAImG,EAASpG,EAAEuF,EAAU1C,MAAM,IAAQwD,EAASpG,EAAEsF,EAAUV,OAAO,IAAQqB,IAAmBhH,EAAagE,EAAEoD,aAAa,CAACZ,IAASQ,GAAkB,GAAMF,EAAMO,SAAQ,SAASC,IAAyBC,EAAVD,EAAMC,KAAQf,EAAOgB,MAAMhH,OAAOP,EAA+B,EAAtCO,CAAyCA,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAEuG,GAAS,CAAC,EAAE,CAACzD,SAAS,CAACxC,EAAEoG,EAASH,EAAQzD,SAASxC,EAAEC,EAAEoG,EAASJ,EAAQzD,SAASvC,KAAM,GAAG,EAAEsB,UAAU,SAAmBzB,GAAiBA,EAAckG,EAAMW,SAAeX,EAAMY,SAAW,EAAEvG,aAAa,OAAQ,GAAE,IAAIoF,GAAWnG,EAAQuG,EAAOE,GACx7B,IAAIc,EAAWnH,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC,GAAGoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAGnG,EAAMoG,EAAW,GAAGC,EAASD,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAGtD,EAAQuD,EAAW,GAAGC,EAAWD,EAAW,GAA65B,OAA15BvH,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWgG,EAAOyB,gBAAe,SAASC,GAAUF,EAAWE,EAAS1D,SAASqD,EAAS,CAACzC,KAAK,GAAG+C,OAAOD,EAAS5E,SAASxC,EAAE,KAAKsH,IAAI,GAAGD,OAAOD,EAAS5E,SAASvC,EAAE,KAAKsH,WAAW,GAAGF,OAAOD,EAAStE,SAASM,MAAM,GAAGiE,OAAOD,EAASjE,KAAKC,OAAOQ,QAAQ,IAAIyD,OAAOD,EAASxD,SAASC,QAAQ,GAAGwD,OAAOD,EAASvD,QAAQ,MAAM2D,QAAQ,GAAGH,OAAOD,EAAStD,QAAQ,QAAQ,QAAQjB,MAAM,GAAGwE,OAAOD,EAASxE,KAAKC,MAAM,MAAM4E,SAAS,GAAGJ,OAAOD,EAASjE,KAAKP,KAAK,MAAM8E,aAAa,GAAGL,OAAOD,EAAS5D,OAAOC,OAAO,MAAMD,OAAO,GAAG6D,OAAOD,EAAS5D,OAAOZ,KAAK,aAAayE,OAAOD,EAAS5D,OAAOJ,OAAOuE,WAAW,GAAGN,OAAOD,EAASjE,KAAKE,QAAQuE,cAAc,GAAGP,OAAOD,EAASjE,KAAKI,QAAQ,MAAMY,WAAW,GAAGkD,OAAOD,EAASjD,WAAW,MAAMC,UAAU,GAAGiD,OAAOD,EAAShD,WAAWJ,OAAO,GAAGqD,OAAOD,EAASpD,QAAQ6D,UAAU,SAASR,OAAOD,EAAS3C,MAAM,4BAA6B,GAAG,GAAE,CAACiB,IAA4BhG,OAAOuF,EAAiB,IAAxBvF,CAA2BwF,EAAY,CAAC4C,QAAQ,WAAmB5I,EAAagE,EAAEoD,aAAa,CAACZ,GAAS,EAAEqC,IAAIjC,EAAUpF,MAAMA,EAAMsH,wBAAwB,CAACC,OAAOvE,IAAW,CAE53C,IAIrBwE,EAJyBC,EAAa/I,EAA+C,EAAE+F,IAAI/C,IAAuBA,EAAqB1C,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,mPAAmP,SAAS0I,EAAa/J,GAAM,IAAIgH,EAAGhH,EAAKgH,GAAGC,EAAMjH,EAAKiH,MAAMC,EAAUlH,EAAKkH,UAAUC,EAAenH,EAAKoH,UAAUA,OAA2B,IAAjBD,GAA6BA,EAAe6C,EAAOhK,EAAKgK,OAAOC,EAASjK,EAAKkK,QAAY7C,EAAOJ,EAAMI,OAAOL,EAAG3F,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAE4C,EAAcoC,QACntBiB,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAASrG,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,IAAIsG,EAAUC,EAAYC,GAAkB,EAAM,MAAM,CAAClE,YAAY,WAAuBgE,EAAM9G,EAAagE,EAAE8C,QAAQC,EAAQP,EAAOS,MAAMD,GAAkB,CAAM,EAAE9E,OAAO,SAAgBpB,EAAEC,GAAG,IAAImG,EAASpG,EAAEuF,EAAU1C,MAAM,IAAQwD,EAASpG,EAAEsF,EAAUV,OAAO,IAAQqB,IAAmBhH,EAAagE,EAAEoD,aAAa,CAACZ,IAASQ,GAAkB,GAAMF,EAAMO,SAAQ,SAASC,IAAyBC,EAAVD,EAAMC,KAAQf,EAAOgB,MAAMhH,OAAOP,EAA+B,EAAtCO,CAAyCA,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAEuG,GAAS,CAAC,EAAE,CAACzD,SAAS,CAACxC,EAAEoG,EAASH,EAAQzD,SAASxC,EAAEC,EAAEoG,EAASJ,EAAQzD,SAASvC,KAAM,GAAG,EAAEsB,UAAU,SAAmBzB,GAAiBA,EAAckG,EAAMW,SAAeX,EAAMY,SAAW,EAAEvG,aAAa,OAAQ,GAAE,IAAIoF,GAAWnG,EAAQuG,EAAOE,GACx7B,IAAIc,EAAWnH,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC,GAAGoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAGnG,EAAMoG,EAAW,GAAGC,EAASD,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,CAA0B,sBAAsBuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAGwB,EAASvB,EAAW,GAAGwB,EAAYxB,EAAW,GAAwmB,OAArmBvH,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWgG,EAAOyB,gBAAe,SAASC,GAAUqB,EAAYrB,EAASzC,KAAKoC,EAAS,CAACzC,KAAK,GAAG+C,OAAOD,EAAS5E,SAASxC,EAAE,KAAKsH,IAAI,GAAGD,OAAOD,EAAS5E,SAASvC,EAAE,KAAK4C,MAAM,GAAGwE,OAAOD,EAASxE,KAAKC,MAAM,MAAM6E,aAAa,GAAGL,OAAOD,EAAS5D,OAAOC,OAAO,KAAKD,OAAO,GAAG6D,OAAOD,EAAS5D,OAAOZ,KAAK,aAAayE,OAAOD,EAAS5D,OAAOJ,OAAOmE,WAAW,GAAGF,OAAOD,EAAStE,SAASc,QAAQ,GAAGyD,OAAOD,EAASxD,SAAS4D,QAAQ,GAAGH,OAAOD,EAAStD,QAAQ,QAAQ,QAAQ+D,UAAU,SAASR,OAAOD,EAAS3C,MAAM,2BAA2BT,OAAO,GAAGqD,OAAOD,EAASpD,SAAU,GAAG,GAAE,CAAC0B,IAA4BhG,OAAOuF,EAAiB,IAAxBvF,CAA2ByI,EAAa,CAACL,QAAQ,WAAmB5I,EAAagE,EAAEoD,aAAa,CAACZ,GAAS,EAAEqC,IAAIjC,EAAUpF,MAAMA,EAAMgI,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,MAAM,CAACiJ,IAAIH,EAASI,IAAIvD,EAAGgD,OAAOA,EAAOE,QAAQ,SAAiBrK,GAAGA,EAAEqB,OAAOoJ,IAAI,qBAAqBL,GAAW,KAAM,CAErtC,IAI1BO,EAJ8BC,EAAU1J,EAA+C,EAAE+F,IAAI+C,IAA4BA,EAA0BxI,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,uWAAuW,SAASqJ,EAAkB1K,GAAM,IAAIgH,EAAGhH,EAAKgH,GAAGC,EAAMjH,EAAKiH,MAAMC,EAAUlH,EAAKkH,UAAUC,EAAenH,EAAKoH,UAAUA,OAA2B,IAAjBD,GAA6BA,EAAe6C,EAAOhK,EAAKgK,OAAOC,EAASjK,EAAKkK,QAAY7C,EAAOJ,EAAMI,OAAOL,EAAG3F,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAE4C,EAAcsC,aACx1Be,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAASrG,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,IAAIsG,EAAUC,EAAYC,GAAkB,EAAM,MAAM,CAAClE,YAAY,WAAuBgE,EAAM9G,EAAagE,EAAE8C,QAAQC,EAAQP,EAAOS,MAAMD,GAAkB,CAAM,EAAE9E,OAAO,SAAgBpB,EAAEC,GAAG,IAAImG,EAASpG,EAAEuF,EAAU1C,MAAM,IAAQwD,EAASpG,EAAEsF,EAAUV,OAAO,IAAQqB,IAAmBhH,EAAagE,EAAEoD,aAAa,CAACZ,IAASQ,GAAkB,GAAMF,EAAMO,SAAQ,SAASC,IAAyBC,EAAVD,EAAMC,KAAQf,EAAOgB,MAAMhH,OAAOP,EAA+B,EAAtCO,CAAyCA,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAEuG,GAAS,CAAC,EAAE,CAACzD,SAAS,CAACxC,EAAEoG,EAASH,EAAQzD,SAASxC,EAAEC,EAAEoG,EAASJ,EAAQzD,SAASvC,KAAM,GAAG,EAAEsB,UAAU,SAAmBzB,GAAiBA,EAAckG,EAAMW,SAAeX,EAAMY,SAAW,EAAEvG,aAAa,OAAQ,GAAE,IAAIoF,GAAWnG,EAAQuG,EAAOE,GACx7B,IAAIc,EAAWnH,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC,GAAGoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAGnG,EAAMoG,EAAW,GAAGC,EAASD,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,CAA0B,sBAAsBuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAGwB,EAASvB,EAAW,GAAGwB,EAAYxB,EAAW,GAAkpB,OAA/oBvH,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWgG,EAAOyB,gBAAe,SAASC,GAAUqB,EAAYrB,EAASzC,KAAKoC,EAAS,CAACzC,KAAK,GAAG+C,OAAOD,EAAS5E,SAASxC,EAAE,KAAKsH,IAAI,GAAGD,OAAOD,EAAS5E,SAASvC,EAAE,KAAK4C,MAAM,GAAGwE,OAAOD,EAASxE,KAAKC,MAAM,KAAKgC,OAAO,GAAGwC,OAAOD,EAASxE,KAAKiC,OAAO,KAAK6C,aAAa,GAAGL,OAAOD,EAAS5D,OAAOC,OAAO,KAAKD,OAAO,GAAG6D,OAAOD,EAAS5D,OAAOZ,KAAK,aAAayE,OAAOD,EAAS5D,OAAOJ,OAAOmE,WAAW,GAAGF,OAAOD,EAAStE,SAASc,QAAQ,GAAGyD,OAAOD,EAASxD,SAAS4D,QAAQ,GAAGH,OAAOD,EAAStD,QAAQ,QAAQ,QAAQ+D,UAAU,SAASR,OAAOD,EAAS3C,MAAM,2BAA2BT,OAAO,GAAGqD,OAAOD,EAASpD,SAAU,GAAG,GAAE,CAAC0B,IAA4BhG,OAAOuF,EAAiB,IAAxBvF,CAA2BoJ,EAAU,CAAChB,QAAQ,WAAmB5I,EAAagE,EAAEoD,aAAa,CAACZ,GAAS,EAAEqC,IAAIjC,EAAUpF,MAAMA,EAAMgI,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,MAAM,CAACiJ,IAAIH,EAASI,IAAIvD,EAAGgD,OAAOA,EAAOE,QAAQ,SAAiBrK,GAAGA,EAAEqB,OAAOoJ,IAAI,qBAAqBL,GAAW,KAAM,CAEjwC,IAKrBU,EALyBC,EAAM7J,EAA+C,EAAE8J,MAAML,IAAuBA,EAAqBnJ,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,gVAAgV,SAASyJ,EAAa9K,GAAM,IAAIgH,EAAGhH,EAAKgH,GAAGC,EAAMjH,EAAKiH,MAAM8D,EAAO/K,EAAK+K,OAAO7D,EAAUlH,EAAKkH,UAAUC,EAAenH,EAAKoH,UAAUA,OAA2B,IAAjBD,GAA6BA,EAAe+C,EAAQlK,EAAKkK,QAAY7C,EAAOJ,EAAMI,OAAOL,EAAG3F,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAE4C,EAAcwC,QAC1yBa,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAASrG,OAAOf,EAAe,QAAtBe,EAAyB,WAAW,IAAIsG,EAAUC,EAAYC,GAAkB,EAAM,MAAM,CAAClE,YAAY,WAAuBgE,EAAM9G,EAAagE,EAAE8C,QAAQC,EAAQP,EAAOS,MAAMD,GAAkB,CAAM,EAAE9E,OAAO,SAAgBpB,EAAEC,GAAG,IAAImG,EAASpG,EAAEuF,EAAU1C,MAAM,IAAQwD,EAASpG,EAAEsF,EAAUV,OAAO,IAAQqB,IAAmBhH,EAAagE,EAAEoD,aAAa,CAACZ,IAASQ,GAAkB,GAAMF,EAAMO,SAAQ,SAASC,IAAyBC,EAAVD,EAAMC,KAAQf,EAAOgB,MAAMhH,OAAOP,EAA+B,EAAtCO,CAAyCA,OAAOP,EAA+B,EAAtCO,CAAyC,CAAC,EAAEuG,GAAS,CAAC,EAAE,CAACzD,SAAS,CAACxC,EAAEoG,EAASH,EAAQzD,SAASxC,EAAEC,EAAEoG,EAASJ,EAAQzD,SAASvC,KAAM,GAAG,EAAEsB,UAAU,SAAmBzB,GAAiBA,EAAckG,EAAMW,SAAeX,EAAMY,SAAW,EAAEvG,aAAa,OAAQ,GAAE,IAAIoF,GAAWnG,EAAQuG,EAAOE,GACx7B,IAAIc,EAAWnH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG9B,EAAU+B,EAAW,GAAGuC,EAAavC,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAGhC,EAAOiC,EAAW,GAAGqC,EAAUrC,EAAW,GAAGvH,OAAOf,EAAiB,UAAxBe,EAA2B,WAAcmG,GAAQd,EAAoB,OAATc,QAAwB,IAATA,GAAuBA,EAAO0D,OAAsB,OAAT1D,QAAwB,IAATA,GAAuBA,EAAO2D,OAAS,GAAE,CAACzE,IACnf,IAAI0E,EAAW/J,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC,GAAGgK,EAAWhK,OAAOX,EAA+B,EAAtCW,CAAyC+J,EAAW,GAAG/I,EAAMgJ,EAAW,GAAG3C,EAAS2C,EAAW,GAAue,OAApehK,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWgG,EAAOyB,gBAAe,SAASC,GAAUiC,EAAajC,EAASrC,WAAWuE,EAAUlC,EAASpC,QAAQ+B,EAAS,CAACzC,KAAK,GAAG+C,OAAOD,EAAS5E,SAASxC,EAAE,KAAKsH,IAAI,GAAGD,OAAOD,EAAS5E,SAASvC,EAAE,KAAKuH,QAAQ,GAAGH,OAAOD,EAAStD,QAAQ,QAAQ,QAAQjB,MAAM,GAAGwE,OAAOD,EAASxE,KAAKC,MAAM,MAAMgC,OAAO,GAAGwC,OAAOD,EAASxE,KAAKiC,OAAO,MAAMb,OAAO,GAAGqD,OAAOD,EAASpD,QAAQ6D,UAAU,SAASR,OAAOD,EAAS3C,MAAM,4BAA6B,GAAG,GAAE,CAACiB,IAA4BhG,OAAOuF,EAAiB,IAAxBvF,CAA2BuJ,EAAM,CAACU,OAAM,EAAKC,SAAS7E,EAAUgD,IAAIjC,EAAUpF,MAAMA,EAAMmJ,QAAQ,OAAOC,KAAK9E,EAAO8C,QAAQ,WAAmB5I,EAAagE,EAAEoD,aAAa,CAACZ,GAAS,EAAE6C,QAAQA,EAAQG,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACiJ,IAAIS,KAAW,CAE14B,IAAIW,EAAQ3K,EAA+C,EAAE+F,IAAI6D,IAAuBA,EAAqBtJ,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,oNAAoN,SAASsK,EAAM3L,GAAM,IAAI4L,EAAQ5L,EAAK4L,QAAQ3E,EAAMjH,EAAKiH,MAAMC,EAAUlH,EAAKkH,UAAUE,EAAUpH,EAAKoH,UAAUyE,EAAqB7L,EAAK8L,gBAAgBA,OAAuC,IAAvBD,EAA8B,WAAW,EAAEA,EAAqBE,EAAsB/L,EAAKgM,iBAAiBA,OAAyC,IAAxBD,EAA+B,WAAW,EAAEA,EAA0BE,EAAa,WAAwBH,GAAgB,SAASI,GAAM,OAAOA,EAAK,CAAE,GAAG,EAAMC,EAAc,WAAyBH,GAAiB,EAAM,EAAMI,EAAaR,EAAQS,QAAO,SAASC,GAAM,MAAmB,SAAZA,EAAKC,IAAc,IAAGC,KAAI,SAASF,GAAM,OAAmBjL,OAAOuF,EAAiB,IAAxBvF,CAA2B0F,EAAY,CAACC,GAAGsF,EAAKtF,GAAGC,MAAMA,EAAMC,UAAUA,EAAUE,UAAUA,GAAW,OAAOkF,EAAKtF,GAAI,IAAOyF,EAAcb,EAAQS,QAAO,SAASC,GAAM,MAAmB,UAAZA,EAAKC,IAAe,IAAGC,KAAI,SAASF,GAAM,OAAmBjL,OAAOuF,EAAiB,IAAxBvF,CAA2B0I,EAAa,CAAC/C,GAAGsF,EAAKtF,GAAGC,MAAMA,EAAMC,UAAUA,EAAUE,UAAUA,EAAU4C,OAAOiC,EAAa/B,QAAQiC,GAAe,QAAQG,EAAKtF,GAAI,IAAO0F,EAAWd,EAAQS,QAAO,SAASC,GAAM,MAAmB,eAAZA,EAAKC,IAAoB,IAAGC,KAAI,SAASF,GAAM,OAAmBjL,OAAOuF,EAAiB,IAAxBvF,CAA2BqJ,EAAkB,CAAC1D,GAAGsF,EAAKtF,GAAGC,MAAMA,EAAMC,UAAUA,EAAUE,UAAUA,EAAU4C,OAAOiC,EAAa/B,QAAQiC,GAAe,aAAaG,EAAKtF,GAAI,IAAO2F,EAAcf,EAAQS,QAAO,SAASC,GAAM,MAAmB,UAAZA,EAAKC,IAAe,IAAGC,KAAI,SAASF,GAAM,OAAmBjL,OAAOuF,EAAiB,IAAxBvF,CAA2ByJ,EAAa,CAAC9D,GAAGsF,EAAKtF,GAAG+D,OAAOuB,EAAKhC,IAAIrD,MAAMA,EAAMC,UAAUA,EAAUE,UAAUA,EAAU8C,QAAQiC,GAAe,QAAQG,EAAKtF,GAAI,IAAG,OAAmB3F,OAAOuF,EAAkB,KAAzBvF,CAA4BqK,EAAQ,CAAC1E,GAAG,gBAAgBqD,SAAS,CAAC+B,EAAaK,EAAcC,EAAWC,IAAiB,CAEvmE,IAGIC,EAcAC,EAjBAC,EAAoBzN,EAAoB,IAGN0N,EAAuBhM,EAA+C,EAAE+F,IAAI8F,IAAgCA,EAA8BvL,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6UAAiV2L,EAAQ,CAAC,CAACC,MAAM,KAAKC,UAAU,iBAAiBzD,QAAQ,SAAiBzJ,IAAyCmN,EAAlBnN,EAAKmN,eAA4B,GAAG,CAACF,MAAM,OAAOC,UAAU,WAAWzD,QAAQ,SAAiBtB,IAA+CiF,EAArBjF,EAAMiF,iBAAgC,GAAG,CAACH,MAAM,QAAQC,UAAU,YAAYzD,QAAQ,SAAiB4D,IAAiDC,EAAtBD,EAAMC,kBAAkC,GAAG,CAACL,MAAM,QAAQC,UAAU,YAAYzD,QAAQ,SAAiB8D,IAAiDC,EAAtBD,EAAMC,kBAAgC,EAAM,GAAG,CAACP,MAAM,2BAAOC,UAAU,iBAAiBzD,QAAQ,SAAiBgE,IAAmDC,EAAvBD,EAAMC,mBAAkC,EAAM,IAAI,SAASC,EAAeC,GAAO,IAAIF,EAAiBE,EAAMF,iBAAiB9B,EAAQgC,EAAMhC,QAAQiC,EAAWD,EAAMC,WAAWL,EAAgBI,EAAMJ,gBAAoBJ,EAAe,WAA0B,IAAIU,EAAWlC,EAAQS,QAAO,SAAS0B,GAAS,MAAsB,SAAfA,EAAQxB,IAAc,IAAGyB,QAAO,SAASC,EAAMF,GAAS,IAAIG,EAASC,SAASJ,EAAQ/G,GAAGoH,MAAM,KAAK,IAAI,OAAOF,EAASD,EAAMC,EAASD,CAAM,GAAE,GAAOI,EAAW,QAAQrF,OAAOsF,OAAOR,EAAW,GAAGS,SAAS,EAAE,MAAUC,EAAmB,GAAGxF,OAAO3H,OAAOyL,EAAmC,EAA1CzL,CAA6CuK,GAAS,CAAC,CAAC5E,GAAGqH,EAAW9B,KAAK,UAAUkC,aAAaC,QAAQ,eAAeC,KAAKC,UAAUJ,IAAqBX,EAAWW,EAAoB,EAAMlB,EAAgB,WAA2B,IAAIQ,EAAWlC,EAAQS,QAAO,SAAS0B,GAAS,MAAsB,UAAfA,EAAQxB,IAAe,IAAGyB,QAAO,SAASC,EAAMF,GAAS,IAAIG,EAASC,SAASJ,EAAQ/G,GAAGoH,MAAM,KAAK,IAAI,OAAOF,EAASD,EAAMC,EAASD,CAAM,GAAE,GAAOI,EAAW,OAAOrF,OAAOsF,OAAOR,EAAW,GAAGS,SAAS,EAAE,MAAUC,EAAmB,GAAGxF,OAAO3H,OAAOyL,EAAmC,EAA1CzL,CAA6CuK,GAAS,CAAC,CAAC5E,GAAGqH,EAAW9B,KAAK,WAAWkC,aAAaC,QAAQ,eAAeC,KAAKC,UAAUJ,IAAqBX,EAAWW,EAAoB,EAAMrB,EAAa,WAAwB,IAAIW,EAAWlC,EAAQS,QAAO,SAAS0B,GAAS,MAAsB,eAAfA,EAAQxB,IAAoB,IAAGyB,QAAO,SAASC,EAAMF,GAAS,IAAIG,EAASC,SAASJ,EAAQ/G,GAAGoH,MAAM,KAAK,IAAI,OAAOF,EAASD,EAAMC,EAASD,CAAM,GAAE,GAAOI,EAAW,MAAMrF,OAAOsF,OAAOR,EAAW,GAAGS,SAAS,EAAE,MAAUC,EAAmB,GAAGxF,OAAO3H,OAAOyL,EAAmC,EAA1CzL,CAA6CuK,GAAS,CAAC,CAAC5E,GAAGqH,EAAW9B,KAAK,gBAAgBkC,aAAaC,QAAQ,eAAeC,KAAKC,UAAUJ,IAAqBX,EAAWW,EAAoB,EAYv8F,OAAmBnN,OAAOuF,EAAiB,IAAxBvF,CAA2B0L,EAAuB,CAAC1C,SAAS2C,EAAQR,KAAI,SAAS9I,EAAOmL,GAAO,OAAmBxN,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAAC6L,UAAUxJ,EAAOwJ,UAAUzD,QAAQ,WAAmB,OAAO/F,EAAO+F,QAAQ,CAACiE,iBAAiBA,EAAiBN,eAAeA,EAAeE,gBAAgBA,EAAgBH,aAAaA,EAAaK,gBAAgBA,GAAkB,EAAEnD,SAAS3G,EAAOuJ,OAAO4B,EAAO,KAAK,CAEtZ,IAE9BC,EAAyBC,EAAiBC,EAFRC,EAAuBlO,EAA+C,EAAE+F,IAAI+F,IAAgCA,EAA8BxL,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,iUAAqU6N,EAAuB,CAAC,CAACjC,MAAM,aAAaxD,QAAQ,WAAoC0F,QAAQ,yDAAqCV,aAAaW,WAAW,gBAAgBX,aAAaW,WAAW,0BAA0BC,OAAOC,SAASC,SAAuB,GAAG,CAACtC,MAAM,YAAYxD,QAAQ,SAAiBzJ,GAAM,IAAIwP,EAAsBC,EAAYC,EAAqBC,EAAuBC,EAA2BC,EAAoB7P,EAAK6P,oBAAoBC,EAAe9P,EAAK8P,eAAmBC,EAAQtB,aAAauB,QAAQ,0BAAshBF,EAA9D,QAA5aN,EAA0D,QAAnCC,EAAYd,KAAKsB,MAAMF,UAAgC,IAAdN,GAA0E,QAA7CC,EAAqBD,EAAYS,gBAAyC,IAAvBR,GAAgG,QAA1DC,EAAuBD,EAAqBS,kBAA6C,IAAzBR,GAAuG,QAA/DC,EAAuBD,EAAuBS,qBAAgD,IAAzBR,OAA9Q,EAAqTA,EAAuBS,eAAyC,IAAxBb,EAA+BA,EAAsB,CAAC,GAA+BK,GAAoB,EAAM,GAAG,CAAC5C,MAAM,OAAOxD,QAAQ,SAAiBtB,GAAiBA,EAAMlB,MAAYqJ,SAASpF,MAAO,GAAG,CAAC+B,MAAM,QAAQxD,QAAQ,SAAiB4D,GAAiBA,EAAMpG,MAAYqJ,SAASnF,OAAQ,IAAI,SAASoF,EAAehD,GAAO,IAAIsC,EAAoBtC,EAAMsC,oBAAoBC,EAAevC,EAAMuC,eAAe7I,EAAMsG,EAAMtG,MAAM,OAAmB5F,OAAOuF,EAAkB,KAAzBvF,CAA4B4N,EAAuB,CAAC5E,SAAS,CAAC6E,EAAuB1C,KAAI,SAAS9I,EAAOmL,GAAO,OAAmBxN,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,WAAmB,OAAO/F,EAAO+F,QAAQ,CAACoG,oBAAoBA,EAAoBC,eAAeA,EAAe7I,MAAMA,GAAQ,EAAEoD,SAAS3G,EAAOuJ,OAAO4B,EAAO,IAAgBxN,OAAOuF,EAAiB,IAAxBvF,CAA2Bb,EAAmB,EAAE,CAACgQ,GAAG,eAAetP,OAAO,SAASmJ,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACgJ,SAAS,aAA0BhJ,OAAOuF,EAAiB,IAAxBvF,CAA2Bb,EAAmB,EAAE,CAACgQ,GAAG,cAActP,OAAO,SAASmJ,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACgJ,SAAS,cAAe,CAE5lF,IAM3DoG,EAA0BC,EANqCC,EAAkB5P,EAA+C,EAAE+F,IAAIgI,IAA2BA,EAAyBzN,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,iMAAqMuP,EAAK7P,EAA+C,EAAE+F,IAAIiI,IAAmBA,EAAiB1N,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,4XAAgYwP,EAAM9P,EAA+C,EAAE+F,IAAIkI,IAAmBA,EAAiB3N,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6CAA6C,SAASyP,EAAa9Q,GAAM,IAAI6P,EAAoB7P,EAAK6P,oBAAoBkB,EAAY/Q,EAAK+Q,YAAYnF,EAAQ5L,EAAK4L,QAAQiC,EAAW7N,EAAK6N,WAAevG,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAG0J,EAASzJ,EAAW,GAAG0J,EAAY1J,EAAW,GAAOiB,EAAWnH,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG0I,EAAazI,EAAW,GAAG0I,EAAgB1I,EAAW,GAAG,OAAmBpH,OAAOuF,EAAiB,IAAxBvF,CAA2BsP,EAAkB,CAACtG,SAAsBhJ,OAAOuF,EAAkB,KAAzBvF,CAA4BuP,EAAK,CAACvG,SAAS,CAAchJ,OAAOuF,EAAkB,KAAzBvF,CAA4BwP,EAAM,CAACxG,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,KAAK,CAACgJ,SAAS,oCAAiDhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,IAAI,CAACgJ,SAAS,sBAAmChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,WAAW,CAAC+P,YAAY,mBAAmBtJ,MAAM6G,KAAKC,UAAUhD,GAASyF,UAAS,IAAoBhQ,OAAOuF,EAAiB,IAAxBvF,CAA2B,IAAI,CAACgJ,SAAS,sBAAmChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,WAAW,CAAC+P,YAAY,mBAAmBtJ,MAAM6G,KAAKC,UAAUmC,GAAaM,UAAS,OAAuBhQ,OAAOuF,EAAkB,KAAzBvF,CAA4BwP,EAAM,CAACxG,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,KAAK,CAACgJ,SAAS,gBAA6BhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,IAAI,CAACgJ,SAAS,sBAAmChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,WAAW,CAAC+P,YAAY,uDAAuDtJ,MAAMkJ,EAASM,SAAS,SAAkBzR,GAAG,OAAOoR,EAAYpR,EAAEqB,OAAO4G,MAAO,IAAiBzG,OAAOuF,EAAiB,IAAxBvF,CAA2B,IAAI,CAACgJ,SAAS,sBAAmChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,WAAW,CAAC+P,YAAY,uDAAuDtJ,MAAMoJ,EAAaI,SAAS,SAAkBzR,GAAG,OAAOsR,EAAgBtR,EAAEqB,OAAO4G,MAAO,IAAiBzG,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,WAAmBoG,GAAoB,EAAO,EAAExF,SAAS,UAAuBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,WAC1oGgF,aAAaC,QAAQ,eAAesC,GACpCnD,EAAWc,KAAKsB,MAAMe,IACtB,IAAIjB,EAAQtB,aAAauB,QAAQ,0BAA8BuB,EAAY5C,KAAKsB,MAAMF,GAAayB,EAAiB7C,KAAKsB,MAAMiB,GAAiBM,IAAkBD,EAAYrB,SAASC,WAAWC,cAAcC,QAAQmB,GAAkB,IAAIC,EAAe9C,KAAKC,UAAU2C,GAAa9C,aAAaC,QAAQ,yBAAyB+C,GAAgBpC,OAAOC,SAASC,QACvW,EAAElF,SAAS,oCAAqC,CAES,IAGrDqH,GAAyBC,GAHgCC,GAAmB7Q,EAA+C,EAAE+F,IAAI2J,IAA4BA,EAA0BpP,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,yKAA6KwQ,GAAgB9Q,EAA+C,EAAE+F,IAAI4J,IAA6BA,EAA2BrP,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6XAA6X,SAASyQ,GAAe9R,GAAM,IAAI0N,EAAiB1N,EAAK0N,iBAAiBG,EAAW7N,EAAK6N,WAAWjC,EAAQ5L,EAAK4L,QAAQ3E,EAAMjH,EAAKiH,MAAUK,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGyK,EAASxK,EAAW,GAAGyK,EAAYzK,EAAW,GAC7hC,OAAmBlG,OAAOuF,EAAiB,IAAxBvF,CAA2BuQ,GAAmB,CAACvH,SAAsBhJ,OAAOuF,EAAkB,KAAzBvF,CAA4BwQ,GAAgB,CAACxH,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,KAAK,CAACgJ,SAAS,8BAA2ChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,OAAO,CAACgJ,SAAS,2BAAwChJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,QAAQ,CAAC+P,YAAY,GAAGtJ,MAAMiK,EAAST,SAAS,SAAkBzR,GAAG,OAAOmS,EAAYnS,EAAEqB,OAAO4G,MAAO,IAAiBzG,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,YAAnsB,SAAsBzC,GAAI,IAAIiL,EAAarG,EAAQS,QAAO,SAAS6F,GAAM,OAAOA,EAAKlL,KAAKA,CAAG,IAAG6G,EAAWoE,GAAcxD,aAAaC,QAAQ,eAAeC,KAAKC,UAAUqD,GAAe,CAA2hBE,CAAaJ,GAAU9K,EAAMmL,aAAaL,GAAU1C,OAAOC,SAASC,QAAS,EAAElF,SAAS,iBAA8BhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,WAAmBiE,GAAiB,EAAO,EAAErD,SAAS,qBAAsB,CAE/5B,IAEnDgI,GAA0BC,GAF6BC,GAAkBxR,EAA+C,EAAE+F,IAAI4K,KAA2BA,GAAyBrQ,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,yKAA6KmR,GAAezR,EAA+C,EAAE+F,IAAI6K,KAA4BA,GAA0BtQ,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6XAA6X,SAASoR,GAASzS,GAAM,IAAIwN,EAAgBxN,EAAKwN,gBAAgBK,EAAW7N,EAAK6N,WAAWjC,EAAQ5L,EAAK4L,QAAYtE,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGyD,EAAOxD,EAAW,GAAGmL,EAAUnL,EAAW,GAAgjB,OAAmBlG,OAAOuF,EAAiB,IAAxBvF,CAA2BkR,GAAkB,CAAClI,SAAsBhJ,OAAOuF,EAAkB,KAAzBvF,CAA4BmR,GAAe,CAACnI,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,KAAK,CAACgJ,SAAS,0CAAuDhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,OAAO,CAACgJ,SAAS,qCAAkDhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,QAAQ,CAAC+P,YAAY,GAAGtJ,MAAMiD,EAAOuG,SAAS,SAAkBzR,GAAG,OAAO6S,EAAU7S,EAAEqB,OAAO4G,MAAO,IAAiBzG,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,YAA/iC,WAA2B,IAAIkJ,EAAY/G,EAAQS,QAAO,SAAS0B,GAAS,MAAsB,UAAfA,EAAQxB,IAAe,IAAGyB,QAAO,SAASC,EAAMF,GAAS,IAAIG,EAASC,SAASJ,EAAQ/G,GAAGoH,MAAM,KAAK,IAAI,OAAOF,EAASD,EAAMC,EAASD,CAAM,GAAE,GAAO2E,EAAY,SAAS5J,OAAOsF,OAAOqE,EAAY,GAAGpE,SAAS,EAAE,MAAUC,EAAmB,GAAGxF,OAAO3H,OAAOyL,EAAmC,EAA1CzL,CAA6CuK,GAAS,CAAC,CAAC5E,GAAG4L,EAAYrG,KAAK,QAAQjC,IAAIS,KAAU0D,aAAaC,QAAQ,eAAeC,KAAKC,UAAUJ,IAAqBX,EAAWW,EAAoB,CAA2iBqE,GAAkBxD,OAAOC,SAASC,QAAS,EAAElF,SAAS,iBAA8BhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,SAAS,CAACoI,QAAQ,WAAmB+D,GAAgB,EAAO,EAAEnD,SAAS,qBAAsB,CAEl7E,IAKrDyI,GALyDC,GAAgBhS,EAA+C,EAAE+F,IAAIuL,KAA4BA,GAA0BhR,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,oDAAwD2R,GAAcjS,EAA+C,EAAE+F,IAAIwL,KAA6BA,GAA2BjR,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6HAA6H,SAAS4R,GAAUjT,GAAM,IAAIiH,EAAMjH,EAAKiH,MAAM4G,EAAW7N,EAAK6N,WAAWjC,EAAQ5L,EAAK4L,QAC9pBtE,EAAUjG,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAG4L,EAAiB3L,EAAW,GAAGsI,EAAoBtI,EAAW,GAAOiB,EAAWnH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG2K,EAAc1K,EAAW,GAAGiF,EAAiBjF,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAGyK,EAAaxK,EAAW,GAAG4E,EAAgB5E,EAAW,GAClgBwC,EAAW/J,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC,GAAGgK,EAAWhK,OAAOX,EAA+B,EAAtCW,CAAyC+J,EAAW,GAAG2F,EAAY1F,EAAW,GAAGyE,EAAezE,EAAW,GACnK,OAAmBhK,OAAOuF,EAAkB,KAAzBvF,CAA4BuF,EAAsB,SAAE,CAACyD,SAAS,CAAchJ,OAAOuF,EAAkB,KAAzBvF,CAA4B0R,GAAgB,CAAC/L,GAAG,mBAAmBqD,SAAS,CAAC6I,GAA+B7R,OAAOuF,EAAiB,IAAxBvF,CAA2ByP,EAAa,CAACjB,oBAAoBA,EAAoBkB,YAAYA,EAAYnF,QAAQA,EAAQiC,WAAWA,IAAasF,GAA4B9R,OAAOuF,EAAiB,IAAxBvF,CAA2ByQ,GAAe,CAAClG,QAAQA,EAAQiC,WAAWA,EAAWH,iBAAiBA,EAAiBzG,MAAMA,IAAQmM,GAA2B/R,OAAOuF,EAAiB,IAAxBvF,CAA2BoR,GAAS,CAAC7G,QAAQA,EAAQiC,WAAWA,EAAWL,gBAAgBA,OAAkCnM,OAAOuF,EAAkB,KAAzBvF,CAA4B2R,GAAc,CAAC3I,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2BkP,EAAe,CAACV,oBAAoBA,EAAoBC,eAAeA,EAAe7I,MAAMA,IAAqB5F,OAAOuF,EAAiB,IAAxBvF,CAA2BsM,EAAe,CAACD,iBAAiBA,EAAiBG,WAAWA,EAAWjC,QAAQA,EAAQ4B,gBAAgBA,SAAwB,CAE79B,IAEzB6F,GAA4BC,GAA6BC,GAF5BC,GAAU,UAAkCC,GAAgB,MAAUC,GAAK3S,EAA+C,EAAE+F,IAAIgM,KAA2BA,GAAyBzR,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,oMAAoM,cAAc,+HAA+H,cAAc,gIAAgI,cAAc,gIAAgI,cAAc,qWAAqW,2HAA2H,gBAAgB,qJAAqJ,+IAA+I,gBAAgB,0BAA0BmS,GAAUA,GAAUA,GAAUA,GAAUA,GAAUA,GAAUA,GAAUA,GAAnsD,MAAutDC,GAAgBA,GAAvuD,MAAiwDA,GAAgBA,IAAiB,SAASE,KAAW,OAAmBtS,OAAOuF,EAAiB,IAAxBvF,CAA2BqS,GAAK,CAAC,EAAG,CAEt1D,IAEtFE,GAA0BC,GAA2BC,GAFqCC,GAAShT,EAA+C,EAAE+F,IAAIuM,KAA8BA,GAA4BhS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,kDAAkD,qSAAoS,SAASgH,GAAO,MAAoB,UAAbA,EAAMkE,KAAe,QAAQ,OAAQ,IAAOyH,GAAMjT,EAA+C,EAAE+F,IAAIwM,KAA+BA,GAA6BjS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,8YAAkZ4S,GAAKlT,EAA+C,EAAE+F,IAAIyM,KAA+BA,GAA6BlS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,mQAAmQ,SAAS6S,GAAYlU,GAAM,IAAsImU,EAAlIC,EAAYpU,EAAKoU,YAAYC,EAAerU,EAAKqU,eAAeC,EAAUtU,EAAKuM,KAAKA,OAAiB,IAAZ+H,EAAmB,QAAQA,EAAgO,MAA7L,UAAP/H,EAAgB4H,EAAW9E,OAAOkF,WAA2B,WAAPhI,IAAiB4H,EAAW9E,OAAOmF,aAA8HnT,OAAOuF,EAAkB,KAAzBvF,CAA4B0S,GAAS,CAACxH,KAAKA,EAAKlC,SAAS,CAAchJ,OAAOuF,EAAkB,KAAzBvF,CAA4B2S,GAAM,CAAC3R,MAAM,CAAC4D,KAAKmO,EAAYD,EAAW,IAAI,MAAM9J,SAAS,CAAC+J,EAAY,SAAsB/S,OAAOuF,EAAiB,IAAxBvF,CAA2B4S,GAAK,CAAC5J,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B,MAAM,CAAC6L,UAAU,OAAO7K,MAAM,CAACmC,MAAM4P,EAAYD,EAAW,IAAI,SAAsB9S,OAAOuF,EAAiB,IAAxBvF,CAA2B,QAAQ,CAACkL,KAAK,QAAQzE,MAAMsM,EAAYK,IAAI,MAAMC,IAAIP,EAAW7C,SAAxjB,SAAsBvP,GAAO,IAAI+F,EAAMqG,SAASpM,EAAMb,OAAO4G,MAAM,IAAIuM,EAAevM,EAAO,MAAsf,CAE35E,IAAI6M,GAAmB5T,EAA+C,EAAE+F,IAAI8M,KAA4BA,GAA0BvS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,kHAAsHuT,GAAS7T,EAA+C,EAAE+F,IAAI+M,KAA6BA,GAA2BxS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,sMAA0MwT,GAAa9T,EAA+C,EAAE+F,IAAIgN,KAA6BA,GAA2BzS,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,yBAAyB,SAASyT,KAC97BjU,EAAagE,EAAEkQ,aAAa,IAAIC,EAAQ3T,OAAO2C,EAAsB,WAA7B3C,CAAgC,UAAU,CAAC,GAAO4F,EAAM+N,EAAQ/N,MAAM,QAAQ,WAAW+N,EAAQC,MAAMnV,MAAK,WAAW,OAAOmH,EAAMqJ,SAASnF,OAAQ,IAC7L,IAAI+J,EAAezG,aAAauB,QAAQ,gBAAoBmF,EAAeD,EAAevG,KAAKsB,MAAMiF,GAAgB,GAAO5N,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B8T,GAAgB5N,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGsE,EAAQrE,EAAW,GAAGsG,EAAWtG,EAAW,GACzRiB,EAAWnH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG4M,EAAS3M,EAAW,GAAG4M,EAAY5M,EAAW,GAAOE,EAAWtH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAG2M,EAAU1M,EAAW,GAAG2M,EAAa3M,EAAW,GAAG/H,EAAagE,EAAE2Q,GAAGF,EAAU,UAAU,UAAUjU,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,IAAIoU,EAAc,SAAuB1T,GAAsB,WAAZA,EAAM2T,KAAgBH,GAAcD,GAA2B,cAAZvT,EAAM2T,KAA+B,MAAZ3T,EAAM2T,KAAWL,GAAaD,EAAW,EAAqD,OAAnDjT,SAASyB,iBAAiB,UAAU6R,GAAsB,WAAWtT,SAASgB,oBAAoB,UAAUsS,EAAe,CAAE,IACnsB,IAAIrK,EAAW/J,OAAOf,EAAgB,SAAvBe,CAA0BgO,OAAOkF,YAAYlJ,EAAWhK,OAAOX,EAA+B,EAAtCW,CAAyC+J,EAAW,GAAGuK,EAAiBtK,EAAW,GAAGuK,EAAoBvK,EAAW,GAAOwK,EAAWxU,OAAOf,EAAgB,SAAvBe,CAA0BgO,OAAOmF,aAAasB,EAAYzU,OAAOX,EAA+B,EAAtCW,CAAyCwU,EAAW,GAAGE,EAAkBD,EAAY,GAAGE,EAAqBF,EAAY,GAAG,OAAmBzU,OAAOuF,EAAkB,KAAzBvF,CAA4BsT,GAAmB,CAACtK,SAAS,CAACiL,GAAwBjU,OAAOuF,EAAkB,KAAzBvF,CAA4BwT,GAAa,CAACxK,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B4R,GAAU,CAAChM,MAAMA,EAAM4G,WAAWA,EAAWjC,QAAQA,IAAuBvK,OAAOuF,EAAiB,IAAxBvF,CAA2B6S,GAAY,CAACG,eAAeuB,EAAoBxB,YAAYuB,EAAiBpJ,KAAK,UAAuBlL,OAAOuF,EAAiB,IAAxBvF,CAA2B6S,GAAY,CAACG,eAAe2B,EAAqB5B,YAAY2B,EAAkBxJ,KAAK,cAA2BlL,OAAOuF,EAAkB,KAAzBvF,CAA4BuT,GAAS,CAACvS,MAAM,CAAC4T,SAASN,EAAiBO,UAAUH,GAAmB1L,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2BsK,EAAM,CAACC,QAAQA,EAAQ3E,MAAMA,EAAMC,UAAU,CAAC1C,MAAMmR,EAAiBnP,OAAOuP,KAAqBX,GAAuB/T,OAAOuF,EAAiB,IAAxBvF,CAA2BsS,GAAS,CAAC,QAAS,CAE3tC,IAGIwC,GAAmCC,GAAoCC,GAAoCC,GAAiBC,GAU5HC,GAA2BC,GAb3BC,GAAarX,EAAoB,IAGgHsX,GAAmB,CAACC,MAAM,IAAIC,KAAK,KAASC,GAAczV,OAAON,EAAiD,EAAxDM,CAA2D8U,KAAqCA,GAAmC9U,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,wEAA4E0V,GAAOhW,EAA+C,EAAE+F,IAAIsP,KAAsCA,GAAoC/U,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,4IAAgJ2V,GAAUjW,EAA+C,EAAE+F,IAAIuP,KAAsCA,GAAoChV,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,kIAAkI,oBAAoB,UAAS,SAASgH,GAAO,OAAOA,EAAM4O,QAAQ,IAAI,SAAS,IAAI,UAAW,MAAM,IAAkC,QAAS,MAAM,IAAM,IAAE,SAAS5O,GAAO,OAAOA,EAAM4O,QAAQ,IAAI,UAAU,IAAI,SAAU,MAAM,WAAWjO,OAAO2N,GAAmBE,KAAK,WAAyC,QAAS,MAAM,WAAW7N,OAAO2N,GAAmBC,MAAM,WAAa,IAAOM,GAAKnW,EAA+C,EAAE+F,IAAIwP,KAAmBA,GAAiBjV,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,uQAAuQ,SAAQ,SAASgH,GAAO,OAAOA,EAAM8O,SAAS9V,OAAON,EAA2C,EAAlDM,CAAqDkV,KAAmBA,GAAiBlV,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,kFAAkF,8HAA8HyV,IAAe,EAAG,IAQzwE,SAASM,GAAkBpX,GAAM,IAAIqX,EAAUrX,EAAKsX,KAAKA,OAAiB,IAAZD,GAAyBA,EAAUE,EAAavX,EAAKwX,QAAQA,OAAuB,IAAfD,EAAsB,GAAGA,EAAaE,EAAazX,EAAK0X,QAAQA,OAAuB,IAAfD,GAA4BA,EAAa,OAAmBpW,OAAOuF,EAAiB,IAAxBvF,CAA2BqV,GAA4B,EAAE,CAACiB,eAAc,EAAKC,GAAGN,EAAKO,QAAQlB,GAAmBtM,SAAS,SAAkByN,GAAO,OAAmBzW,OAAOuF,EAAkB,KAAzBvF,CAA4B2V,GAAU,CAACC,OAAOa,EAAMzN,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B0V,GAAO,CAAC,GAAgB1V,OAAOuF,EAAiB,IAAxBvF,CAA2B6V,GAAK,CAACC,SAASO,EAAQrN,SAASmN,MAAa,GAAI,CAE9jB,IASvDO,GAT2DC,GAAYjX,EAA+C,EAAE+F,IAAI0P,KAA6BA,GAA2BnV,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,yIAA6I4W,GAAUlX,EAA+C,EAAE+F,IAAI2P,KAA8BA,GAA4BpV,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,6JAAiK6W,GAAmB,KAAK,SAASC,KAAatX,EAAagE,EAAEkQ,aAAalU,EAAagE,EAAE2Q,GAAG4C,OAAO,IAAIpD,EAAQ3T,OAAO2C,EAAsB,WAA7B3C,CAAgC,UAAU,CAAC,GAAO4F,EAAM+N,EAAQ/N,MAAM,QAAQ,WAAW+N,EAAQC,MAAMnV,MAAK,WAAW,OAAOmH,EAAMqJ,SAASnF,OAAQ,IACv8B,IAAIkN,EAAQ5J,aAAauB,QAAQ,gBAC7BpE,EAAQyM,EAAQ1J,KAAKsB,MAAMoI,GAAS,GAEpC/Q,EAAUjG,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAGgR,EAAe/Q,EAAW,GAAGgR,EAAkBhR,EAAW,GAAOiR,EAAenX,OAAO2C,EAAe,IAAtB3C,CAAyB4F,EAAMqJ,SAASmI,QAAQC,QAAYC,EAAStX,OAAOf,EAAc,OAArBe,CAAwB,MAAMA,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,IAAIuX,EAAa,WAAwB,IAAIC,EAAMF,EAASrX,QAAYwX,EAAMD,EAAME,QAAQ,yBAA6BC,EAAUH,EAAMI,wBAA4BC,EAAUJ,EAAMG,wBAA4BE,EAASH,EAAU/P,IAAIiQ,EAAUjQ,IAAIsP,EAAkBY,EAAU,EAAiD,OAA/C9J,OAAOzL,iBAAiB,SAASgV,GAAqB,WAAWvJ,OAAOlM,oBAAoB,SAASyV,EAAc,CAAE,GAAE,IAAIvX,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,IAAI+X,EAAYd,GAAgBE,EAAeN,IAAoBM,EAAevR,EAAMqJ,SAASnM,SAASiV,CAAY,GAAE,CAACd,IACn3B,IAAI9P,EAAWnH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG6Q,EAAc5Q,EAAW,GAAGuD,EAAiBvD,EAAW,GACtKE,EAAWtH,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAG2Q,EAAa1Q,EAAW,GAAGkD,EAAgBlD,EAAW,GAChKwC,EAAW/J,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMgK,EAAWhK,OAAOX,EAA+B,EAAtCW,CAAyC+J,EAAW,GAAGmO,EAAUlO,EAAW,GAAGmO,EAAanO,EAAW,GAAOoO,EAAY7N,EAAQS,QAAO,SAASC,GAAM,MAAmB,UAAZA,EAAKC,MAA4B,eAAZD,EAAKC,IAAoB,IAAGmM,OAAOrX,OAAOf,EAAiB,UAAxBe,EAA2B,WAAciY,IAAeG,GAAaD,GAAa,EAAQ,GAAE,CAACF,EAAaG,IAAc,IAAIC,EAAYL,GAAeE,EAAU,QAAQ,GAAGvQ,OAAOwP,EAAeN,GAAmB,MAAM,OAAmB7W,OAAOuF,EAAiB,IAAxBvF,CAA2B2W,GAAY,CAAC9K,UAAU,uBAAuB7K,MAAM,CAACmE,OAAOkT,GAAarP,SAAsBhJ,OAAOuF,EAAkB,KAAzBvF,CAA4B4W,GAAU,CAACvO,IAAIiP,EAAStO,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B+V,GAAkB,CAACE,KAAKiC,IAAYF,EAAc7B,QAAQ,qBAAME,SAAQ,IAAoBrW,OAAOuF,EAAiB,IAAxBvF,CAA2B+V,GAAkB,CAACE,KAAK+B,EAAc7B,QAAQ,qJAA0CnW,OAAOuF,EAAiB,IAAxBvF,CAA2BsK,EAAM,CAACC,QAAQA,EAAQ3E,MAAMA,EAAM0S,WAAWtK,OAAOkF,WAAWnN,WAAU,EAAM4E,iBAAiBA,EAAiBF,gBAAgBA,QAAuB,CAEpkC,IAAI8N,GAAa7Y,EAA+C,EAAE+F,IAAIiR,KAA4BA,GAA0B1W,OAAOV,EAAuC,EAA9CU,CAAiD,CAAC,4CAA4C,SAASwY,KAAYhZ,EAAagE,EAAEkQ,aAAalU,EAAagE,EAAE2Q,GAAG4C,OAAO,IAAIpD,EAAQ3T,OAAO2C,EAAsB,WAA7B3C,CAAgC,UAAU,CAAC,GAAO4F,EAAM+N,EAAQ/N,MAAM,QAAQ,WAAW+N,EAAQC,MAAMnV,MAAK,WAAW,OAAOmH,EAAMqJ,SAASpF,KAAK,CAAC4O,eAAeC,KAAW,IAAG,IAAI1B,EAAQ5J,aAAauB,QAAQ,gBAC3hBpE,EAAQyM,EAAQ1J,KAAKsB,MAAMoI,GAAS,GACpC/Q,EAAUjG,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOkG,EAAWlG,OAAOX,EAA+B,EAAtCW,CAAyCiG,EAAU,GAAG+R,EAAc9R,EAAW,GAAGyE,EAAiBzE,EAAW,GACpKiB,EAAWnH,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGoH,EAAWpH,OAAOX,EAA+B,EAAtCW,CAAyCmH,EAAW,GAAG8Q,EAAa7Q,EAAW,GAAGqD,EAAgBrD,EAAW,GAChKE,EAAWtH,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMuH,EAAWvH,OAAOX,EAA+B,EAAtCW,CAAyCsH,EAAW,GAAG4Q,EAAU3Q,EAAW,GAAG4Q,EAAa5Q,EAAW,GAAO6Q,EAAY7N,EAAQS,QAAO,SAASC,GAAM,MAAmB,UAAZA,EAAKC,MAA4B,eAAZD,EAAKC,IAAoB,IAAGmM,OAA+H,OAAxHrX,OAAOf,EAAiB,UAAxBe,EAA2B,WAAciY,IAAeG,GAAaD,GAAa,EAAQ,GAAE,CAACF,EAAaG,IAAiCpY,OAAOuF,EAAkB,KAAzBvF,CAA4BuY,GAAa,CAACvP,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2B+V,GAAkB,CAACE,KAAKiC,IAAYF,EAAc7B,QAAQ,qBAAME,SAAQ,IAAoBrW,OAAOuF,EAAiB,IAAxBvF,CAA2B+V,GAAkB,CAACE,KAAK+B,EAAc7B,QAAQ,qJAA0CnW,OAAOuF,EAAiB,IAAxBvF,CAA2BsK,EAAM,CAACC,QAAQA,EAAQ3E,MAAMA,EAAM0S,WAAWtK,OAAOkF,WAAWnN,WAAU,EAAM4E,iBAAiBA,EAAiBF,gBAAgBA,MAAqB,CAEz3B,SAASkO,KAAM,OAAmB3Y,OAAOuF,EAAiB,IAAxBvF,CAA2Bb,EAA4B,EAAE,CAAC6J,SAAsBhJ,OAAOuF,EAAkB,KAAzBvF,CAA4BZ,EAAkC,EAAE,CAAC4J,SAAS,CAAchJ,OAAOuF,EAAiB,IAAxBvF,CAA2BZ,EAAiC,EAAE,CAACwZ,KAAK,IAAIlM,QAAqB1M,OAAOuF,EAAiB,IAAxBvF,CAA2ByT,GAAW,CAAC,KAAkBzT,OAAOuF,EAAiB,IAAxBvF,CAA2BZ,EAAiC,EAAE,CAACwZ,KAAK,cAAclM,QAAqB1M,OAAOuF,EAAiB,IAAxBvF,CAA2B8W,GAAW,CAAC,KAAkB9W,OAAOuF,EAAiB,IAAxBvF,CAA2BZ,EAAiC,EAAE,CAACwZ,KAAK,aAAalM,QAAqB1M,OAAOuF,EAAiB,IAAxBvF,CAA2BwY,GAAU,CAAC,SAAU,CAGtpB,IAAIK,GAAY/X,SAASgY,eAAe,QAAQ3a,EAAeqF,EAAEuV,WAAWF,IAAaG,OAAoBhZ,OAAOuF,EAAiB,IAAxBvF,CAA2Bd,EAAcsE,EAAEyV,WAAW,CAACjQ,SAAsBhJ,OAAOuF,EAAiB,IAAxBvF,CAA2B2Y,GAAI,CAAC,MAG1Nta,GAEO,GAEL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpreact-theatre\"] = this[\"webpackJsonpreact-theatre\"] || []).push([[0],{\n\n/***/ 81:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(58);\nvar client_default = /*#__PURE__*/__webpack_require__.n(client);\n\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 86)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@theatre/studio/dist/index.js\nvar studio_dist = __webpack_require__(9);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(studio_dist);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/hooks/use-drag.js\nvar noop=function noop(){};function createCursorLock(cursor){var el=document.createElement('div');el.style.cssText=\"\\n    position: fixed;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 9999999;\";el.style.cursor=cursor;document.body.appendChild(el);var relinquish=function relinquish(){document.body.removeChild(el);};return relinquish;}function useDrag(target,opts){var optsRef=Object(react[\"useRef\"])(opts);optsRef.current=opts;var modeRef=Object(react[\"useRef\"])('notDragging');var stateRef=Object(react[\"useRef\"])({dragHappened:false,startPos:{x:0,y:0}});Object(react[\"useEffect\"])(function(){if(!target)return;var getDistances=function getDistances(event){var startPos=stateRef.current.startPos;return[event.screenX-startPos.x,event.screenY-startPos.y];};var relinquishCursorLock=noop;var dragHandler=function dragHandler(event){if(!stateRef.current.dragHappened&&optsRef.current.lockCursorTo){relinquishCursorLock=createCursorLock(optsRef.current.lockCursorTo);}if(!stateRef.current.dragHappened)stateRef.current.dragHappened=true;modeRef.current='dragging';var deltas=getDistances(event);optsRef.current.onDrag(deltas[0],deltas[1],event);};var dragEndHandler=function dragEndHandler(){removeDragListeners();modeRef.current='notDragging';optsRef.current.onDragEnd&&optsRef.current.onDragEnd(stateRef.current.dragHappened);relinquishCursorLock();relinquishCursorLock=noop;};var addDragListeners=function addDragListeners(){document.addEventListener('mousemove',dragHandler);document.addEventListener('mouseup',dragEndHandler);};var removeDragListeners=function removeDragListeners(){document.removeEventListener('mousemove',dragHandler);document.removeEventListener('mouseup',dragEndHandler);};var preventUnwantedClick=function preventUnwantedClick(event){if(optsRef.current.disabled)return;if(stateRef.current.dragHappened){if(!optsRef.current.dontBlockMouseDown&&modeRef.current!=='notDragging'){event.stopPropagation();event.preventDefault();}stateRef.current.dragHappened=false;}};var dragStartHandler=function dragStartHandler(event){var opts=optsRef.current;if(opts.disabled===true)return;if(event.button!==0)return;var resultOfStart=opts.onDragStart&&opts.onDragStart(event);if(resultOfStart===false)return;if(!opts.dontBlockMouseDown){event.stopPropagation();event.preventDefault();}modeRef.current='dragStartCalled';var screenX=event.screenX,screenY=event.screenY;stateRef.current.startPos={x:screenX,y:screenY};stateRef.current.dragHappened=false;addDragListeners();};var onMouseDown=function onMouseDown(e){dragStartHandler(e);};target.addEventListener('mousedown',onMouseDown);target.addEventListener('click',preventUnwantedClick);return function(){removeDragListeners();target.removeEventListener('mousedown',onMouseDown);target.removeEventListener('click',preventUnwantedClick);relinquishCursorLock();if(modeRef.current!=='notDragging'){optsRef.current.onDragEnd&&optsRef.current.onDragEnd(modeRef.current==='dragging');}modeRef.current='notDragging';};},[target]);}\n// EXTERNAL MODULE: ./node_modules/@theatre/core/dist/index.js\nvar core_dist = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/constants/font.js\nvar FONT={position:core_dist[\"types\"].compound({x:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5}),y:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5})}),size:core_dist[\"types\"].compound({width:core_dist[\"types\"].number(200,{nudgeMultiplier:1})}),bgColor:core_dist[\"types\"].rgba({r:0,g:0,b:0,a:1}),font:core_dist[\"types\"].compound({size:core_dist[\"types\"].number(16,{nudgeMultiplier:1}),color:core_dist[\"types\"].rgba({r:255,g:255,b:255,a:1}),weight:core_dist[\"types\"].number(200,{range:[100,900],nudgeMultiplier:100}),spacing:core_dist[\"types\"].number(0.6,{range:[0,500],nudgeMultiplier:0.1})}),border:core_dist[\"types\"].compound({size:core_dist[\"types\"].number(0),color:core_dist[\"types\"].rgba({r:0,g:0,b:0,a:1}),radius:core_dist[\"types\"].number(4,{range:[0,100],nudgeMultiplier:1})}),content:core_dist[\"types\"].string('請輸入文字'),opacity:core_dist[\"types\"].number(1,{range:[0,1],nudgeMultiplier:0.05}),padding:core_dist[\"types\"].number(32,{range:[0,1000],nudgeMultiplier:1}),visible:core_dist[\"types\"].boolean(true),zIndex:core_dist[\"types\"].stringLiteral('10',{bottom:'-10',0:'0',10:'10',100:'100',1000:'1000',10000:'10000'}),lineHeight:core_dist[\"types\"].number(27,{range:[0,1000],nudgeMultiplier:1}),textAlign:core_dist[\"types\"].stringLiteral('justify',{center:'center',left:'left',right:'right',justify:'justify'}),scale:core_dist[\"types\"].number(1,{nudgeMultiplier:0.1})};\n// CONCATENATED MODULE: ./src/constants/image.js\nvar IMAGE={position:core_dist[\"types\"].compound({x:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5}),y:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5})}),size:core_dist[\"types\"].compound({width:core_dist[\"types\"].number(300,{nudgeMultiplier:0.5})}),border:core_dist[\"types\"].compound({size:core_dist[\"types\"].number(0),color:core_dist[\"types\"].rgba({r:0,g:0,b:0,a:1}),radius:core_dist[\"types\"].number(0,{range:[0,100],nudgeMultiplier:1})}),url:core_dist[\"types\"].string('/default-image.png'),opacity:core_dist[\"types\"].number(1,{range:[0,1],nudgeMultiplier:0.05}),visible:core_dist[\"types\"].boolean(true),scale:core_dist[\"types\"].number(1,{nudgeMultiplier:0.1}),zIndex:core_dist[\"types\"].stringLiteral('10',{bottom:'-10',0:'0',10:'10',100:'100',1000:'1000',10000:'10000'})};\n// CONCATENATED MODULE: ./src/constants/background.js\nvar BACKGROUND={position:core_dist[\"types\"].compound({x:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5}),y:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5})}),size:core_dist[\"types\"].compound({width:core_dist[\"types\"].number(100,{nudgeMultiplier:0.5}),height:core_dist[\"types\"].number(100,{nudgeMultiplier:0.5})}),scale:core_dist[\"types\"].number(1,{nudgeMultiplier:0.1}),border:core_dist[\"types\"].compound({size:core_dist[\"types\"].number(0),color:core_dist[\"types\"].rgba({r:0,g:0,b:0,a:1}),radius:core_dist[\"types\"].number(0,{range:[0,100],nudgeMultiplier:1})}),url:core_dist[\"types\"].string('/default-image.png'),opacity:core_dist[\"types\"].number(1,{range:[0,1],nudgeMultiplier:0.05}),visible:core_dist[\"types\"].boolean(true),zIndex:core_dist[\"types\"].stringLiteral('bottom',{bottom:'-10',0:'0',10:'10',100:'100',1000:'1000',10000:'10000'})};\n// CONCATENATED MODULE: ./src/constants/video.js\nvar VIDEO={position:core_dist[\"types\"].compound({x:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5}),y:core_dist[\"types\"].number(50,{nudgeMultiplier:0.5})}),size:core_dist[\"types\"].compound({width:core_dist[\"types\"].number(300,{nudgeMultiplier:0.5}),height:core_dist[\"types\"].number(200,{nudgeMultiplier:0.5})}),visible:core_dist[\"types\"].boolean(true),isPlaying:core_dist[\"types\"].boolean(true),isLoop:core_dist[\"types\"].boolean(false),scale:core_dist[\"types\"].number(1,{nudgeMultiplier:0.1}),zIndex:core_dist[\"types\"].stringLiteral('10',{bottom:'-10',0:'0',10:'10',100:'100',1000:'1000',10000:'10000'})};\n// CONCATENATED MODULE: ./src/constants/index.js\nvar initialConfig={FONT:FONT,IMAGE:IMAGE,BACKGROUND:BACKGROUND,VIDEO:VIDEO};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/elements/font.js\nvar _templateObject;var FontWrapper=styled_components_browser_esm[\"b\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  word-wrap: break-word;\\n  transform-origin: center;\\n  box-sizing: border-box;\\n\"])));function FontElement(_ref){var id=_ref.id,sheet=_ref.sheet,stageSize=_ref.stageSize,_ref$draggable=_ref.draggable,draggable=_ref$draggable===void 0?true:_ref$draggable;var object=sheet.object(id,Object(objectSpread2[\"a\" /* default */])({},initialConfig.FONT));// Drag setting ----------------------\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),divRef=_useState2[0],setDivRef=_useState2[1];var dragOpts=Object(react[\"useMemo\"])(function(){var scrub;var initial;var firstOnDragCalled=false;return{onDragStart:function onDragStart(){scrub=dist_default.a.scrub();initial=object.value;firstOnDragCalled=false;},onDrag:function onDrag(x,y){var percentX=x/stageSize.width*100;var percentY=y/stageSize.height*100;if(!firstOnDragCalled){dist_default.a.setSelection([object]);firstOnDragCalled=true;}scrub.capture(function(_ref2){var set=_ref2.set;set(object.props,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initial),{},{position:{x:percentX+initial.position.x,y:percentY+initial.position.y}}));});},onDragEnd:function onDragEnd(dragHappened){if(dragHappened){scrub.commit();}else{scrub.discard();}},lockCursorTo:'move'};},[]);draggable&&useDrag(divRef,dragOpts);// Style setting ----------------------\nvar _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),style=_useState4[0],setStyle=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),content=_useState6[0],setContent=_useState6[1];Object(react[\"useEffect\"])(function(){object.onValuesChange(function(newValue){setContent(newValue.content);setStyle({left:\"\".concat(newValue.position.x,\"%\"),top:\"\".concat(newValue.position.y,\"%\"),background:\"\".concat(newValue.bgColor),color:\"\".concat(newValue.font.color),opacity:\" \".concat(newValue.opacity),padding:\"\".concat(newValue.padding,\"px\"),display:\"\".concat(newValue.visible?'block':'none'),width:\"\".concat(newValue.size.width,\"px\"),fontSize:\"\".concat(newValue.font.size,\"px\"),borderRadius:\"\".concat(newValue.border.radius,\"px\"),border:\"\".concat(newValue.border.size,\"px solid \").concat(newValue.border.color),fontWeight:\"\".concat(newValue.font.weight),letterSpacing:\"\".concat(newValue.font.spacing,\"px\"),lineHeight:\"\".concat(newValue.lineHeight,\"px\"),textAlign:\"\".concat(newValue.textAlign),zIndex:\"\".concat(newValue.zIndex),transform:\"scale(\".concat(newValue.scale,\") translate(-50%, -50%)\")});});},[object]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FontWrapper,{onClick:function onClick(){dist_default.a.setSelection([object]);},ref:setDivRef,style:style,dangerouslySetInnerHTML:{__html:content}});}\n// CONCATENATED MODULE: ./src/components/elements/image.js\nvar image_templateObject;var ImageWrapper=styled_components_browser_esm[\"b\" /* default */].div(image_templateObject||(image_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  display: block;\\n  overflow: hidden;\\n  height: auto;\\n  box-sizing: border-box;\\n  outline: 1px solid red;\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: contain;\\n    display: block;\\n  }\\n\"])));function ImageElement(_ref){var id=_ref.id,sheet=_ref.sheet,stageSize=_ref.stageSize,_ref$draggable=_ref.draggable,draggable=_ref$draggable===void 0?true:_ref$draggable,onLoad=_ref.onLoad,_onError=_ref.onError;var object=sheet.object(id,Object(objectSpread2[\"a\" /* default */])({},initialConfig.IMAGE));// Drag setting ----------------------\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),divRef=_useState2[0],setDivRef=_useState2[1];var dragOpts=Object(react[\"useMemo\"])(function(){var scrub;var initial;var firstOnDragCalled=false;return{onDragStart:function onDragStart(){scrub=dist_default.a.scrub();initial=object.value;firstOnDragCalled=false;},onDrag:function onDrag(x,y){var percentX=x/stageSize.width*100;var percentY=y/stageSize.height*100;if(!firstOnDragCalled){dist_default.a.setSelection([object]);firstOnDragCalled=true;}scrub.capture(function(_ref2){var set=_ref2.set;set(object.props,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initial),{},{position:{x:percentX+initial.position.x,y:percentY+initial.position.y}}));});},onDragEnd:function onDragEnd(dragHappened){if(dragHappened){scrub.commit();}else{scrub.discard();}},lockCursorTo:'move'};},[]);draggable&&useDrag(divRef,dragOpts);// Style setting ----------------------\nvar _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),style=_useState4[0],setStyle=_useState4[1];var _useState5=Object(react[\"useState\"])('/default-image.png'),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),imageUrl=_useState6[0],setImageUrl=_useState6[1];Object(react[\"useEffect\"])(function(){object.onValuesChange(function(newValue){setImageUrl(newValue.url);setStyle({left:\"\".concat(newValue.position.x,\"%\"),top:\"\".concat(newValue.position.y,\"%\"),width:\"\".concat(newValue.size.width,\"px\"),borderRadius:\"\".concat(newValue.border.radius,\"%\"),border:\"\".concat(newValue.border.size,\"px solid \").concat(newValue.border.color),background:\"\".concat(newValue.bgColor),opacity:\"\".concat(newValue.opacity),display:\"\".concat(newValue.visible?'block':'none'),transform:\"scale(\".concat(newValue.scale,\") translate(-50%, -50%)\"),zIndex:\"\".concat(newValue.zIndex)});});},[object]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImageWrapper,{onClick:function onClick(){dist_default.a.setSelection([object]);},ref:setDivRef,style:style,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:id,onLoad:onLoad,onError:function onError(e){e.target.src='/error-warning.png';_onError();}})});}\n// CONCATENATED MODULE: ./src/components/elements/background.js\nvar background_templateObject;var BgWrapper=styled_components_browser_esm[\"b\" /* default */].div(background_templateObject||(background_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  display: block;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  outline: 3px solid blue;\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n    /* object-fit: contain; */\\n    display: block;\\n    outline: 3px solid red;\\n    /* object-position: top center; */\\n  }\\n\"])));function BackgroundElement(_ref){var id=_ref.id,sheet=_ref.sheet,stageSize=_ref.stageSize,_ref$draggable=_ref.draggable,draggable=_ref$draggable===void 0?true:_ref$draggable,onLoad=_ref.onLoad,_onError=_ref.onError;var object=sheet.object(id,Object(objectSpread2[\"a\" /* default */])({},initialConfig.BACKGROUND));// Drag setting ----------------------\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),divRef=_useState2[0],setDivRef=_useState2[1];var dragOpts=Object(react[\"useMemo\"])(function(){var scrub;var initial;var firstOnDragCalled=false;return{onDragStart:function onDragStart(){scrub=dist_default.a.scrub();initial=object.value;firstOnDragCalled=false;},onDrag:function onDrag(x,y){var percentX=x/stageSize.width*100;var percentY=y/stageSize.height*100;if(!firstOnDragCalled){dist_default.a.setSelection([object]);firstOnDragCalled=true;}scrub.capture(function(_ref2){var set=_ref2.set;set(object.props,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initial),{},{position:{x:percentX+initial.position.x,y:percentY+initial.position.y}}));});},onDragEnd:function onDragEnd(dragHappened){if(dragHappened){scrub.commit();}else{scrub.discard();}},lockCursorTo:'move'};},[]);draggable&&useDrag(divRef,dragOpts);// Style setting ----------------------\nvar _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),style=_useState4[0],setStyle=_useState4[1];var _useState5=Object(react[\"useState\"])('/default-image.png'),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),imageUrl=_useState6[0],setImageUrl=_useState6[1];Object(react[\"useEffect\"])(function(){object.onValuesChange(function(newValue){setImageUrl(newValue.url);setStyle({left:\"\".concat(newValue.position.x,\"%\"),top:\"\".concat(newValue.position.y,\"%\"),width:\"\".concat(newValue.size.width,\"%\"),height:\"\".concat(newValue.size.height,\"%\"),borderRadius:\"\".concat(newValue.border.radius,\"%\"),border:\"\".concat(newValue.border.size,\"px solid \").concat(newValue.border.color),background:\"\".concat(newValue.bgColor),opacity:\"\".concat(newValue.opacity),display:\"\".concat(newValue.visible?'block':'none'),transform:\"scale(\".concat(newValue.scale,\") translate(-50%, -50%)\"),zIndex:\"\".concat(newValue.zIndex)});});},[object]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BgWrapper,{onClick:function onClick(){dist_default.a.setSelection([object]);},ref:setDivRef,style:style,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:imageUrl,alt:id,onLoad:onLoad,onError:function onError(e){e.target.src='/error-warning.png';_onError();}})});}\n// CONCATENATED MODULE: ./src/components/elements/video.js\nvar video_templateObject;var Video=styled_components_browser_esm[\"b\" /* default */].video(video_templateObject||(video_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  display: block;\\n  height: auto;\\n  box-sizing: border-box;\\n\\n  /* hide controls on iOS */\\n  &::-webkit-media-controls-panel,\\n  &::-webkit-media-controls-play-button,\\n  &::-webkit-media-controls-start-playback-button {\\n    display: none !important;\\n    -webkit-appearance: none !important;\\n  }\\n\"])));function VideoElement(_ref){var id=_ref.id,sheet=_ref.sheet,source=_ref.source,stageSize=_ref.stageSize,_ref$draggable=_ref.draggable,draggable=_ref$draggable===void 0?true:_ref$draggable,onError=_ref.onError;var object=sheet.object(id,Object(objectSpread2[\"a\" /* default */])({},initialConfig.VIDEO));// Drag setting ----------------------\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),divRef=_useState2[0],setDivRef=_useState2[1];var dragOpts=Object(react[\"useMemo\"])(function(){var scrub;var initial;var firstOnDragCalled=false;return{onDragStart:function onDragStart(){scrub=dist_default.a.scrub();initial=object.value;firstOnDragCalled=false;},onDrag:function onDrag(x,y){var percentX=x/stageSize.width*100;var percentY=y/stageSize.height*100;if(!firstOnDragCalled){dist_default.a.setSelection([object]);firstOnDragCalled=true;}scrub.capture(function(_ref2){var set=_ref2.set;set(object.props,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},initial),{},{position:{x:percentX+initial.position.x,y:percentY+initial.position.y}}));});},onDragEnd:function onDragEnd(dragHappened){if(dragHappened){scrub.commit();}else{scrub.discard();}},lockCursorTo:'move'};},[]);draggable&&useDrag(divRef,dragOpts);// Video play/pause ----------------------\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isPlaying=_useState4[0],setIsPlaying=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoop=_useState6[0],setIsLoop=_useState6[1];Object(react[\"useEffect\"])(function(){if(divRef&&isPlaying){divRef===null||divRef===void 0?void 0:divRef.play();}else{divRef===null||divRef===void 0?void 0:divRef.pause();}},[isPlaying]);// Style setting ----------------------\nvar _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),style=_useState8[0],setStyle=_useState8[1];Object(react[\"useEffect\"])(function(){object.onValuesChange(function(newValue){setIsPlaying(newValue.isPlaying);setIsLoop(newValue.isLoop);setStyle({left:\"\".concat(newValue.position.x,\"%\"),top:\"\".concat(newValue.position.y,\"%\"),display:\"\".concat(newValue.visible?'block':'none'),width:\"\".concat(newValue.size.width,\"px\"),height:\"\".concat(newValue.size.height,\"px\"),zIndex:\"\".concat(newValue.zIndex),transform:\"scale(\".concat(newValue.scale,\") translate(-50%, -50%)\")});});},[object]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Video,{muted:true,autoPlay:isPlaying,ref:setDivRef,style:style,preload:\"auto\",loop:isLoop,onClick:function onClick(){dist_default.a.setSelection([object]);},onError:onError,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"source\",{src:source})});}\n// CONCATENATED MODULE: ./src/components/stage.js\nvar stage_templateObject;var Wrapper=styled_components_browser_esm[\"b\" /* default */].div(stage_templateObject||(stage_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100%;\\n  /* padding-top: 56.25%; 16:9 \\u6BD4\\u4F8B\\uFF0C\\u5373 9 / 16 * 100%/ */\\n  /* padding-top: 75%; // 4:3 */\\n  position: relative;\\n  overflow: hidden;\\n  margin: auto;\\n\"])));function Stage(_ref){var objData=_ref.objData,sheet=_ref.sheet,stageSize=_ref.stageSize,draggable=_ref.draggable,_ref$setLoadedMedias=_ref.setLoadedMedias,setLoadedMedias=_ref$setLoadedMedias===void 0?function(){}:_ref$setLoadedMedias,_ref$setHasMediaError=_ref.setHasMediaError,setHasMediaError=_ref$setHasMediaError===void 0?function(){}:_ref$setHasMediaError;var handleOnLoad=function handleOnLoad(){setLoadedMedias(function(prev){return prev+1;});};var handleOnError=function handleOnError(){setHasMediaError(true);};var fontElements=objData.filter(function(data){return data.type==='FONT';}).map(function(data){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FontElement,{id:data.id,sheet:sheet,stageSize:stageSize,draggable:draggable},'font'+data.id);});var imageElements=objData.filter(function(data){return data.type==='IMAGE';}).map(function(data){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImageElement,{id:data.id,sheet:sheet,stageSize:stageSize,draggable:draggable,onLoad:handleOnLoad,onError:handleOnError},'image'+data.id);});var bgElements=objData.filter(function(data){return data.type==='BACKGROUND';}).map(function(data){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackgroundElement,{id:data.id,sheet:sheet,stageSize:stageSize,draggable:draggable,onLoad:handleOnLoad,onError:handleOnError},'background'+data.id);});var videoElements=objData.filter(function(data){return data.type==='VIDEO';}).map(function(data){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoElement,{id:data.id,source:data.src,sheet:sheet,stageSize:stageSize,draggable:draggable,onError:handleOnError},'video'+data.id);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Wrapper,{id:\"theatre-stage\",children:[fontElements,imageElements,bgElements,videoElements]});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./src/components/button/element-button.js\nvar element_button_templateObject;var element_button_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(element_button_templateObject||(element_button_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: 5px;\\n  background: rgba(255, 255, 255, 0.95);\\n  max-width: 120px;\\n  border-radius: 10px;\\n  margin: 10px;\\n  outline: 2px solid #e9e9e9;\\n\\n  button {\\n    padding: 5px;\\n    background: white;\\n    margin: 5px;\\n    cursor: pointer;\\n    background: #e9e9e9;\\n    border: none;\\n    border-radius: 5px;\\n  }\\n\"])));var buttons=[{label:'BG',className:'add-background',onClick:function onClick(_ref){var addBgElement=_ref.addBgElement;addBgElement();}},{label:'Font',className:'add-font',onClick:function onClick(_ref2){var addFontElement=_ref2.addFontElement;addFontElement();}},{label:'Image',className:'add-image',onClick:function onClick(_ref3){var addImageElement=_ref3.addImageElement;addImageElement();}},{label:'Video',className:'add-video',onClick:function onClick(_ref4){var setShowVideoBox=_ref4.setShowVideoBox;setShowVideoBox(true);}},{label:'刪除元件',className:'delete-element',onClick:function onClick(_ref5){var setShowDeleteBox=_ref5.setShowDeleteBox;setShowDeleteBox(true);}}];function ElementButtons(_ref6){var setShowDeleteBox=_ref6.setShowDeleteBox,objData=_ref6.objData,setObjData=_ref6.setObjData,setShowVideoBox=_ref6.setShowVideoBox;var addFontElement=function addFontElement(){var lastFontId=objData.filter(function(element){return element.type==='FONT';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"font-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(Object(toConsumableArray[\"a\" /* default */])(objData),[{id:nextFontId,type:'FONT'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};var addImageElement=function addImageElement(){var lastFontId=objData.filter(function(element){return element.type==='IMAGE';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"img-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(Object(toConsumableArray[\"a\" /* default */])(objData),[{id:nextFontId,type:'IMAGE'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};var addBgElement=function addBgElement(){var lastFontId=objData.filter(function(element){return element.type==='BACKGROUND';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextFontId=\"bg-\".concat(String(lastFontId+1).padStart(3,'0'));var updatedElementData=[].concat(Object(toConsumableArray[\"a\" /* default */])(objData),[{id:nextFontId,type:'BACKGROUND'}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};// const addVideoElement = () => {\n//   const lastVideoId = objData\n//     .filter((element) => element.type === 'VIDEO')\n//     .reduce((maxId, element) => {\n//       const idNumber = parseInt(element.id.split('-')[1]);\n//       return idNumber > maxId ? idNumber : maxId;\n//     }, 0);\n//   const nextVideoId = `video-${String(lastVideoId + 1).padStart(3, '0')}`;\n//   const updatedElementData = [...objData, { id: nextVideoId, type: 'VIDEO' }];\n//   localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n//   setObjData(updatedElementData);\n// };\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(element_button_Wrapper,{children:buttons.map(function(button,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:button.className,onClick:function onClick(){return button.onClick({setShowDeleteBox:setShowDeleteBox,addFontElement:addFontElement,addImageElement:addImageElement,addBgElement:addBgElement,setShowVideoBox:setShowVideoBox});},children:button.label},index);})});}\n// CONCATENATED MODULE: ./src/components/button/setting-button.js\nvar setting_button_templateObject;var setting_button_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(setting_button_templateObject||(setting_button_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: 5px;\\n  background: rgba(255, 255, 255, 0.95);\\n  max-width: 120px;\\n  border-radius: 10px;\\n  margin: 10px 0 10px 10px;\\n  outline: 2px solid #e9e9e9;\\n\\n  button {\\n    padding: 5px;\\n    margin: 5px;\\n    cursor: pointer;\\n    background: #e9e9e9;\\n    border: none;\\n    border-radius: 5px;\\n  }\\n\"])));var setting_button_buttons=[{label:'clear JSON',onClick:function onClick(){var confirmation=confirm('將清空 project 所有資料');if(confirmation){localStorage.removeItem('theatre-data');localStorage.removeItem('theatre-0.4.persistent');window.location.reload();}else{return;}}},{label:'show JSON',onClick:function onClick(_ref){var _JSON$parse$historic$,_JSON$parse,_JSON$parse$historic,_JSON$parse$historic$2,_JSON$parse$historic$3;var setShowJSONLightBox=_ref.setShowJSONLightBox,setAnimateJSON=_ref.setAnimateJSON;var animate=localStorage.getItem('theatre-0.4.persistent');var animateState=(_JSON$parse$historic$=(_JSON$parse=JSON.parse(animate))===null||_JSON$parse===void 0?void 0:(_JSON$parse$historic=_JSON$parse.historic)===null||_JSON$parse$historic===void 0?void 0:(_JSON$parse$historic$2=_JSON$parse$historic.innerState)===null||_JSON$parse$historic$2===void 0?void 0:(_JSON$parse$historic$3=_JSON$parse$historic$2.coreByProject)===null||_JSON$parse$historic$3===void 0?void 0:_JSON$parse$historic$3.Project)!==null&&_JSON$parse$historic$!==void 0?_JSON$parse$historic$:{};setAnimateJSON(animateState);setShowJSONLightBox(true);}},{label:'Play',onClick:function onClick(_ref2){var sheet=_ref2.sheet;sheet.sequence.play();}},{label:'Pause',onClick:function onClick(_ref3){var sheet=_ref3.sheet;sheet.sequence.pause();}}];function SettingButtons(_ref4){var setShowJSONLightBox=_ref4.setShowJSONLightBox,setAnimateJSON=_ref4.setAnimateJSON,sheet=_ref4.sheet;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(setting_button_Wrapper,{children:[setting_button_buttons.map(function(button,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return button.onClick({setShowJSONLightBox:setShowJSONLightBox,setAnimateJSON:setAnimateJSON,sheet:sheet});},children:button.label},index);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/demo-scroll\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Scroll\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/demo-video\",target:\"_blank\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Video\"})})]});}\n// CONCATENATED MODULE: ./src/components/lightbox/show-json.js\nvar show_json_templateObject,_templateObject2,_templateObject3;var show_json_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(show_json_templateObject||(show_json_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"])));var Form=styled_components_browser_esm[\"b\" /* default */].div(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background: white;\\n  border: 10px;\\n  padding: 10px 30px 30px;\\n  outline: 3px solid black;\\n  display: flex;\\n\\n  textarea {\\n    width: 100%;\\n    height: 100px;\\n    margin-bottom: 10px;\\n  }\\n\\n  button {\\n    padding: 10px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));var Block=styled_components_browser_esm[\"b\" /* default */].div(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin: 0 30px;\\n  width: 400px;\\n\"])));function JSONLightBox(_ref){var setShowJSONLightBox=_ref.setShowJSONLightBox,animateJSON=_ref.animateJSON,objData=_ref.objData,setObjData=_ref.setObjData;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),inputObj=_useState2[0],setInputObj=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),inputAnimate=_useState4[0],setInputAnimate=_useState4[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(show_json_Wrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Block,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\" JSON \\u8CC7\\u6599 (Read only) \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u5143\\u4EF6 JSON\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"\\u5143\\u4EF6JSON\",value:JSON.stringify(objData),readOnly:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u52D5\\u756B JSON\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"\\u52D5\\u756BJSON\",value:JSON.stringify(animateJSON),readOnly:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Block,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\" Edit JSON \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u5143\\u4EF6 JSON\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"\\u8CBC\\u4E0A\\u8981\\u8B80\\u53D6\\u7684\\u5143\\u4EF6JSON\",value:inputObj,onChange:function onChange(e){return setInputObj(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"\\u52D5\\u756B JSON\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"\\u8CBC\\u4E0A\\u8981\\u8B80\\u53D6\\u7684\\u52D5\\u756BJSON\",value:inputAnimate,onChange:function onChange(e){return setInputAnimate(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){setShowJSONLightBox(false);},children:\"Close\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){//更新 object storage 資料（自動記憶）\nlocalStorage.setItem('theatre-data',inputObj);//把 render 資料換成 inputObj，讓畫面直接更新\nsetObjData(JSON.parse(inputObj));//更新 state 資料（自動記憶）\nvar animate=localStorage.getItem('theatre-0.4.persistent');var animateData=JSON.parse(animate);var inputAnimateData=JSON.parse(inputAnimate);if(inputAnimateData){animateData.historic.innerState.coreByProject.Project=inputAnimateData;}var updatedAnimate=JSON.stringify(animateData);localStorage.setItem('theatre-0.4.persistent',updatedAnimate);window.location.reload();//一定要重新整理，不然會壞掉\n},children:\"\\u5132\\u5B58\\u4FEE\\u6539\"})]})]})});}\n// CONCATENATED MODULE: ./src/components/lightbox/delete-obj.js\nvar delete_obj_templateObject,delete_obj_templateObject2;var delete_obj_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(delete_obj_templateObject||(delete_obj_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"])));var delete_obj_Form=styled_components_browser_esm[\"b\" /* default */].div(delete_obj_templateObject2||(delete_obj_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 30%;\\n  height: 25%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 150px auto;\\n\\n  input {\\n    width: 70%;\\n    margin-bottom: 20px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));function DeleteLightBox(_ref){var setShowDeleteBox=_ref.setShowDeleteBox,setObjData=_ref.setObjData,objData=_ref.objData,sheet=_ref.sheet;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),deleteID=_useState2[0],setDeleteID=_useState2[1];// TODO: 多項刪除\nvar deleteObject=function deleteObject(id){var filteredData=objData.filter(function(item){return item.id!==id;});setObjData(filteredData);localStorage.setItem('theatre-data',JSON.stringify(filteredData));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(delete_obj_Wrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(delete_obj_Form,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"\\u522A\\u9664\\u5143\\u4EF6 \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"\\u5143\\u4EF6 ID\\uFF1A \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"\",value:deleteID,onChange:function onChange(e){return setDeleteID(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){deleteObject(deleteID);sheet.detachObject(deleteID);window.location.reload();},children:\"\\u78BA\\u5B9A\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){setShowDeleteBox(false);},children:\"\\u53D6\\u6D88\"})]})});}\n// CONCATENATED MODULE: ./src/components/lightbox/add-video.js\nvar add_video_templateObject,add_video_templateObject2;var add_video_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(add_video_templateObject||(add_video_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  background: black;\\n  opacity: 1;\\n  display: flex;\\n  justify-content: center;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n\"])));var add_video_Form=styled_components_browser_esm[\"b\" /* default */].div(add_video_templateObject2||(add_video_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 30%;\\n  height: 25%;\\n  background: white;\\n  border: 10px;\\n  padding: 20px;\\n  outline: 3px solid black;\\n  margin: 150px auto;\\n\\n  input {\\n    width: 95%;\\n    margin-bottom: 20px;\\n  }\\n\\n  button {\\n    padding: 5px;\\n    background: black;\\n    color: white;\\n    outline: none;\\n    cursor: pointer;\\n    margin-top: 10px;\\n    margin-right: 10px;\\n  }\\n\"])));function AddVideo(_ref){var setShowVideoBox=_ref.setShowVideoBox,setObjData=_ref.setObjData,objData=_ref.objData;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),source=_useState2[0],setSource=_useState2[1];var addVideoElement=function addVideoElement(){var lastVideoId=objData.filter(function(element){return element.type==='VIDEO';}).reduce(function(maxId,element){var idNumber=parseInt(element.id.split('-')[1]);return idNumber>maxId?idNumber:maxId;},0);var nextVideoId=\"video-\".concat(String(lastVideoId+1).padStart(3,'0'));var updatedElementData=[].concat(Object(toConsumableArray[\"a\" /* default */])(objData),[{id:nextVideoId,type:'VIDEO',src:source}]);localStorage.setItem('theatre-data',JSON.stringify(updatedElementData));setObjData(updatedElementData);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(add_video_Wrapper,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(add_video_Form,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"\\u65B0\\u589E\\u5F71\\u7247\\u5143\\u4EF6 \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\" \\u5F71\\u7247\\u4F86\\u6E90\\uFF1A \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"\",value:source,onChange:function onChange(e){return setSource(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){addVideoElement();window.location.reload();},children:\"\\u78BA\\u5B9A\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){setShowVideoBox(false);},children:\"\\u53D6\\u6D88\"})]})});}\n// CONCATENATED MODULE: ./src/components/edit-panel.js\nvar edit_panel_templateObject,edit_panel_templateObject2;var LightBoxWrapper=styled_components_browser_esm[\"b\" /* default */].div(edit_panel_templateObject||(edit_panel_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: relative;\\n  z-index: 999999;\\n\"])));var ButtonWrapper=styled_components_browser_esm[\"b\" /* default */].div(edit_panel_templateObject2||(edit_panel_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  justify-content: space-between;\\n  z-index: 100;\\n\"])));function EditPanel(_ref){var sheet=_ref.sheet,setObjData=_ref.setObjData,objData=_ref.objData;//Lightbox\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showJSONLightBox=_useState2[0],setShowJSONLightBox=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showDeleteBox=_useState4[0],setShowDeleteBox=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showVideoBox=_useState6[0],setShowVideoBox=_useState6[1];//JSON data\nvar _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),animateJSON=_useState8[0],setAnimateJSON=_useState8[1];// 存在 storage 的 objData\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LightBoxWrapper,{id:\"lightbox-wrapper\",children:[showJSONLightBox&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JSONLightBox,{setShowJSONLightBox:setShowJSONLightBox,animateJSON:animateJSON,objData:objData,setObjData:setObjData}),showDeleteBox&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteLightBox,{objData:objData,setObjData:setObjData,setShowDeleteBox:setShowDeleteBox,sheet:sheet}),showVideoBox&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddVideo,{objData:objData,setObjData:setObjData,setShowVideoBox:setShowVideoBox})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SettingButtons,{setShowJSONLightBox:setShowJSONLightBox,setAnimateJSON:setAnimateJSON,sheet:sheet}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ElementButtons,{setShowDeleteBox:setShowDeleteBox,setObjData:setObjData,objData:objData,setShowVideoBox:setShowVideoBox})]})]});}\n// CONCATENATED MODULE: ./src/components/grid-line.js\nvar grid_line_templateObject;var gridColor='#29e2f3';var dashWidth='2px';var centerLineColor='red';var Grid=styled_components_browser_esm[\"b\" /* default */].div(grid_line_templateObject||(grid_line_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  margin: auto;\\n  z-index: 15000;\\n\\n  background-image: repeating-linear-gradient(\\n      to right,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 49.5px\\n    ),\\n    repeating-linear-gradient(\\n      to right,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 99.5px\\n    ),\\n    repeating-linear-gradient(\\n      to bottom,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 49.5px\\n    ),\\n    repeating-linear-gradient(\\n      to bottom,\\n      \",\" 0,\\n      \",\" 0.5px,\\n      transparent 0.5px,\\n      transparent 99.5px\\n    );\\n  background-size: 100px 100px;\\n  background-repeat: repeat;\\n  background-position: 100% 100%;\\n  pointer-events: none;\\n  opacity: 0.5;\\n\\n  // center-line-horizon\\n  &::before {\\n    content: '';\\n    position: absolute;\\n    top: 50%;\\n    left: 0;\\n    width: 100%;\\n    height: \",\";\\n    background-image: repeating-linear-gradient(\\n      to right,\\n      transparent,\\n      transparent 5px,\\n      \",\" 5px,\\n      \",\" 15px\\n    );\\n  }\\n\\n  // center-line-vertical\\n  &::after {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    left: 50%;\\n    width: \",\";\\n    height: 100%;\\n    background-image: repeating-linear-gradient(\\n      to bottom,\\n      transparent,\\n      transparent 5px,\\n      \",\" 5px,\\n      \",\" 15px\\n    );\\n  }\\n\"])),gridColor,gridColor,gridColor,gridColor,gridColor,gridColor,gridColor,gridColor,dashWidth,centerLineColor,centerLineColor,dashWidth,centerLineColor,centerLineColor);function GridLine(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid,{});}\n// CONCATENATED MODULE: ./src/components/range-slider.js\nvar range_slider_templateObject,range_slider_templateObject2,range_slider_templateObject3;var RangeBar=styled_components_browser_esm[\"b\" /* default */].div(range_slider_templateObject||(range_slider_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: fixed;\\n  left: 35px;\\n  bottom: \",\";\\n  width: 220px;\\n  height: 20px;\\n  z-index: 100;\\n\\n  input {\\n    position: absolute;\\n    top: 50%;\\n    z-index: 3;\\n    transform: translateY(-50%);\\n    -webkit-appearance: none;\\n    appearance: none;\\n    width: 100%;\\n    height: 4px;\\n    opacity: 0;\\n    margin: 0;\\n  }\\n\"])),function(props){return props.type==='width'?'200px':'250px';});var Thumb=styled_components_browser_esm[\"b\" /* default */].div(range_slider_templateObject2||(range_slider_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 60px;\\n  height: 25px;\\n  border: 0.6px solid #303030;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%) translateX(-50%);\\n  background-color: #f4f4f4;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: 700;\\n  font-size: 14px;\\n  color: #303030;\\n  z-index: 2;\\n  border-radius: 5%;\\n  cursor: pointer;\\n  user-select: none;\\n\"])));var Line=styled_components_browser_esm[\"b\" /* default */].div(range_slider_templateObject3||(range_slider_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 4px;\\n  width: 100%;\\n  background-color: #e1e1e1;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  left: 0;\\n  position: absolute;\\n  z-index: 1;\\n\\n  .fill {\\n    position: absolute;\\n    height: 4px;\\n    background-color: #303030;\\n  }\\n\"])));function RangeSlider(_ref){var sliderValue=_ref.sliderValue,setSliderValue=_ref.setSliderValue,_ref$type=_ref.type,type=_ref$type===void 0?'width':_ref$type;var screenSize;if(type==='width'){screenSize=window.innerWidth;}else if(type==='height'){screenSize=window.innerHeight;}function handleChange(event){var value=parseInt(event.target.value,10);setSliderValue(value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(RangeBar,{type:type,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Thumb,{style:{left:sliderValue/screenSize*200+'px'},children:[sliderValue,\" px\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Line,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fill\",style:{width:sliderValue/screenSize*100+'%'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"range\",value:sliderValue,min:\"250\",max:screenSize,onChange:handleChange})]});}\n// CONCATENATED MODULE: ./src/page/playground.js\nvar playground_templateObject,playground_templateObject2,playground_templateObject3;var playground_Wrapper=styled_components_browser_esm[\"b\" /* default */].div(playground_templateObject||(playground_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100vw;\\n  height: 100vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var EditArea=styled_components_browser_esm[\"b\" /* default */].div(playground_templateObject2||(playground_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  outline: 2px solid #29e2f3;\\n  margin: auto;\\n  z-index: 5;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var PanelWrapper=styled_components_browser_esm[\"b\" /* default */].div(playground_templateObject3||(playground_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  z-index: 10;\\n\"])));function Playground(){// Theatre.js initialize\ndist_default.a.initialize();var project=Object(core_dist[\"getProject\"])('Project',{});var sheet=project.sheet('Scene','default');project.ready.then(function(){return sheet.sequence.pause();});// Get objectJSON in local-storage\nvar initialObjJson=localStorage.getItem('theatre-data');var initialObjData=initialObjJson?JSON.parse(initialObjJson):[];var _useState=Object(react[\"useState\"])(initialObjData),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),objData=_useState2[0],setObjData=_useState2[1];// Grid & Panel: keyboard shortcut setting\nvar _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showGrid=_useState4[0],setShowGrid=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showPanel=_useState6[0],setShowPanel=_useState6[1];dist_default.a.ui[showPanel?'restore':'hide']();Object(react[\"useEffect\"])(function(){var handleKeyDown=function handleKeyDown(event){if(event.key==='Escape'){setShowPanel(!showPanel);}if(event.key==='Backquote'||event.key==='`'){setShowGrid(!showGrid);}};document.addEventListener('keydown',handleKeyDown);return function(){document.removeEventListener('keydown',handleKeyDown);};});// ------------------------\nvar _useState7=Object(react[\"useState\"])(window.innerWidth),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),widthSliderValue=_useState8[0],setWidthSliderValue=_useState8[1];var _useState9=Object(react[\"useState\"])(window.innerHeight),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),heightSliderValue=_useState10[0],setHeightSliderValue=_useState10[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(playground_Wrapper,{children:[showPanel&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PanelWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EditPanel,{sheet:sheet,setObjData:setObjData,objData:objData}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RangeSlider,{setSliderValue:setWidthSliderValue,sliderValue:widthSliderValue,type:\"width\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RangeSlider,{setSliderValue:setHeightSliderValue,sliderValue:heightSliderValue,type:\"height\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(EditArea,{style:{maxWidth:widthSliderValue,maxHeight:heightSliderValue},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stage,{objData:objData,sheet:sheet,stageSize:{width:widthSliderValue,height:heightSliderValue}}),showGrid&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridLine,{})]})]});}\n// EXTERNAL MODULE: ./node_modules/react-transition-group/esm/Transition.js + 5 modules\nvar Transition = __webpack_require__(85);\n\n// CONCATENATED MODULE: ./src/components/dimmer-with-message.js\nvar dimmer_with_message_templateObject,dimmer_with_message_templateObject2,dimmer_with_message_templateObject3,_templateObject4,_templateObject5;var transitionDuration={enter:200,exit:200};var textAnimation=Object(styled_components_browser_esm[\"c\" /* keyframes */])(dimmer_with_message_templateObject||(dimmer_with_message_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: .4;\\n  }\\n\"])));var Dimmer=styled_components_browser_esm[\"b\" /* default */].div(dimmer_with_message_templateObject2||(dimmer_with_message_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100%;\\n  background: #000;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  backdrop-filter: blur(5px);\\n\"])));var Container=styled_components_browser_esm[\"b\" /* default */].div(dimmer_with_message_templateObject3||(dimmer_with_message_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  z-index: 100000;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  opacity: 0;\\n  opacity: \",\";\\n  transition: \",\";\\n\"])),function(props){switch(props.$state){case'exited':case'exiting':{return'0';}case'entering':case'entered':default:{return'1';}}},function(props){switch(props.$state){case'exiting':case'exited':{return\"opacity \".concat(transitionDuration.exit,\"ms ease\");}case'entering':case'entered':default:{return\"opacity \".concat(transitionDuration.enter,\"ms ease\");}}});var Text=styled_components_browser_esm[\"b\" /* default */].div(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  text-align: center;\\n  transform: translate(-50%, -50%);\\n  top: 50%;\\n  left: 50%;\\n  position: absolute;\\n  font-size: 1.8rem;\\n  width: 69%;\\n  @media screen and (max-width: 767px) {\\n    font-size: 1.5rem;\\n  }\\n  font-weight: bold;\\n  color: #fff;\\n  \",\"\\n\"])),function(props){return props.$shining?Object(styled_components_browser_esm[\"a\" /* css */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n          opacity: 1;\\n          will-change: opacity;\\n          animation: \",\" 0.65s ease-in-out;\\n          animation-direction: alternate;\\n          animation-iteration-count: infinite;\\n        \"])),textAnimation):'';});/**\n *  @typedef {Object} Dimmer\n *  @property {boolean} show\n *  @property {string} message\n *  @property {boolean} shining\n */ /**\n *  @param {Dimmer} props\n *  @returns {React.ReactElement}\n */function DimmerWithMessage(_ref){var _ref$show=_ref.show,show=_ref$show===void 0?false:_ref$show,_ref$message=_ref.message,message=_ref$message===void 0?'':_ref$message,_ref$shining=_ref.shining,shining=_ref$shining===void 0?false:_ref$shining;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Transition[\"a\" /* default */],{unmountOnExit:true,in:show,timeout:transitionDuration,children:function children(state){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container,{$state:state,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dimmer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text,{$shining:shining,children:message})]});}});}\n// CONCATENATED MODULE: ./src/page/demo-scroll.js\nvar demo_scroll_templateObject,demo_scroll_templateObject2;var ScrollSizer=styled_components_browser_esm[\"b\" /* default */].div(demo_scroll_templateObject||(demo_scroll_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: relative;\\n  width: 100vw;\\n  min-width: 100vw;\\n  max-width: 100vw;\\n  min-height: 100vh;\\n  background: #ffffff;\\n\"])));var StickyBox=styled_components_browser_esm[\"b\" /* default */].div(demo_scroll_templateObject2||(demo_scroll_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: sticky;\\n  top: 0;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var defaultScrollScale=1500;function DemoScroll(){dist_default.a.initialize();dist_default.a.ui.hide();var project=Object(core_dist[\"getProject\"])('Project',{});var sheet=project.sheet('Scene','default');project.ready.then(function(){return sheet.sequence.pause();});// --------------------------\nvar objJson=localStorage.getItem('theatre-data');// get objectJSON in local-storage\nvar objData=objJson?JSON.parse(objJson):[];// --------------------------\n// TODO: 增加條件，減少 event-listener 偵測時間\nvar _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),scrollPosition=_useState2[0],setScrollPosition=_useState2[1];var sequenceLength=Object(core_dist[\"val\"])(sheet.sequence.pointer.length);var stageRef=Object(react[\"useRef\"])(null);Object(react[\"useEffect\"])(function(){var handleScroll=function handleScroll(){var stage=stageRef.current;var sizer=stage.closest('.theatre-scroll-sizer');var stageRect=stage.getBoundingClientRect();var sizerRect=sizer.getBoundingClientRect();var distance=stageRect.top-sizerRect.top;setScrollPosition(distance);};window.addEventListener('scroll',handleScroll);return function(){window.removeEventListener('scroll',handleScroll);};},[]);Object(react[\"useEffect\"])(function(){var newPosition=scrollPosition/(sequenceLength*defaultScrollScale)*sequenceLength;sheet.sequence.position=newPosition;},[scrollPosition]);// ----------------------------\nvar _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),hasMediaError=_useState4[0],setHasMediaError=_useState4[1];// image & background && video onError\nvar _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loadedMedias=_useState6[0],setLoadedMedias=_useState6[1];// image & background && video onload\nvar _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var totalMedias=objData.filter(function(data){return data.type==='IMAGE'||data.type==='BACKGROUND';}).length;Object(react[\"useEffect\"])(function(){if(loadedMedias===totalMedias){setIsLoading(false);}},[loadedMedias,totalMedias]);var sizerHeight=hasMediaError||isLoading?'100vh':\"\".concat(sequenceLength*defaultScrollScale,\"px\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ScrollSizer,{className:\"theatre-scroll-sizer\",style:{height:sizerHeight},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(StickyBox,{ref:stageRef,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DimmerWithMessage,{show:isLoading&&!hasMediaError,message:'載入中',shining:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DimmerWithMessage,{show:hasMediaError,message:'載入失敗。請檢查您的網路連線，並重新整理瀏覽器。'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stage,{objData:objData,sheet:sheet,stageWidth:window.innerWidth,draggable:false,setHasMediaError:setHasMediaError,setLoadedMedias:setLoadedMedias})]})});}\n// CONCATENATED MODULE: ./src/page/demo-video.js\nvar demo_video_templateObject;var VideoWrapper=styled_components_browser_esm[\"b\" /* default */].div(demo_video_templateObject||(demo_video_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100vw;\\n  height: 100vh;\\n\"])));function DemoVideo(){dist_default.a.initialize();dist_default.a.ui.hide();var project=Object(core_dist[\"getProject\"])('Project',{});var sheet=project.sheet('Scene','default');project.ready.then(function(){return sheet.sequence.play({iterationCount:Infinity});});var objJson=localStorage.getItem('theatre-data');// get objectJSON in local-storage\nvar objData=objJson?JSON.parse(objJson):[];// --------------------------\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),hasMediaError=_useState2[0],setHasMediaError=_useState2[1];// image & background && video onError\nvar _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loadedMedias=_useState4[0],setLoadedMedias=_useState4[1];// image & background && video onload\nvar _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var totalMedias=objData.filter(function(data){return data.type==='IMAGE'||data.type==='BACKGROUND';}).length;Object(react[\"useEffect\"])(function(){if(loadedMedias===totalMedias){setIsLoading(false);}},[loadedMedias,totalMedias]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(VideoWrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DimmerWithMessage,{show:isLoading&&!hasMediaError,message:'載入中',shining:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DimmerWithMessage,{show:hasMediaError,message:'載入失敗。請檢查您的網路連線，並重新整理瀏覽器。'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stage,{objData:objData,sheet:sheet,stageWidth:window.innerWidth,draggable:false,setHasMediaError:setHasMediaError,setLoadedMedias:setLoadedMedias})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Playground,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"demo-scroll\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DemoScroll,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"demo-video\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DemoVideo,{})})]})});}\n// CONCATENATED MODULE: ./src/index.js\n// TODO: data change to Redux\nvar rootElement=document.getElementById('root');client_default.a.createRoot(rootElement).render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})}));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[81,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/reportWebVitals.js","/Users/mac/Documents/GitHub/deepfake-demo/src/hooks/use-drag.js","/Users/mac/Documents/GitHub/deepfake-demo/src/constants/font.js","/Users/mac/Documents/GitHub/deepfake-demo/src/constants/image.js","/Users/mac/Documents/GitHub/deepfake-demo/src/constants/background.js","/Users/mac/Documents/GitHub/deepfake-demo/src/constants/video.js","/Users/mac/Documents/GitHub/deepfake-demo/src/constants/index.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/elements/font.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/elements/image.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/elements/background.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/elements/video.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/stage.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/button/element-button.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/button/setting-button.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/show-json.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/delete-obj.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/lightbox/add-video.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/edit-panel.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/grid-line.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/range-slider.js","/Users/mac/Documents/GitHub/deepfake-demo/src/page/playground.js","/Users/mac/Documents/GitHub/deepfake-demo/src/components/dimmer-with-message.js","/Users/mac/Documents/GitHub/deepfake-demo/src/page/demo-scroll.js","/Users/mac/Documents/GitHub/deepfake-demo/src/page/demo-video.js","/Users/mac/Documents/GitHub/deepfake-demo/src/App.js","/Users/mac/Documents/GitHub/deepfake-demo/src/index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","noop","createCursorLock","cursor","el","document","createElement","style","cssText","body","appendChild","relinquish","removeChild","useDrag","target","opts","optsRef","useRef","current","modeRef","stateRef","dragHappened","startPos","x","y","useEffect","getDistances","event","screenX","screenY","relinquishCursorLock","dragHandler","lockCursorTo","deltas","onDrag","dragEndHandler","removeDragListeners","onDragEnd","addDragListeners","addEventListener","removeEventListener","preventUnwantedClick","disabled","dontBlockMouseDown","stopPropagation","preventDefault","dragStartHandler","button","resultOfStart","onDragStart","onMouseDown","e","FONT","position","types","compound","number","nudgeMultiplier","size","width","bgColor","rgba","r","g","b","a","font","color","weight","range","spacing","border","radius","content","string","opacity","padding","visible","boolean","zIndex","stringLiteral","bottom","lineHeight","textAlign","center","left","right","justify","scale","IMAGE","url","BACKGROUND","height","VIDEO","isPlaying","isLoop","initialConfig","FontWrapper","styled","div","_templateObject","_taggedTemplateLiteral","FontElement","id","sheet","stageSize","_ref$draggable","draggable","object","_objectSpread","_useState","useState","_useState2","_slicedToArray","divRef","setDivRef","dragOpts","useMemo","scrub","initial","firstOnDragCalled","studio","value","percentX","percentY","setSelection","capture","_ref2","set","props","commit","discard","_useState3","_useState4","setStyle","_useState5","_useState6","setContent","onValuesChange","newValue","concat","top","background","display","fontSize","borderRadius","fontWeight","letterSpacing","transform","_jsx","onClick","ref","dangerouslySetInnerHTML","__html","ImageWrapper","ImageElement","onLoad","onError","imageUrl","setImageUrl","children","src","alt","BgWrapper","BackgroundElement","Video","video","VideoElement","source","setIsPlaying","setIsLoop","play","pause","_useState7","_useState8","muted","autoPlay","preload","loop","Wrapper","Stage","objData","_ref$setLoadedMedias","setLoadedMedias","_ref$setHasMediaError","setHasMediaError","handleOnLoad","prev","handleOnError","fontElements","filter","data","type","map","imageElements","bgElements","videoElements","_jsxs","buttons","label","className","addBgElement","addFontElement","_ref3","addImageElement","_ref4","setShowVideoBox","_ref5","setShowDeleteBox","ElementButtons","_ref6","setObjData","lastFontId","element","reduce","maxId","idNumber","parseInt","split","nextFontId","String","padStart","updatedElementData","_toConsumableArray","localStorage","setItem","JSON","stringify","index","confirmation","confirm","removeItem","window","location","reload","_JSON$parse$historic$","_JSON$parse","_JSON$parse$historic","_JSON$parse$historic$2","_JSON$parse$historic$3","setShowJSONLightBox","setAnimateJSON","animate","getItem","animateState","parse","historic","innerState","coreByProject","Project","sequence","SettingButtons","Link","to","Form","_templateObject2","Block","_templateObject3","JSONLightBox","animateJSON","inputObj","setInputObj","inputAnimate","setInputAnimate","placeholder","readOnly","onChange","animateData","inputAnimateData","updatedAnimate","DeleteLightBox","deleteID","setDeleteID","deleteObject","filteredData","item","detachObject","AddVideo","setSource","addVideoElement","lastVideoId","nextVideoId","LightBoxWrapper","ButtonWrapper","EditPanel","showJSONLightBox","showDeleteBox","showVideoBox","_Fragment","VideoLightBox","gridColor","dashWidth","centerLineColor","Grid","GridLine","RangeBar","Thumb","Line","RangeSlider","sliderValue","setSliderValue","_ref$type","screenSize","innerWidth","innerHeight","handleChange","min","max","EditArea","PanelWrapper","Playground","initialize","project","getProject","ready","initialObjJson","initialObjData","showGrid","setShowGrid","showPanel","setShowPanel","ui","handleKeyDown","key","widthSliderValue","setWidthSliderValue","_useState9","_useState10","heightSliderValue","setHeightSliderValue","maxWidth","maxHeight","transitionDuration","enter","exit","textAnimation","keyframes","Dimmer","Container","$state","Text","_templateObject4","$shining","css","_templateObject5","DimmerWithMessage","_ref$show","show","_ref$message","message","_ref$shining","shining","Transition","unmountOnExit","in","timeout","state","ScrollSizer","StickyBox","defaultScrollScale","DemoScroll","hide","objJson","scrollPosition","setScrollPosition","sequenceLength","val","pointer","length","stageRef","handleScroll","stage","sizer","closest","stageRect","getBoundingClientRect","sizerRect","distance","newPosition","hasMediaError","loadedMedias","isLoading","setIsLoading","totalMedias","sizerHeight","stageWidth","VideoWrapper","DemoVideo","iterationCount","Infinity","App","BrowserRouter","Routes","Route","path","rootElement","getElementById","ReactDOM","createRoot","render","React","StrictMode"],"mappings":"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","file":"x","sourcesContent":["const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import { useEffect, useRef } from 'react';\n\nconst noop = () => {};\n\nfunction createCursorLock(cursor) {\n  const el = document.createElement('div');\n  el.style.cssText = `\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 9999999;`;\n\n  el.style.cursor = cursor;\n  document.body.appendChild(el);\n  const relinquish = () => {\n    document.body.removeChild(el);\n  };\n\n  return relinquish;\n}\n\nexport default function useDrag(target, opts) {\n  const optsRef = useRef(opts);\n  optsRef.current = opts;\n\n  const modeRef = useRef('notDragging');\n\n  const stateRef = useRef({ dragHappened: false, startPos: { x: 0, y: 0 } });\n\n  useEffect(() => {\n    if (!target) return;\n\n    const getDistances = (event) => {\n      const { startPos } = stateRef.current;\n      return [event.screenX - startPos.x, event.screenY - startPos.y];\n    };\n\n    let relinquishCursorLock = noop;\n\n    const dragHandler = (event) => {\n      if (!stateRef.current.dragHappened && optsRef.current.lockCursorTo) {\n        relinquishCursorLock = createCursorLock(optsRef.current.lockCursorTo);\n      }\n      if (!stateRef.current.dragHappened) stateRef.current.dragHappened = true;\n      modeRef.current = 'dragging';\n\n      const deltas = getDistances(event);\n      optsRef.current.onDrag(deltas[0], deltas[1], event);\n    };\n\n    const dragEndHandler = () => {\n      removeDragListeners();\n      modeRef.current = 'notDragging';\n\n      optsRef.current.onDragEnd &&\n        optsRef.current.onDragEnd(stateRef.current.dragHappened);\n      relinquishCursorLock();\n      relinquishCursorLock = noop;\n    };\n\n    const addDragListeners = () => {\n      document.addEventListener('mousemove', dragHandler);\n      document.addEventListener('mouseup', dragEndHandler);\n    };\n\n    const removeDragListeners = () => {\n      document.removeEventListener('mousemove', dragHandler);\n      document.removeEventListener('mouseup', dragEndHandler);\n    };\n\n    const preventUnwantedClick = (event) => {\n      if (optsRef.current.disabled) return;\n      if (stateRef.current.dragHappened) {\n        if (\n          !optsRef.current.dontBlockMouseDown &&\n          modeRef.current !== 'notDragging'\n        ) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n        stateRef.current.dragHappened = false;\n      }\n    };\n\n    const dragStartHandler = (event) => {\n      const opts = optsRef.current;\n      if (opts.disabled === true) return;\n\n      if (event.button !== 0) return;\n      const resultOfStart = opts.onDragStart && opts.onDragStart(event);\n\n      if (resultOfStart === false) return;\n\n      if (!opts.dontBlockMouseDown) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n\n      modeRef.current = 'dragStartCalled';\n\n      const { screenX, screenY } = event;\n      stateRef.current.startPos = { x: screenX, y: screenY };\n      stateRef.current.dragHappened = false;\n\n      addDragListeners();\n    };\n\n    const onMouseDown = (e) => {\n      dragStartHandler(e);\n    };\n\n    target.addEventListener('mousedown', onMouseDown);\n    target.addEventListener('click', preventUnwantedClick);\n\n    return () => {\n      removeDragListeners();\n      target.removeEventListener('mousedown', onMouseDown);\n      target.removeEventListener('click', preventUnwantedClick);\n      relinquishCursorLock();\n\n      if (modeRef.current !== 'notDragging') {\n        optsRef.current.onDragEnd &&\n          optsRef.current.onDragEnd(modeRef.current === 'dragging');\n      }\n      modeRef.current = 'notDragging';\n    };\n  }, [target]);\n}\n","import { types } from '@theatre/core';\n\nexport const FONT = {\n  position: types.compound({\n    x: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n    y: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  size: types.compound({\n    width: types.number(200, {\n      nudgeMultiplier: 1,\n    }),\n  }),\n  bgColor: types.rgba({ r: 0, g: 0, b: 0, a: 1 }),\n  font: types.compound({\n    size: types.number(16, { nudgeMultiplier: 1 }),\n    color: types.rgba({ r: 255, g: 255, b: 255, a: 1 }),\n    weight: types.number(200, { range: [100, 900], nudgeMultiplier: 100 }),\n    spacing: types.number(0.6, { range: [0, 500], nudgeMultiplier: 0.1 }),\n  }),\n  border: types.compound({\n    size: types.number(0),\n    color: types.rgba({ r: 0, g: 0, b: 0, a: 1 }),\n    radius: types.number(4, {\n      range: [0, 100],\n      nudgeMultiplier: 1,\n    }),\n  }),\n  content: types.string('請輸入文字'),\n  opacity: types.number(1, {\n    range: [0, 1],\n    nudgeMultiplier: 0.05,\n  }),\n  padding: types.number(32, {\n    range: [0, 1000],\n    nudgeMultiplier: 1,\n  }),\n  visible: types.boolean(true),\n  zIndex: types.stringLiteral('10', {\n    bottom: '-10',\n    0: '0',\n    10: '10',\n    100: '100',\n    1000: '1000',\n    10000: '10000',\n  }),\n  lineHeight: types.number(27, { range: [0, 1000], nudgeMultiplier: 1 }),\n  textAlign: types.stringLiteral('justify', {\n    center: 'center',\n    left: 'left',\n    right: 'right',\n    justify: 'justify',\n  }),\n  scale: types.number(1, { nudgeMultiplier: 0.1 }),\n};\n","import { types } from '@theatre/core';\n\nexport const IMAGE = {\n  position: types.compound({\n    x: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n    y: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  size: types.compound({\n    width: types.number(300, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  border: types.compound({\n    size: types.number(0),\n    color: types.rgba({ r: 0, g: 0, b: 0, a: 1 }),\n    radius: types.number(0, {\n      range: [0, 100],\n      nudgeMultiplier: 1,\n    }),\n  }),\n  url: types.string('/default-image.png'),\n  opacity: types.number(1, {\n    range: [0, 1],\n    nudgeMultiplier: 0.05,\n  }),\n  visible: types.boolean(true),\n  scale: types.number(1, { nudgeMultiplier: 0.1 }),\n  zIndex: types.stringLiteral('10', {\n    bottom: '-10',\n    0: '0',\n    10: '10',\n    100: '100',\n    1000: '1000',\n    10000: '10000',\n  }),\n};\n","import { types } from '@theatre/core';\n\nexport const BACKGROUND = {\n  position: types.compound({\n    x: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n    y: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  size: types.compound({\n    width: types.number(100, {\n      nudgeMultiplier: 0.5,\n    }),\n    height: types.number(100, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  scale: types.number(1, { nudgeMultiplier: 0.1 }),\n  border: types.compound({\n    size: types.number(0),\n    color: types.rgba({ r: 0, g: 0, b: 0, a: 1 }),\n    radius: types.number(0, {\n      range: [0, 100],\n      nudgeMultiplier: 1,\n    }),\n  }),\n  url: types.string('/default-image.png'),\n  opacity: types.number(1, {\n    range: [0, 1],\n    nudgeMultiplier: 0.05,\n  }),\n  visible: types.boolean(true),\n  zIndex: types.stringLiteral('bottom', {\n    bottom: '-10',\n    0: '0',\n    10: '10',\n    100: '100',\n    1000: '1000',\n    10000: '10000',\n  }),\n};\n","import { types } from '@theatre/core';\n\nexport const VIDEO = {\n  position: types.compound({\n    x: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n    y: types.number(50, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  size: types.compound({\n    width: types.number(300, {\n      nudgeMultiplier: 0.5,\n    }),\n    height: types.number(200, {\n      nudgeMultiplier: 0.5,\n    }),\n  }),\n  visible: types.boolean(true),\n  isPlaying: types.boolean(true),\n  isLoop: types.boolean(false),\n  scale: types.number(1, { nudgeMultiplier: 0.1 }),\n  zIndex: types.stringLiteral('10', {\n    bottom: '-10',\n    0: '0',\n    10: '10',\n    100: '100',\n    1000: '1000',\n    10000: '10000',\n  }),\n};\n","import { FONT } from './font';\nimport { IMAGE } from './image';\nimport { BACKGROUND } from './background';\nimport { VIDEO } from './video';\n\nexport const initialConfig = {\n  FONT,\n  IMAGE,\n  BACKGROUND,\n  VIDEO,\n};\n","import studio from '@theatre/studio';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport useDrag from '../../hooks/use-drag';\nimport { initialConfig } from '../../constants';\n\nconst FontWrapper = styled.div`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  word-wrap: break-word;\n  transform-origin: center;\n  box-sizing: border-box;\n`;\n\nexport default function FontElement({\n  id,\n  sheet,\n  stageSize,\n  draggable = true,\n}) {\n  const object = sheet.object(id, {\n    ...initialConfig.FONT,\n  });\n\n  // Drag setting ----------------------\n  const [divRef, setDivRef] = useState(null);\n\n  const dragOpts = useMemo(() => {\n    let scrub;\n    let initial;\n    let firstOnDragCalled = false;\n    return {\n      onDragStart() {\n        scrub = studio.scrub();\n        initial = object.value;\n        firstOnDragCalled = false;\n      },\n\n      onDrag(x, y) {\n        const percentX = (x / stageSize.width) * 100;\n        const percentY = (y / stageSize.height) * 100;\n\n        if (!firstOnDragCalled) {\n          studio.setSelection([object]);\n          firstOnDragCalled = true;\n        }\n        scrub.capture(({ set }) => {\n          set(object.props, {\n            ...initial,\n            position: {\n              x: percentX + initial.position.x,\n              y: percentY + initial.position.y,\n            },\n          });\n        });\n      },\n      onDragEnd(dragHappened) {\n        if (dragHappened) {\n          scrub.commit();\n        } else {\n          scrub.discard();\n        }\n      },\n      lockCursorTo: 'move',\n    };\n  }, []);\n\n  draggable && useDrag(divRef, dragOpts);\n\n  // Style setting ----------------------\n  const [style, setStyle] = useState({});\n  const [content, setContent] = useState('');\n\n  useEffect(() => {\n    object.onValuesChange((newValue) => {\n      setContent(newValue.content);\n      setStyle({\n        left: `${newValue.position.x}%`,\n        top: `${newValue.position.y}%`,\n        background: `${newValue.bgColor}`,\n        color: `${newValue.font.color}`,\n        opacity: ` ${newValue.opacity}`,\n        padding: `${newValue.padding}px`,\n        display: `${newValue.visible ? 'block' : 'none'}`,\n        width: `${newValue.size.width}px`,\n        fontSize: `${newValue.font.size}px`,\n        borderRadius: `${newValue.border.radius}px`,\n        border: `${newValue.border.size}px solid ${newValue.border.color}`,\n        fontWeight: `${newValue.font.weight}`,\n        letterSpacing: `${newValue.font.spacing}px`,\n        lineHeight: `${newValue.lineHeight}px`,\n        textAlign: `${newValue.textAlign}`,\n        zIndex: `${newValue.zIndex}`,\n        transform: `scale(${newValue.scale}) translate(-50%, -50%)`,\n      });\n    });\n  }, [object]);\n\n  return (\n    <FontWrapper\n      onClick={() => {\n        studio.setSelection([object]);\n      }}\n      ref={setDivRef}\n      style={style}\n      dangerouslySetInnerHTML={{ __html: content }}\n    />\n  );\n}\n","import studio from '@theatre/studio';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport useDrag from '../../hooks/use-drag';\nimport { initialConfig } from '../../constants';\n\nconst ImageWrapper = styled.div`\n  position: absolute;\n  display: block;\n  overflow: hidden;\n  height: auto;\n  box-sizing: border-box;\n  outline: 1px solid red;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    display: block;\n  }\n`;\n\nexport default function ImageElement({\n  id,\n  sheet,\n  stageSize,\n  draggable = true,\n  onLoad,\n  onError,\n}) {\n  const object = sheet.object(id, {\n    ...initialConfig.IMAGE,\n  });\n\n  // Drag setting ----------------------\n  const [divRef, setDivRef] = useState(null);\n\n  const dragOpts = useMemo(() => {\n    let scrub;\n    let initial;\n    let firstOnDragCalled = false;\n    return {\n      onDragStart() {\n        scrub = studio.scrub();\n        initial = object.value;\n        firstOnDragCalled = false;\n      },\n\n      onDrag(x, y) {\n        const percentX = (x / stageSize.width) * 100;\n        const percentY = (y / stageSize.height) * 100;\n\n        if (!firstOnDragCalled) {\n          studio.setSelection([object]);\n          firstOnDragCalled = true;\n        }\n        scrub.capture(({ set }) => {\n          set(object.props, {\n            ...initial,\n            position: {\n              x: percentX + initial.position.x,\n              y: percentY + initial.position.y,\n            },\n          });\n        });\n      },\n      onDragEnd(dragHappened) {\n        if (dragHappened) {\n          scrub.commit();\n        } else {\n          scrub.discard();\n        }\n      },\n      lockCursorTo: 'move',\n    };\n  }, []);\n\n  draggable && useDrag(divRef, dragOpts);\n\n  // Style setting ----------------------\n  const [style, setStyle] = useState({});\n  const [imageUrl, setImageUrl] = useState('/default-image.png');\n\n  useEffect(() => {\n    object.onValuesChange((newValue) => {\n      setImageUrl(newValue.url);\n      setStyle({\n        left: `${newValue.position.x}%`,\n        top: `${newValue.position.y}%`,\n        width: `${newValue.size.width}px`,\n        borderRadius: `${newValue.border.radius}%`,\n        border: `${newValue.border.size}px solid ${newValue.border.color}`,\n        background: `${newValue.bgColor}`,\n        opacity: `${newValue.opacity}`,\n        display: `${newValue.visible ? 'block' : 'none'}`,\n        transform: `scale(${newValue.scale}) translate(-50%, -50%)`,\n        zIndex: `${newValue.zIndex}`,\n      });\n    });\n  }, [object]);\n\n  return (\n    <ImageWrapper\n      onClick={() => {\n        studio.setSelection([object]);\n      }}\n      ref={setDivRef}\n      style={style}\n    >\n      <img\n        src={imageUrl}\n        alt={id}\n        onLoad={onLoad}\n        onError={(e) => {\n          e.target.src = '/error-warning.png';\n          onError();\n        }}\n      />\n    </ImageWrapper>\n  );\n}\n","import studio from '@theatre/studio';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport useDrag from '../../hooks/use-drag';\nimport { initialConfig } from '../../constants';\n\nconst BgWrapper = styled.div`\n  position: absolute;\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  outline: 3px solid blue;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    /* object-fit: contain; */\n    display: block;\n    outline: 3px solid red;\n    /* object-position: top center; */\n  }\n`;\n\nexport default function BackgroundElement({\n  id,\n  sheet,\n  stageSize,\n  draggable = true,\n  onLoad,\n  onError,\n}) {\n  const object = sheet.object(id, {\n    ...initialConfig.BACKGROUND,\n  });\n\n  // Drag setting ----------------------\n  const [divRef, setDivRef] = useState(null);\n\n  const dragOpts = useMemo(() => {\n    let scrub;\n    let initial;\n    let firstOnDragCalled = false;\n    return {\n      onDragStart() {\n        scrub = studio.scrub();\n        initial = object.value;\n        firstOnDragCalled = false;\n      },\n\n      onDrag(x, y) {\n        const percentX = (x / stageSize.width) * 100;\n        const percentY = (y / stageSize.height) * 100;\n\n        if (!firstOnDragCalled) {\n          studio.setSelection([object]);\n          firstOnDragCalled = true;\n        }\n        scrub.capture(({ set }) => {\n          set(object.props, {\n            ...initial,\n            position: {\n              x: percentX + initial.position.x,\n              y: percentY + initial.position.y,\n            },\n          });\n        });\n      },\n      onDragEnd(dragHappened) {\n        if (dragHappened) {\n          scrub.commit();\n        } else {\n          scrub.discard();\n        }\n      },\n      lockCursorTo: 'move',\n    };\n  }, []);\n\n  draggable && useDrag(divRef, dragOpts);\n\n  // Style setting ----------------------\n\n  const [style, setStyle] = useState({});\n  const [imageUrl, setImageUrl] = useState('/default-image.png');\n\n  useEffect(() => {\n    object.onValuesChange((newValue) => {\n      setImageUrl(newValue.url);\n      setStyle({\n        left: `${newValue.position.x}%`,\n        top: `${newValue.position.y}%`,\n        width: `${newValue.size.width}%`,\n        height: `${newValue.size.height}%`,\n        borderRadius: `${newValue.border.radius}%`,\n        border: `${newValue.border.size}px solid ${newValue.border.color}`,\n        background: `${newValue.bgColor}`,\n        opacity: `${newValue.opacity}`,\n        display: `${newValue.visible ? 'block' : 'none'}`,\n        transform: `scale(${newValue.scale}) translate(-50%, -50%)`,\n        zIndex: `${newValue.zIndex}`,\n      });\n    });\n  }, [object]);\n\n  return (\n    <BgWrapper\n      onClick={() => {\n        studio.setSelection([object]);\n      }}\n      ref={setDivRef}\n      style={style}\n    >\n      <img\n        src={imageUrl}\n        alt={id}\n        onLoad={onLoad}\n        onError={(e) => {\n          e.target.src = '/error-warning.png';\n          onError();\n        }}\n      />\n    </BgWrapper>\n  );\n}\n","import studio from '@theatre/studio';\nimport React, { useMemo, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport useDrag from '../../hooks/use-drag';\nimport { initialConfig } from '../../constants';\n\nconst Video = styled.video`\n  position: absolute;\n  display: block;\n  height: auto;\n  box-sizing: border-box;\n\n  /* hide controls on iOS */\n  &::-webkit-media-controls-panel,\n  &::-webkit-media-controls-play-button,\n  &::-webkit-media-controls-start-playback-button {\n    display: none !important;\n    -webkit-appearance: none !important;\n  }\n`;\n\nexport default function VideoElement({\n  id,\n  sheet,\n  source,\n  stageSize,\n  draggable = true,\n  onError,\n}) {\n  const object = sheet.object(id, {\n    ...initialConfig.VIDEO,\n  });\n\n  // Drag setting ----------------------\n  const [divRef, setDivRef] = useState(null);\n\n  const dragOpts = useMemo(() => {\n    let scrub;\n    let initial;\n    let firstOnDragCalled = false;\n    return {\n      onDragStart() {\n        scrub = studio.scrub();\n        initial = object.value;\n        firstOnDragCalled = false;\n      },\n\n      onDrag(x, y) {\n        const percentX = (x / stageSize.width) * 100;\n        const percentY = (y / stageSize.height) * 100;\n\n        if (!firstOnDragCalled) {\n          studio.setSelection([object]);\n          firstOnDragCalled = true;\n        }\n        scrub.capture(({ set }) => {\n          set(object.props, {\n            ...initial,\n            position: {\n              x: percentX + initial.position.x,\n              y: percentY + initial.position.y,\n            },\n          });\n        });\n      },\n      onDragEnd(dragHappened) {\n        if (dragHappened) {\n          scrub.commit();\n        } else {\n          scrub.discard();\n        }\n      },\n      lockCursorTo: 'move',\n    };\n  }, []);\n\n  draggable && useDrag(divRef, dragOpts);\n\n  // Video play/pause ----------------------\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isLoop, setIsLoop] = useState(false);\n\n  useEffect(() => {\n    if (divRef && isPlaying) {\n      divRef?.play();\n    } else {\n      divRef?.pause();\n    }\n  }, [isPlaying]);\n\n  // Style setting ----------------------\n  const [style, setStyle] = useState({});\n\n  useEffect(() => {\n    object.onValuesChange((newValue) => {\n      setIsPlaying(newValue.isPlaying);\n      setIsLoop(newValue.isLoop);\n      setStyle({\n        left: `${newValue.position.x}%`,\n        top: `${newValue.position.y}%`,\n        display: `${newValue.visible ? 'block' : 'none'}`,\n        width: `${newValue.size.width}px`,\n        height: `${newValue.size.height}px`,\n        zIndex: `${newValue.zIndex}`,\n        transform: `scale(${newValue.scale}) translate(-50%, -50%)`,\n      });\n    });\n  }, [object]);\n\n  return (\n    <Video\n      muted\n      autoPlay={isPlaying}\n      ref={setDivRef}\n      style={style}\n      preload='auto'\n      loop={isLoop}\n      onClick={() => {\n        studio.setSelection([object]);\n      }}\n      onError={onError}\n    >\n      <source src={source} />\n    </Video>\n  );\n}\n","import FontElement from './elements/font';\nimport ImageElement from './elements/image';\nimport BackgroundElement from './elements/background';\nimport VideoElement from './elements/video';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  /* padding-top: 56.25%; 16:9 比例，即 9 / 16 * 100%/ */\n  /* padding-top: 75%; // 4:3 */\n  position: relative;\n  overflow: hidden;\n  margin: auto;\n`;\n\nexport default function Stage({\n  objData,\n  sheet,\n  stageSize,\n  draggable,\n  setLoadedMedias = () => {},\n  setHasMediaError = () => {},\n}) {\n  const handleOnLoad = () => {\n    setLoadedMedias((prev) => prev + 1);\n  };\n\n  const handleOnError = () => {\n    setHasMediaError(true);\n  };\n\n  const fontElements = objData\n    .filter((data) => data.type === 'FONT')\n    .map((data) => {\n      return (\n        <FontElement\n          key={'font' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageSize={stageSize}\n          draggable={draggable}\n        />\n      );\n    });\n\n  const imageElements = objData\n    .filter((data) => data.type === 'IMAGE')\n    .map((data) => {\n      return (\n        <ImageElement\n          key={'image' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageSize={stageSize}\n          draggable={draggable}\n          onLoad={handleOnLoad}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  const bgElements = objData\n    .filter((data) => data.type === 'BACKGROUND')\n    .map((data) => {\n      return (\n        <BackgroundElement\n          key={'background' + data.id}\n          id={data.id}\n          sheet={sheet}\n          stageSize={stageSize}\n          draggable={draggable}\n          onLoad={handleOnLoad}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  const videoElements = objData\n    .filter((data) => data.type === 'VIDEO')\n    .map((data) => {\n      return (\n        <VideoElement\n          key={'video' + data.id}\n          id={data.id}\n          source={data.src}\n          sheet={sheet}\n          stageSize={stageSize}\n          draggable={draggable}\n          onError={handleOnError}\n        />\n      );\n    });\n\n  return (\n    <Wrapper id='theatre-stage'>\n      {fontElements}\n      {imageElements}\n      {bgElements}\n      {videoElements}\n    </Wrapper>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  padding: 5px;\n  background: rgba(255, 255, 255, 0.95);\n  max-width: 120px;\n  border-radius: 10px;\n  margin: 10px;\n  outline: 2px solid #e9e9e9;\n\n  button {\n    padding: 5px;\n    background: white;\n    margin: 5px;\n    cursor: pointer;\n    background: #e9e9e9;\n    border: none;\n    border-radius: 5px;\n  }\n`;\n\nconst buttons = [\n  {\n    label: 'BG',\n    className: 'add-background',\n    onClick: ({ addBgElement }) => {\n      addBgElement();\n    },\n  },\n  {\n    label: 'Font',\n    className: 'add-font',\n    onClick: ({ addFontElement }) => {\n      addFontElement();\n    },\n  },\n  {\n    label: 'Image',\n    className: 'add-image',\n    onClick: ({ addImageElement }) => {\n      addImageElement();\n    },\n  },\n  {\n    label: 'Video',\n    className: 'add-video',\n    onClick: ({ setShowVideoBox }) => {\n      setShowVideoBox(true);\n    },\n  },\n  {\n    label: '刪除元件',\n    className: 'delete-element',\n    onClick: ({ setShowDeleteBox }) => {\n      setShowDeleteBox(true);\n    },\n  },\n];\n\nexport default function ElementButtons({\n  setShowDeleteBox,\n  objData,\n  setObjData,\n  setShowVideoBox,\n}) {\n  const addFontElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'FONT')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `font-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [...objData, { id: nextFontId, type: 'FONT' }];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  const addImageElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'IMAGE')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `img-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [...objData, { id: nextFontId, type: 'IMAGE' }];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  const addBgElement = () => {\n    const lastFontId = objData\n      .filter((element) => element.type === 'BACKGROUND')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextFontId = `bg-${String(lastFontId + 1).padStart(3, '0')}`;\n    const updatedElementData = [\n      ...objData,\n      { id: nextFontId, type: 'BACKGROUND' },\n    ];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  // const addVideoElement = () => {\n  //   const lastVideoId = objData\n  //     .filter((element) => element.type === 'VIDEO')\n  //     .reduce((maxId, element) => {\n  //       const idNumber = parseInt(element.id.split('-')[1]);\n  //       return idNumber > maxId ? idNumber : maxId;\n  //     }, 0);\n\n  //   const nextVideoId = `video-${String(lastVideoId + 1).padStart(3, '0')}`;\n  //   const updatedElementData = [...objData, { id: nextVideoId, type: 'VIDEO' }];\n\n  //   localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n  //   setObjData(updatedElementData);\n  // };\n\n  return (\n    <Wrapper>\n      {buttons.map((button, index) => (\n        <button\n          key={index}\n          className={button.className}\n          onClick={() =>\n            button.onClick({\n              setShowDeleteBox,\n              addFontElement,\n              addImageElement,\n              addBgElement,\n              setShowVideoBox,\n            })\n          }\n        >\n          {button.label}\n        </button>\n      ))}\n    </Wrapper>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst Wrapper = styled.div`\n  padding: 5px;\n  background: rgba(255, 255, 255, 0.95);\n  max-width: 120px;\n  border-radius: 10px;\n  margin: 10px 0 10px 10px;\n  outline: 2px solid #e9e9e9;\n\n  button {\n    padding: 5px;\n    margin: 5px;\n    cursor: pointer;\n    background: #e9e9e9;\n    border: none;\n    border-radius: 5px;\n  }\n`;\n\nconst buttons = [\n  {\n    label: 'clear JSON',\n    onClick: () => {\n      const confirmation = confirm('將清空 project 所有資料');\n\n      if (confirmation) {\n        localStorage.removeItem('theatre-data');\n        localStorage.removeItem('theatre-0.4.persistent');\n        window.location.reload();\n      } else {\n        return;\n      }\n    },\n  },\n\n  {\n    label: 'show JSON',\n    onClick: ({ setShowJSONLightBox, setAnimateJSON }) => {\n      const animate = localStorage.getItem('theatre-0.4.persistent');\n\n      const animateState =\n        JSON.parse(animate)?.historic?.innerState?.coreByProject?.Project ?? {};\n\n      setAnimateJSON(animateState);\n      setShowJSONLightBox(true);\n    },\n  },\n\n  {\n    label: 'Play',\n    onClick: ({ sheet }) => {\n      sheet.sequence.play();\n    },\n  },\n  {\n    label: 'Pause',\n    onClick: ({ sheet }) => {\n      sheet.sequence.pause();\n    },\n  },\n];\n\nexport default function SettingButtons({\n  setShowJSONLightBox,\n  setAnimateJSON,\n  sheet,\n}) {\n  return (\n    <Wrapper>\n      {buttons.map((button, index) => (\n        <button\n          key={index}\n          onClick={() =>\n            button.onClick({\n              setShowJSONLightBox,\n              setAnimateJSON,\n              sheet,\n            })\n          }\n        >\n          {button.label}\n        </button>\n      ))}\n\n      <Link to='/demo-scroll' target='_blank'>\n        <button>Scroll</button>\n      </Link>\n\n      <Link to='/demo-video' target='_blank'>\n        <button>Video</button>\n      </Link>\n    </Wrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\n\nconst Form = styled.div`\n  background: white;\n  border: 10px;\n  padding: 10px 30px 30px;\n  outline: 3px solid black;\n  display: flex;\n\n  textarea {\n    width: 100%;\n    height: 100px;\n    margin-bottom: 10px;\n  }\n\n  button {\n    padding: 10px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nconst Block = styled.div`\n  margin: 0 30px;\n  width: 400px;\n`;\n\nexport default function JSONLightBox({\n  setShowJSONLightBox,\n  animateJSON,\n  objData,\n  setObjData,\n}) {\n  const [inputObj, setInputObj] = useState('');\n  const [inputAnimate, setInputAnimate] = useState('');\n\n  return (\n    <Wrapper>\n      <Form>\n        <Block>\n          <h2> JSON 資料 (Read only) </h2>\n          <p>元件 JSON</p>\n          <textarea\n            placeholder='元件JSON'\n            value={JSON.stringify(objData)}\n            readOnly={true}\n          />\n\n          <p>動畫 JSON</p>\n\n          <textarea\n            placeholder='動畫JSON'\n            value={JSON.stringify(animateJSON)}\n            readOnly={true}\n          />\n        </Block>\n\n        <Block>\n          <h2> Edit JSON </h2>\n          <p>元件 JSON</p>\n          <textarea\n            placeholder='貼上要讀取的元件JSON'\n            value={inputObj}\n            onChange={(e) => setInputObj(e.target.value)}\n          />\n\n          <p>動畫 JSON</p>\n\n          <textarea\n            placeholder='貼上要讀取的動畫JSON'\n            value={inputAnimate}\n            onChange={(e) => setInputAnimate(e.target.value)}\n          />\n\n          <button\n            onClick={() => {\n              setShowJSONLightBox(false);\n            }}\n          >\n            Close\n          </button>\n\n          <button\n            onClick={() => {\n              //更新 object storage 資料（自動記憶）\n              localStorage.setItem('theatre-data', inputObj);\n              //把 render 資料換成 inputObj，讓畫面直接更新\n              setObjData(JSON.parse(inputObj));\n\n              //更新 state 資料（自動記憶）\n              const animate = localStorage.getItem('theatre-0.4.persistent');\n              const animateData = JSON.parse(animate);\n\n              const inputAnimateData = JSON.parse(inputAnimate);\n\n              if (inputAnimateData) {\n                animateData.historic.innerState.coreByProject.Project =\n                  inputAnimateData;\n              }\n\n              const updatedAnimate = JSON.stringify(animateData);\n\n              localStorage.setItem('theatre-0.4.persistent', updatedAnimate);\n              window.location.reload(); //一定要重新整理，不然會壞掉\n            }}\n          >\n            儲存修改\n          </button>\n        </Block>\n      </Form>\n    </Wrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\n\nconst Form = styled.div`\n  width: 30%;\n  height: 25%;\n  background: white;\n  border: 10px;\n  padding: 20px;\n  outline: 3px solid black;\n  margin: 150px auto;\n\n  input {\n    width: 70%;\n    margin-bottom: 20px;\n  }\n\n  button {\n    padding: 5px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport default function DeleteLightBox({\n  setShowDeleteBox,\n  setObjData,\n  objData,\n  sheet,\n}) {\n  const [deleteID, setDeleteID] = useState('');\n\n  // TODO: 多項刪除\n  const deleteObject = (id) => {\n    const filteredData = objData.filter((item) => item.id !== id);\n    setObjData(filteredData);\n    localStorage.setItem('theatre-data', JSON.stringify(filteredData));\n  };\n  return (\n    <Wrapper>\n      <Form>\n        <h2>刪除元件 </h2>\n\n        <span>元件 ID： </span>\n        <input\n          placeholder=''\n          value={deleteID}\n          onChange={(e) => setDeleteID(e.target.value)}\n        />\n\n        <button\n          onClick={() => {\n            deleteObject(deleteID);\n            sheet.detachObject(deleteID);\n            window.location.reload();\n          }}\n        >\n          確定\n        </button>\n\n        <button\n          onClick={() => {\n            setShowDeleteBox(false);\n          }}\n        >\n          取消\n        </button>\n      </Form>\n    </Wrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background: black;\n  opacity: 1;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n`;\n\nconst Form = styled.div`\n  width: 30%;\n  height: 25%;\n  background: white;\n  border: 10px;\n  padding: 20px;\n  outline: 3px solid black;\n  margin: 150px auto;\n\n  input {\n    width: 95%;\n    margin-bottom: 20px;\n  }\n\n  button {\n    padding: 5px;\n    background: black;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    margin-top: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport default function AddVideo({ setShowVideoBox, setObjData, objData }) {\n  const [source, setSource] = useState('');\n\n  const addVideoElement = () => {\n    const lastVideoId = objData\n      .filter((element) => element.type === 'VIDEO')\n      .reduce((maxId, element) => {\n        const idNumber = parseInt(element.id.split('-')[1]);\n        return idNumber > maxId ? idNumber : maxId;\n      }, 0);\n\n    const nextVideoId = `video-${String(lastVideoId + 1).padStart(3, '0')}`;\n    const updatedElementData = [\n      ...objData,\n      { id: nextVideoId, type: 'VIDEO', src: source },\n    ];\n\n    localStorage.setItem('theatre-data', JSON.stringify(updatedElementData));\n    setObjData(updatedElementData);\n  };\n\n  return (\n    <Wrapper>\n      <Form>\n        <h2>新增影片元件 </h2>\n\n        <span> 影片來源： </span>\n        <input\n          placeholder=''\n          value={source}\n          onChange={(e) => setSource(e.target.value)}\n        />\n\n        <button\n          onClick={() => {\n            addVideoElement();\n            window.location.reload();\n          }}\n        >\n          確定\n        </button>\n\n        <button\n          onClick={() => {\n            setShowVideoBox(false);\n          }}\n        >\n          取消\n        </button>\n      </Form>\n    </Wrapper>\n  );\n}\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport ElementButtons from './button/element-button';\nimport SettingButtons from './button/setting-button';\nimport JSONLightBox from './lightbox/show-json';\nimport DeleteLightBox from './lightbox/delete-obj';\nimport VideoLightBox from './lightbox/add-video';\n\nconst LightBoxWrapper = styled.div`\n  position: relative;\n  z-index: 999999;\n`;\n\nconst ButtonWrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  z-index: 100;\n`;\n\nexport default function EditPanel({ sheet, setObjData, objData }) {\n  //Lightbox\n  const [showJSONLightBox, setShowJSONLightBox] = useState(false);\n  const [showDeleteBox, setShowDeleteBox] = useState(false);\n  const [showVideoBox, setShowVideoBox] = useState(false);\n\n  //JSON data\n  const [animateJSON, setAnimateJSON] = useState({}); // 存在 storage 的 objData\n\n  return (\n    <>\n      <LightBoxWrapper id='lightbox-wrapper'>\n        {showJSONLightBox && (\n          <JSONLightBox\n            setShowJSONLightBox={setShowJSONLightBox}\n            animateJSON={animateJSON}\n            objData={objData}\n            setObjData={setObjData}\n          />\n        )}\n\n        {showDeleteBox && (\n          <DeleteLightBox\n            objData={objData}\n            setObjData={setObjData}\n            setShowDeleteBox={setShowDeleteBox}\n            sheet={sheet}\n          />\n        )}\n\n        {showVideoBox && (\n          <VideoLightBox\n            objData={objData}\n            setObjData={setObjData}\n            setShowVideoBox={setShowVideoBox}\n          />\n        )}\n      </LightBoxWrapper>\n\n      <ButtonWrapper>\n        <SettingButtons\n          setShowJSONLightBox={setShowJSONLightBox}\n          setAnimateJSON={setAnimateJSON}\n          sheet={sheet}\n        />\n        <ElementButtons\n          setShowDeleteBox={setShowDeleteBox}\n          setObjData={setObjData}\n          objData={objData}\n          setShowVideoBox={setShowVideoBox}\n        />\n      </ButtonWrapper>\n    </>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst gridColor = '#29e2f3';\nconst dashWidth = '2px';\nconst centerLineColor = 'red';\n\nconst Grid = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  z-index: 15000;\n\n  background-image: repeating-linear-gradient(\n      to right,\n      ${gridColor} 0,\n      ${gridColor} 0.5px,\n      transparent 0.5px,\n      transparent 49.5px\n    ),\n    repeating-linear-gradient(\n      to right,\n      ${gridColor} 0,\n      ${gridColor} 0.5px,\n      transparent 0.5px,\n      transparent 99.5px\n    ),\n    repeating-linear-gradient(\n      to bottom,\n      ${gridColor} 0,\n      ${gridColor} 0.5px,\n      transparent 0.5px,\n      transparent 49.5px\n    ),\n    repeating-linear-gradient(\n      to bottom,\n      ${gridColor} 0,\n      ${gridColor} 0.5px,\n      transparent 0.5px,\n      transparent 99.5px\n    );\n  background-size: 100px 100px;\n  background-repeat: repeat;\n  background-position: 100% 100%;\n  pointer-events: none;\n  opacity: 0.5;\n\n  // center-line-horizon\n  &::before {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    height: ${dashWidth};\n    background-image: repeating-linear-gradient(\n      to right,\n      transparent,\n      transparent 5px,\n      ${centerLineColor} 5px,\n      ${centerLineColor} 15px\n    );\n  }\n\n  // center-line-vertical\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 50%;\n    width: ${dashWidth};\n    height: 100%;\n    background-image: repeating-linear-gradient(\n      to bottom,\n      transparent,\n      transparent 5px,\n      ${centerLineColor} 5px,\n      ${centerLineColor} 15px\n    );\n  }\n`;\n\nexport default function GridLine() {\n  return <Grid />;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst RangeBar = styled.div`\n  position: fixed;\n  left: 35px;\n  bottom: ${(props) => (props.type === 'width' ? '200px' : '250px')};\n  width: 220px;\n  height: 20px;\n  z-index: 100;\n\n  input {\n    position: absolute;\n    top: 50%;\n    z-index: 3;\n    transform: translateY(-50%);\n    -webkit-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 4px;\n    opacity: 0;\n    margin: 0;\n  }\n`;\n\nconst Thumb = styled.div`\n  width: 60px;\n  height: 25px;\n  border: 0.6px solid #303030;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%) translateX(-50%);\n  background-color: #f4f4f4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 700;\n  font-size: 14px;\n  color: #303030;\n  z-index: 2;\n  border-radius: 5%;\n  cursor: pointer;\n  user-select: none;\n`;\n\nconst Line = styled.div`\n  height: 4px;\n  width: 100%;\n  background-color: #e1e1e1;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0;\n  position: absolute;\n  z-index: 1;\n\n  .fill {\n    position: absolute;\n    height: 4px;\n    background-color: #303030;\n  }\n`;\n\nexport default function RangeSlider({\n  sliderValue,\n  setSliderValue,\n  type = 'width',\n}) {\n  let screenSize;\n  if (type === 'width') {\n    screenSize = window.innerWidth;\n  } else if (type === 'height') {\n    screenSize = window.innerHeight;\n  }\n\n  function handleChange(event) {\n    const value = parseInt(event.target.value, 10);\n    setSliderValue(value);\n  }\n\n  return (\n    <RangeBar type={type}>\n      <Thumb style={{ left: (sliderValue / screenSize) * 200 + 'px' }}>\n        {sliderValue} px\n      </Thumb>\n      <Line>\n        <div\n          className='fill'\n          style={{ width: (sliderValue / screenSize) * 100 + '%' }}\n        />\n      </Line>\n      <input\n        type='range'\n        value={sliderValue}\n        min='250'\n        max={screenSize}\n        onChange={handleChange}\n      />\n    </RangeBar>\n  );\n}\n","import studio from '@theatre/studio';\nimport { useState, useEffect } from 'react';\nimport Stage from '../components/stage';\nimport EditPanel from '../components/edit-panel';\nimport { getProject } from '@theatre/core';\n\nimport GridLine from '../components/grid-line';\nimport RangeSlider from '../components/range-slider';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst EditArea = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  outline: 2px solid #29e2f3;\n  margin: auto;\n  z-index: 5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst PanelWrapper = styled.div`\n  z-index: 10;\n`;\n\nexport default function Playground() {\n  // Theatre.js initialize\n  studio.initialize();\n  const project = getProject('Project', {});\n  const sheet = project.sheet('Scene', 'default');\n  project.ready.then(() => sheet.sequence.pause());\n\n  // Get objectJSON in local-storage\n  const initialObjJson = localStorage.getItem('theatre-data');\n  const initialObjData = initialObjJson ? JSON.parse(initialObjJson) : [];\n\n  const [objData, setObjData] = useState(initialObjData);\n\n  // Grid & Panel: keyboard shortcut setting\n  const [showGrid, setShowGrid] = useState(true);\n  const [showPanel, setShowPanel] = useState(true);\n\n  studio.ui[showPanel ? 'restore' : 'hide']();\n\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.key === 'Escape') {\n        setShowPanel(!showPanel);\n      }\n      if (event.key === 'Backquote' || event.key === '`') {\n        setShowGrid(!showGrid);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  // ------------------------\n\n  const [widthSliderValue, setWidthSliderValue] = useState(window.innerWidth);\n  const [heightSliderValue, setHeightSliderValue] = useState(\n    window.innerHeight\n  );\n\n  return (\n    <Wrapper>\n      {showPanel && (\n        <PanelWrapper>\n          <EditPanel sheet={sheet} setObjData={setObjData} objData={objData} />\n          <RangeSlider\n            setSliderValue={setWidthSliderValue}\n            sliderValue={widthSliderValue}\n            type='width'\n          />\n          <RangeSlider\n            setSliderValue={setHeightSliderValue}\n            sliderValue={heightSliderValue}\n            type='height'\n          />\n        </PanelWrapper>\n      )}\n\n      <EditArea\n        style={{ maxWidth: widthSliderValue, maxHeight: heightSliderValue }}\n      >\n        <Stage\n          objData={objData}\n          sheet={sheet}\n          stageSize={{ width: widthSliderValue, height: heightSliderValue }}\n        />\n        {showGrid && <GridLine />}\n      </EditArea>\n    </Wrapper>\n  );\n}\n","import React from 'react';\nimport { Transition } from 'react-transition-group';\nimport styled, { keyframes, css } from 'styled-components';\n\nconst transitionDuration = {\n  enter: 200,\n  exit: 200,\n};\n\nconst textAnimation = keyframes`\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: .4;\n  }\n`;\n\nconst Dimmer = styled.div`\n  width: 100%;\n  height: 100%;\n  background: #000;\n  position: absolute;\n  top: 0;\n  left: 0;\n  backdrop-filter: blur(5px);\n`;\n\nconst Container = styled.div`\n  z-index: 100000;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  opacity: ${(props) => {\n    switch (props.$state) {\n      case 'exited':\n      case 'exiting': {\n        return '0';\n      }\n      case 'entering':\n      case 'entered':\n      default: {\n        return '1';\n      }\n    }\n  }};\n  transition: ${(props) => {\n    switch (props.$state) {\n      case 'exiting':\n      case 'exited': {\n        return `opacity ${transitionDuration.exit}ms ease`;\n      }\n      case 'entering':\n      case 'entered':\n      default: {\n        return `opacity ${transitionDuration.enter}ms ease`;\n      }\n    }\n  }};\n`;\n\nconst Text = styled.div`\n  text-align: center;\n  transform: translate(-50%, -50%);\n  top: 50%;\n  left: 50%;\n  position: absolute;\n  font-size: 1.8rem;\n  width: 69%;\n  @media screen and (max-width: 767px) {\n    font-size: 1.5rem;\n  }\n  font-weight: bold;\n  color: #fff;\n  ${(props) =>\n    props.$shining\n      ? css`\n          opacity: 1;\n          will-change: opacity;\n          animation: ${textAnimation} 0.65s ease-in-out;\n          animation-direction: alternate;\n          animation-iteration-count: infinite;\n        `\n      : ''}\n`;\n\n/**\n *  @typedef {Object} Dimmer\n *  @property {boolean} show\n *  @property {string} message\n *  @property {boolean} shining\n */\n/**\n *  @param {Dimmer} props\n *  @returns {React.ReactElement}\n */\nexport default function DimmerWithMessage({\n  show = false,\n  message = '',\n  shining = false,\n}) {\n  return (\n    <Transition unmountOnExit in={show} timeout={transitionDuration}>\n      {(state) => (\n        <Container $state={state}>\n          <Dimmer />\n          <Text $shining={shining}>{message}</Text>\n        </Container>\n      )}\n    </Transition>\n  );\n}\n","import studio from '@theatre/studio';\nimport { val, getProject } from '@theatre/core';\nimport { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport Stage from '../components/stage';\nimport Dimmer from '../components/dimmer-with-message';\n\nconst ScrollSizer = styled.div`\n  position: relative;\n  width: 100vw;\n  min-width: 100vw;\n  max-width: 100vw;\n  min-height: 100vh;\n  background: #ffffff;\n`;\n\nconst StickyBox = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: sticky;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst defaultScrollScale = 1500;\n\nexport default function DemoScroll() {\n  studio.initialize();\n  studio.ui.hide();\n  const project = getProject('Project', {});\n  const sheet = project.sheet('Scene', 'default');\n  project.ready.then(() => sheet.sequence.pause());\n\n  // --------------------------\n\n  const objJson = localStorage.getItem('theatre-data'); // get objectJSON in local-storage\n  const objData = objJson ? JSON.parse(objJson) : [];\n\n  // --------------------------\n\n  // TODO: 增加條件，減少 event-listener 偵測時間\n\n  const [scrollPosition, setScrollPosition] = useState(0);\n\n  const sequenceLength = val(sheet.sequence.pointer.length);\n  const stageRef = useRef(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const stage = stageRef.current;\n      const sizer = stage.closest('.theatre-scroll-sizer');\n\n      const stageRect = stage.getBoundingClientRect();\n      const sizerRect = sizer.getBoundingClientRect();\n\n      const distance = stageRect.top - sizerRect.top;\n      setScrollPosition(distance);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  useEffect(() => {\n    const newPosition =\n      (scrollPosition / (sequenceLength * defaultScrollScale)) * sequenceLength;\n    sheet.sequence.position = newPosition;\n  }, [scrollPosition]);\n\n  // ----------------------------\n\n  const [hasMediaError, setHasMediaError] = useState(false); // image & background && video onError\n  const [loadedMedias, setLoadedMedias] = useState(0); // image & background && video onload\n  const [isLoading, setIsLoading] = useState(true);\n\n  const totalMedias = objData.filter(\n    (data) => data.type === 'IMAGE' || data.type === 'BACKGROUND'\n  ).length;\n\n  useEffect(() => {\n    if (loadedMedias === totalMedias) {\n      setIsLoading(false);\n    }\n  }, [loadedMedias, totalMedias]);\n\n  const sizerHeight =\n    hasMediaError || isLoading\n      ? '100vh'\n      : `${sequenceLength * defaultScrollScale}px`;\n\n  return (\n    <ScrollSizer\n      className='theatre-scroll-sizer'\n      style={{ height: sizerHeight }}\n    >\n      <StickyBox ref={stageRef}>\n        <Dimmer\n          show={isLoading && !hasMediaError}\n          message={'載入中'}\n          shining={true}\n        />\n        <Dimmer\n          show={hasMediaError}\n          message={'載入失敗。請檢查您的網路連線，並重新整理瀏覽器。'}\n        />\n        <Stage\n          objData={objData}\n          sheet={sheet}\n          stageWidth={window.innerWidth}\n          draggable={false}\n          setHasMediaError={setHasMediaError}\n          setLoadedMedias={setLoadedMedias}\n        />\n      </StickyBox>\n    </ScrollSizer>\n  );\n}\n","import studio from '@theatre/studio';\nimport { getProject } from '@theatre/core';\nimport Stage from '../components/stage';\nimport Dimmer from '../components/dimmer-with-message';\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst VideoWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n`;\n\nexport default function DemoVideo() {\n  studio.initialize();\n  studio.ui.hide();\n  const project = getProject('Project', {});\n  const sheet = project.sheet('Scene', 'default');\n\n  project.ready.then(() =>\n    sheet.sequence.play({\n      iterationCount: Infinity,\n    })\n  );\n\n  const objJson = localStorage.getItem('theatre-data'); // get objectJSON in local-storage\n  const objData = objJson ? JSON.parse(objJson) : [];\n\n  // --------------------------\n\n  const [hasMediaError, setHasMediaError] = useState(false); // image & background && video onError\n  const [loadedMedias, setLoadedMedias] = useState(0); // image & background && video onload\n  const [isLoading, setIsLoading] = useState(true);\n\n  const totalMedias = objData.filter(\n    (data) => data.type === 'IMAGE' || data.type === 'BACKGROUND'\n  ).length;\n\n  useEffect(() => {\n    if (loadedMedias === totalMedias) {\n      setIsLoading(false);\n    }\n  }, [loadedMedias, totalMedias]);\n\n  return (\n    <VideoWrapper>\n      <Dimmer\n        show={isLoading && !hasMediaError}\n        message={'載入中'}\n        shining={true}\n      />\n      <Dimmer\n        show={hasMediaError}\n        message={'載入失敗。請檢查您的網路連線，並重新整理瀏覽器。'}\n      />\n      <Stage\n        objData={objData}\n        sheet={sheet}\n        stageWidth={window.innerWidth}\n        draggable={false}\n        setHasMediaError={setHasMediaError}\n        setLoadedMedias={setLoadedMedias}\n      />\n    </VideoWrapper>\n  );\n}\n","import { Routes, Route, BrowserRouter } from 'react-router-dom';\nimport Playground from './page/playground';\nimport DemoScroll from './page/demo-scroll';\nimport DemoVideo from './page/demo-video';\n\nexport default function App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path='/' element={<Playground />} />\n        <Route path='demo-scroll' element={<DemoScroll />} />\n        <Route path='demo-video' element={<DemoVideo />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n","import ReactDOM from 'react-dom/client';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport App from './App';\n\n// TODO: data change to Redux\nconst rootElement = document.getElementById('root');\n\nReactDOM.createRoot(rootElement).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}