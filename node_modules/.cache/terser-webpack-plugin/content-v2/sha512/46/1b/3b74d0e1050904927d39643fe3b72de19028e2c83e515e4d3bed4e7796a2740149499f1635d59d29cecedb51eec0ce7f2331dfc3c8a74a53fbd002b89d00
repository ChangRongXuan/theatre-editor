{"code":"(this[\"webpackJsonp@examples/dom-cra\"]=this[\"webpackJsonp@examples/dom-cra\"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{\"sheetsById\":{\"Scene\":{\"staticOverrides\":{\"byObject\":{\"font01\":{\"position\":{\"x\":1083,\"y\":625}},\"font\":{\"position\":{\"x\":689,\"y\":577}},\"box\":{\"position\":{\"x\":698.1517857142857,\"y\":316}},\"box-test-test\":{\"position\":{\"x\":982,\"y\":903}},\"box01\":{\"position\":{\"x\":966,\"y\":642}},\"box------\":{\"position\":{\"x\":1006,\"y\":658}},\"testtest\":{\"position\":{\"x\":755,\"y\":522}},\"kjnlkjnjn\":{\"position\":{\"x\":289,\"y\":462}},\"hello\":{\"position\":{\"x\":353,\"y\":34}}}},\"sequence\":{\"subUnitsPerUnit\":30,\"length\":10,\"type\":\"PositionalSequence\",\"tracksByObject\":{\"font01\":{\"trackData\":{\"VKuMEKY0SI\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"font01:[\\\\\"position\\\\\",\\\\\"x\\\\\"]\",\"keyframes\":[{\"id\":\"efnlfpfos7\",\"position\":1.433,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":1083},{\"id\":\"rZ9fqzBnqW\",\"position\":4.633,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":692.75}]},\"O8nTWtZA49\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"font01:[\\\\\"position\\\\\",\\\\\"y\\\\\"]\",\"keyframes\":[]}},\"trackIdByPropPath\":{\"[\\\\\"position\\\\\",\\\\\"x\\\\\"]\":\"VKuMEKY0SI\",\"[\\\\\"position\\\\\",\\\\\"y\\\\\"]\":\"O8nTWtZA49\"}},\"font\":{\"trackData\":{},\"trackIdByPropPath\":{}},\"box\":{\"trackData\":{\"34sToYQfqf\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"box:[\\\\\"position\\\\\",\\\\\"x\\\\\"]\",\"keyframes\":[{\"id\":\"jwfbzISHMu\",\"position\":0.2,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":698.1517857142857},{\"id\":\"iM89sxxq8F\",\"position\":3.333,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":36.151785714285666}]},\"CqsRXushbd\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"box:[\\\\\"position\\\\\",\\\\\"y\\\\\"]\",\"keyframes\":[]}},\"trackIdByPropPath\":{\"[\\\\\"position\\\\\",\\\\\"x\\\\\"]\":\"34sToYQfqf\",\"[\\\\\"position\\\\\",\\\\\"y\\\\\"]\":\"CqsRXushbd\"}},\"testtest\":{\"trackData\":{\"V7WWZcbLMB\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"testtest:[\\\\\"position\\\\\",\\\\\"x\\\\\"]\",\"keyframes\":[]},\"ZRV3wxWQs9\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"testtest:[\\\\\"position\\\\\",\\\\\"y\\\\\"]\",\"keyframes\":[{\"id\":\"mF_OkIAH8y\",\"position\":4.5,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":381},{\"id\":\"XLYur1r-sB\",\"position\":6.367,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":189}]}},\"trackIdByPropPath\":{\"[\\\\\"position\\\\\",\\\\\"x\\\\\"]\":\"V7WWZcbLMB\",\"[\\\\\"position\\\\\",\\\\\"y\\\\\"]\":\"ZRV3wxWQs9\"}},\"kjnlkjnjn\":{\"trackData\":{\"VSqjGdURtl\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"kjnlkjnjn:[\\\\\"position\\\\\",\\\\\"x\\\\\"]\",\"keyframes\":[]},\"yVN04s9XsB\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"kjnlkjnjn:[\\\\\"position\\\\\",\\\\\"y\\\\\"]\",\"keyframes\":[{\"id\":\"MEhW9QA8bA\",\"position\":0,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":462},{\"id\":\"8PhcPqpkk_\",\"position\":3.733,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":462}]}},\"trackIdByPropPath\":{\"[\\\\\"position\\\\\",\\\\\"x\\\\\"]\":\"VSqjGdURtl\",\"[\\\\\"position\\\\\",\\\\\"y\\\\\"]\":\"yVN04s9XsB\"}},\"hello\":{\"trackData\":{\"1Mka_A16O1\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"hello:[\\\\\"position\\\\\",\\\\\"x\\\\\"]\",\"keyframes\":[]},\"0cDnnRS7cM\":{\"type\":\"BasicKeyframedTrack\",\"__debugName\":\"hello:[\\\\\"position\\\\\",\\\\\"y\\\\\"]\",\"keyframes\":[{\"id\":\"BGNZFRA_2J\",\"position\":0.633,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":34},{\"id\":\"FgLOgzfZFe\",\"position\":4.3,\"connectedRight\":true,\"handles\":[0.5,1,0.5,0],\"type\":\"bezier\",\"value\":500}]}},\"trackIdByPropPath\":{\"[\\\\\"position\\\\\",\\\\\"x\\\\\"]\":\"1Mka_A16O1\",\"[\\\\\"position\\\\\",\\\\\"y\\\\\"]\":\"0cDnnRS7cM\"}}}}}},\"definitionVersion\":\"0.4.0\",\"revisionHistory\":[\"F9XaPH56P3Xo0QRg\",\"28NmdErUgeh6Zb_p\",\"t21FVdC3hnwDelFu\",\"xts91eg46_8897k3\",\"QTlMiKYGT-x8QVLP\"]}')},61:function(e,t,n){\"use strict\";n.r(t);var i,o,a,s,r=n(37),c=n.n(r),d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),i(e),o(e),a(e),s(e)}))},p=n(1),l=n.n(p),u=n(10),y=n(7),f=n(9),h=n.n(f),b=n(4),x=n(8),g=n(13),k=n(3);x.a.div(i||(i=Object(y.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: relative;\\n  outline: 5px solid red;\\n  z-index: -1;\\n  overflow: hidden;\\n\"]))),x.a.div(o||(o=Object(y.a)([\"\\n  position: absolute;\\n  width: 300px;\\n  height: 20px;\\n  background: white;\\n  outline: 3px solid black;\\n  z-index: 10000;\\n  padding: 20px;\\n\"])));var m=x.a.div(a||(a=Object(y.a)([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: relative;\\n  outline: 5px solid red;\\n  z-index: -1;\\n  overflow: hidden;\\n\"]))),j=x.a.div(s||(s=Object(y.a)([\"\\n  position: absolute;\\n  width: 300px;\\n  height: 20px;\\n  background: white;\\n  outline: 3px solid black;\\n  z-index: 10000;\\n  padding: 20px;\\n\"])));function v(){h.a.initialize();var e=Object(b.getProject)(\"deepfake demo\",{state:g}).sheet(\"Scene\",\"default\"),t=Object(p.useState)([]),n=Object(u.a)(t,2),i=n[0],o=n[1],a=function(){var e=Object(p.useState)(0),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(p.useEffect)((function(){function e(){var e=document.documentElement,t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;i(t/(n-o))}return window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[]),n}();Object(p.useEffect)((function(){var e=localStorage.getItem(\"theatre-data\");e&&o(JSON.parse(e))}),[]),Object(p.useEffect)((function(){i.filter((function(e){return\"box\"===e.type})).forEach((function(t){var n=e.object(t.id,{position:{x:0,y:0},bgColor:b.types.string(\"#ffffff\")}),i=document.getElementById(t.id);n.onValuesChange((function(e){i.style.left=e.position.x+\"px\",i.style.top=e.position.y+\"px\",i.style.backgroundColor=e.bgColor}))}))}),[]);var s=Object(b.val)(e.sequence.pointer.length);return console.log(\"totalSeconds\",s),console.log(\"scrollOffset * totalSeconds\",a*s),Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(m,{id:\"item-container\",children:i.map((function(e,t){return Object(k.jsx)(j,{id:e.id,style:e.style,children:e.content},t)}))})})}var O=document.getElementById(\"root\");c.a.createRoot(O).render(Object(k.jsx)(l.a.StrictMode,{children:Object(k.jsx)(v,{})})),d()}},[[61,1,2]]]);","name":"static/js/main.a92a3903.chunk.js","map":{"version":3,"names":["this","push","module","exports","JSON","parse","__webpack_exports__","__webpack_require__","r","_templateObject","_templateObject2","scroll_demo_templateObject","scroll_demo_templateObject2","client","client_default","n","src_reportWebVitals","onPerfEntry","Function","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","react","react_default","slicedToArray","taggedTemplateLiteral","dist","dist_default","core_dist","styled_components_browser_esm","state","jsx_runtime","div","Object","scroll_demo_Container","scroll_demo_BasicBox","ScrollDemo","a","initialize","sheet","_useState","_useState2","preData","setPreData","scrollOffset","_useState3","_useState4","setScrollOffset","handleScroll","_document$documentEle","document","documentElement","scrollTop","scrollHeight","clientHeight","window","addEventListener","removeEventListener","useScrollOffset","storedBoxes","localStorage","getItem","filter","item","type","forEach","box","object","id","position","x","y","bgColor","string","element","getElementById","onValuesChange","newValue","style","left","top","backgroundColor","totalSeconds","sequence","pointer","length","console","log","children","map","index","content","rootElement","createRoot","render","StrictMode"],"sources":["static/js/main.a92a3903.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonp@examples/dom-cra\"] = this[\"webpackJsonp@examples/dom-cra\"] || []).push([[0],{\n\n/***/ 13:\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"sheetsById\\\":{\\\"Scene\\\":{\\\"staticOverrides\\\":{\\\"byObject\\\":{\\\"font01\\\":{\\\"position\\\":{\\\"x\\\":1083,\\\"y\\\":625}},\\\"font\\\":{\\\"position\\\":{\\\"x\\\":689,\\\"y\\\":577}},\\\"box\\\":{\\\"position\\\":{\\\"x\\\":698.1517857142857,\\\"y\\\":316}},\\\"box-test-test\\\":{\\\"position\\\":{\\\"x\\\":982,\\\"y\\\":903}},\\\"box01\\\":{\\\"position\\\":{\\\"x\\\":966,\\\"y\\\":642}},\\\"box------\\\":{\\\"position\\\":{\\\"x\\\":1006,\\\"y\\\":658}},\\\"testtest\\\":{\\\"position\\\":{\\\"x\\\":755,\\\"y\\\":522}},\\\"kjnlkjnjn\\\":{\\\"position\\\":{\\\"x\\\":289,\\\"y\\\":462}},\\\"hello\\\":{\\\"position\\\":{\\\"x\\\":353,\\\"y\\\":34}}}},\\\"sequence\\\":{\\\"subUnitsPerUnit\\\":30,\\\"length\\\":10,\\\"type\\\":\\\"PositionalSequence\\\",\\\"tracksByObject\\\":{\\\"font01\\\":{\\\"trackData\\\":{\\\"VKuMEKY0SI\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"font01:[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\",\\\"keyframes\\\":[{\\\"id\\\":\\\"efnlfpfos7\\\",\\\"position\\\":1.433,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":1083},{\\\"id\\\":\\\"rZ9fqzBnqW\\\",\\\"position\\\":4.633,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":692.75}]},\\\"O8nTWtZA49\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"font01:[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\",\\\"keyframes\\\":[]}},\\\"trackIdByPropPath\\\":{\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\":\\\"VKuMEKY0SI\\\",\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\":\\\"O8nTWtZA49\\\"}},\\\"font\\\":{\\\"trackData\\\":{},\\\"trackIdByPropPath\\\":{}},\\\"box\\\":{\\\"trackData\\\":{\\\"34sToYQfqf\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"box:[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\",\\\"keyframes\\\":[{\\\"id\\\":\\\"jwfbzISHMu\\\",\\\"position\\\":0.2,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":698.1517857142857},{\\\"id\\\":\\\"iM89sxxq8F\\\",\\\"position\\\":3.333,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":36.151785714285666}]},\\\"CqsRXushbd\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"box:[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\",\\\"keyframes\\\":[]}},\\\"trackIdByPropPath\\\":{\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\":\\\"34sToYQfqf\\\",\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\":\\\"CqsRXushbd\\\"}},\\\"testtest\\\":{\\\"trackData\\\":{\\\"V7WWZcbLMB\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"testtest:[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\",\\\"keyframes\\\":[]},\\\"ZRV3wxWQs9\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"testtest:[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\",\\\"keyframes\\\":[{\\\"id\\\":\\\"mF_OkIAH8y\\\",\\\"position\\\":4.5,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":381},{\\\"id\\\":\\\"XLYur1r-sB\\\",\\\"position\\\":6.367,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":189}]}},\\\"trackIdByPropPath\\\":{\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\":\\\"V7WWZcbLMB\\\",\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\":\\\"ZRV3wxWQs9\\\"}},\\\"kjnlkjnjn\\\":{\\\"trackData\\\":{\\\"VSqjGdURtl\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"kjnlkjnjn:[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\",\\\"keyframes\\\":[]},\\\"yVN04s9XsB\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"kjnlkjnjn:[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\",\\\"keyframes\\\":[{\\\"id\\\":\\\"MEhW9QA8bA\\\",\\\"position\\\":0,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":462},{\\\"id\\\":\\\"8PhcPqpkk_\\\",\\\"position\\\":3.733,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":462}]}},\\\"trackIdByPropPath\\\":{\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\":\\\"VSqjGdURtl\\\",\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\":\\\"yVN04s9XsB\\\"}},\\\"hello\\\":{\\\"trackData\\\":{\\\"1Mka_A16O1\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"hello:[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\",\\\"keyframes\\\":[]},\\\"0cDnnRS7cM\\\":{\\\"type\\\":\\\"BasicKeyframedTrack\\\",\\\"__debugName\\\":\\\"hello:[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\",\\\"keyframes\\\":[{\\\"id\\\":\\\"BGNZFRA_2J\\\",\\\"position\\\":0.633,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":34},{\\\"id\\\":\\\"FgLOgzfZFe\\\",\\\"position\\\":4.3,\\\"connectedRight\\\":true,\\\"handles\\\":[0.5,1,0.5,0],\\\"type\\\":\\\"bezier\\\",\\\"value\\\":500}]}},\\\"trackIdByPropPath\\\":{\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"x\\\\\\\"]\\\":\\\"1Mka_A16O1\\\",\\\"[\\\\\\\"position\\\\\\\",\\\\\\\"y\\\\\\\"]\\\":\\\"0cDnnRS7cM\\\"}}}}}},\\\"definitionVersion\\\":\\\"0.4.0\\\",\\\"revisionHistory\\\":[\\\"F9XaPH56P3Xo0QRg\\\",\\\"28NmdErUgeh6Zb_p\\\",\\\"t21FVdC3hnwDelFu\\\",\\\"xts91eg46_8897k3\\\",\\\"QTlMiKYGT-x8QVLP\\\"]}\");\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(37);\nvar client_default = /*#__PURE__*/__webpack_require__.n(client);\n\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 62)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@theatre/studio/dist/index.js\nvar dist = __webpack_require__(9);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/@theatre/core/dist/index.js\nvar core_dist = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./src/json/state.json\nvar state = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/page/demo.js\nvar _templateObject,_templateObject2;var Container=styled_components_browser_esm[\"a\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: relative;\\n  outline: 5px solid red;\\n  z-index: -1;\\n  overflow: hidden;\\n\"])));var BasicBox=styled_components_browser_esm[\"a\" /* default */].div(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  width: 300px;\\n  height: 20px;\\n  background: white;\\n  outline: 3px solid black;\\n  z-index: 10000;\\n  padding: 20px;\\n\"])));function Demo(){dist_default.a.initialize();var project=Object(core_dist[\"getProject\"])('deepfake demo',{state:state});var sheet=project.sheet('Scene','default');dist_default.a.ui.hide();project.ready.then(function(){return sheet.sequence.play({iterationCount:1});});var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),preData=_useState2[0],setPreData=_useState2[1];//上一筆舊資料，要與 local-storage 一致\nconsole.log('preData',preData);//從 local-storage 取得舊資料\nObject(react[\"useEffect\"])(function(){var storedBoxes=localStorage.getItem('theatre-data');if(storedBoxes){setPreData(JSON.parse(storedBoxes));}},[]);//render 出既有的元件\nObject(react[\"useEffect\"])(function(){preData.filter(function(item){return item.type==='box';}).forEach(function(item){var box=sheet.object(item.id,{position:{x:0,y:0},bgColor:core_dist[\"types\"].string('#ffffff')});var element=document.getElementById(item.id);box.onValuesChange(function(newValue){element.style.left=newValue.position.x+'px';element.style.top=newValue.position.y+'px';element.style.backgroundColor=newValue.bgColor;});});});// 總時間長度\nObject(core_dist[\"onChange\"])(sheet.sequence.pointer.length,function(len){console.log('Length of the sequence changed to:',len);});// 目前時間位置\n// onChange(sheet.sequence.pointer.position, (position) => {\n//   console.log('Position of the sequence changed to:', position);\n// });\n// 目前狀態是 play 還是 pause\nObject(core_dist[\"onChange\"])(sheet.sequence.pointer.playing,function(playing){console.log(playing?'playing':'paused');});//總時長\n// we can also read the current value of the pointer\nconsole.log('current length is',Object(core_dist[\"val\"])(sheet.sequence.pointer.length));var totalSeconds=Object(core_dist[\"val\"])(sheet.sequence.pointer.length);console.log('Total seconds:',totalSeconds);// console.log('sequence.pointer.length', sheet.sequence.pointer.length);\n// console.log('sequence.pointer.position', sheet.sequence.pointer.position);\n// console.log('sequence.pointer.playing', sheet.sequence.pointer.playing);\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container,{id:\"item-container\",children:preData.map(function(box,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BasicBox,{id:box.id,style:box.style,children:box.content},index);})})});}\n// CONCATENATED MODULE: ./src/page/scroll-demo.js\nvar scroll_demo_templateObject,scroll_demo_templateObject2;var scroll_demo_Container=styled_components_browser_esm[\"a\" /* default */].div(scroll_demo_templateObject||(scroll_demo_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 100%;\\n  height: 100vh;\\n  position: relative;\\n  outline: 5px solid red;\\n  z-index: -1;\\n  overflow: hidden;\\n\"])));var scroll_demo_BasicBox=styled_components_browser_esm[\"a\" /* default */].div(scroll_demo_templateObject2||(scroll_demo_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  width: 300px;\\n  height: 20px;\\n  background: white;\\n  outline: 3px solid black;\\n  z-index: 10000;\\n  padding: 20px;\\n\"])));function ScrollDemo(){dist_default.a.initialize();var project=Object(core_dist[\"getProject\"])('deepfake demo',{state:state});var sheet=project.sheet('Scene','default');// studio.ui.restore();\n// project.ready.then(() =>\n//   sheet.sequence.play({\n//     iterationCount: 1,\n//   })\n// );\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),preData=_useState2[0],setPreData=_useState2[1];//上一筆舊資料，要與 local-storage 一致\nvar scrollOffset=useScrollOffset();// 自訂的 hook，用於獲取滾動位置\n//從 local-storage 取得舊資料\nObject(react[\"useEffect\"])(function(){var storedBoxes=localStorage.getItem('theatre-data');if(storedBoxes){setPreData(JSON.parse(storedBoxes));}},[]);//render 出既有的元件\nObject(react[\"useEffect\"])(function(){preData.filter(function(item){return item.type==='box';}).forEach(function(item){var box=sheet.object(item.id,{position:{x:0,y:0},bgColor:core_dist[\"types\"].string('#ffffff')});var element=document.getElementById(item.id);box.onValuesChange(function(newValue){element.style.left=newValue.position.x+'px';element.style.top=newValue.position.y+'px';element.style.backgroundColor=newValue.bgColor;});});},[]);var totalSeconds=Object(core_dist[\"val\"])(sheet.sequence.pointer.length);console.log('totalSeconds',totalSeconds);console.log('scrollOffset * totalSeconds',scrollOffset*totalSeconds);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scroll_demo_Container,{id:\"item-container\",children:preData.map(function(box,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(scroll_demo_BasicBox,{id:box.id,style:box.style,children:box.content},index);})})});}// 自訂的 hook，用於獲取滾動位置\nfunction useScrollOffset(){var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),scrollOffset=_useState4[0],setScrollOffset=_useState4[1];Object(react[\"useEffect\"])(function(){function handleScroll(){var _document$documentEle=document.documentElement,scrollTop=_document$documentEle.scrollTop,scrollHeight=_document$documentEle.scrollHeight,clientHeight=_document$documentEle.clientHeight;var maxScrollOffset=scrollHeight-clientHeight;var currentScrollOffset=scrollTop/maxScrollOffset;setScrollOffset(currentScrollOffset);}window.addEventListener('scroll',handleScroll);return function(){window.removeEventListener('scroll',handleScroll);};},[]);return scrollOffset;}\n// CONCATENATED MODULE: ./src/index.js\n// import App from './page/playground';\nvar rootElement=document.getElementById('root');client_default.a.createRoot(rootElement).render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ScrollDemo,{})}));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[61,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/mac/Documents/GitHub/deepfake-demo/src/reportWebVitals.js","/Users/mac/Documents/GitHub/deepfake-demo/src/page/demo.js","/Users/mac/Documents/GitHub/deepfake-demo/src/page/scroll-demo.js","/Users/mac/Documents/GitHub/deepfake-demo/src/index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","Container","styled","div","_templateObject","_taggedTemplateLiteral","BasicBox","_templateObject2","Demo","studio","initialize","project","getProject","state","projectState","sheet","ui","hide","ready","sequence","play","iterationCount","_useState","useState","_useState2","_slicedToArray","preData","setPreData","console","log","useEffect","storedBoxes","localStorage","getItem","JSON","parse","filter","item","type","forEach","box","object","id","position","x","y","bgColor","types","string","element","document","getElementById","onValuesChange","newValue","style","left","top","backgroundColor","onChange","pointer","length","len","playing","val","totalSeconds","_jsx","_Fragment","children","map","index","content","ScrollDemo","scrollOffset","useScrollOffset","_useState3","_useState4","setScrollOffset","handleScroll","_document$documentEle","documentElement","scrollTop","scrollHeight","clientHeight","maxScrollOffset","currentScrollOffset","window","addEventListener","removeEventListener","rootElement","ReactDOM","createRoot","render","React","StrictMode"],"mappings":"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","file":"x","sourcesContent":["const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import studio from '@theatre/studio';\nimport { getProject, types } from '@theatre/core';\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport projectState from '../json/state.json';\nimport { onChange, val } from '@theatre/core';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  outline: 5px solid red;\n  z-index: -1;\n  overflow: hidden;\n`;\n\nconst BasicBox = styled.div`\n  position: absolute;\n  width: 300px;\n  height: 20px;\n  background: white;\n  outline: 3px solid black;\n  z-index: 10000;\n  padding: 20px;\n`;\n\nexport default function Demo() {\n  studio.initialize();\n\n  const project = getProject('deepfake demo', { state: projectState });\n  const sheet = project.sheet('Scene', 'default');\n\n  studio.ui.hide();\n\n  project.ready.then(() =>\n    sheet.sequence.play({\n      iterationCount: 1,\n    })\n  );\n\n  const [preData, setPreData] = useState([]); //上一筆舊資料，要與 local-storage 一致\n\n  console.log('preData', preData);\n\n  //從 local-storage 取得舊資料\n  useEffect(() => {\n    const storedBoxes = localStorage.getItem('theatre-data');\n    if (storedBoxes) {\n      setPreData(JSON.parse(storedBoxes));\n    }\n  }, []);\n\n  //render 出既有的元件\n  useEffect(() => {\n    preData\n      .filter((item) => item.type === 'box')\n      .forEach((item) => {\n        const box = sheet.object(item.id, {\n          position: {\n            x: 0,\n            y: 0,\n          },\n          bgColor: types.string('#ffffff'),\n        });\n\n        const element = document.getElementById(item.id);\n\n        box.onValuesChange((newValue) => {\n          element.style.left = newValue.position.x + 'px';\n          element.style.top = newValue.position.y + 'px';\n          element.style.backgroundColor = newValue.bgColor;\n        });\n      });\n  });\n\n  // 總時間長度\n  onChange(sheet.sequence.pointer.length, (len) => {\n    console.log('Length of the sequence changed to:', len);\n  });\n\n  // 目前時間位置\n  // onChange(sheet.sequence.pointer.position, (position) => {\n  //   console.log('Position of the sequence changed to:', position);\n  // });\n\n  // 目前狀態是 play 還是 pause\n  onChange(sheet.sequence.pointer.playing, (playing) => {\n    console.log(playing ? 'playing' : 'paused');\n  });\n\n  //總時長\n  // we can also read the current value of the pointer\n  console.log('current length is', val(sheet.sequence.pointer.length));\n\n  const totalSeconds = val(sheet.sequence.pointer.length);\n  console.log('Total seconds:', totalSeconds);\n\n  // console.log('sequence.pointer.length', sheet.sequence.pointer.length);\n  // console.log('sequence.pointer.position', sheet.sequence.pointer.position);\n  // console.log('sequence.pointer.playing', sheet.sequence.pointer.playing);\n\n  return (\n    <>\n      <Container id='item-container'>\n        {preData.map((box, index) => (\n          <BasicBox key={index} id={box.id} style={box.style}>\n            {box.content}\n          </BasicBox>\n        ))}\n      </Container>\n    </>\n  );\n}\n","import studio from '@theatre/studio';\nimport { getProject, types } from '@theatre/core';\nimport { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport projectState from '../json/state.json';\nimport { val } from '@theatre/core';\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  outline: 5px solid red;\n  z-index: -1;\n  overflow: hidden;\n`;\n\nconst BasicBox = styled.div`\n  position: absolute;\n  width: 300px;\n  height: 20px;\n  background: white;\n  outline: 3px solid black;\n  z-index: 10000;\n  padding: 20px;\n`;\n\nexport default function ScrollDemo() {\n  studio.initialize();\n\n  const project = getProject('deepfake demo', { state: projectState });\n  const sheet = project.sheet('Scene', 'default');\n\n  // studio.ui.restore();\n\n  // project.ready.then(() =>\n  //   sheet.sequence.play({\n  //     iterationCount: 1,\n  //   })\n  // );\n\n  const [preData, setPreData] = useState([]); //上一筆舊資料，要與 local-storage 一致\n\n  const scrollOffset = useScrollOffset(); // 自訂的 hook，用於獲取滾動位置\n\n  //從 local-storage 取得舊資料\n  useEffect(() => {\n    const storedBoxes = localStorage.getItem('theatre-data');\n    if (storedBoxes) {\n      setPreData(JSON.parse(storedBoxes));\n    }\n  }, []);\n\n  //render 出既有的元件\n  useEffect(() => {\n    preData\n      .filter((item) => item.type === 'box')\n      .forEach((item) => {\n        const box = sheet.object(item.id, {\n          position: {\n            x: 0,\n            y: 0,\n          },\n          bgColor: types.string('#ffffff'),\n        });\n\n        const element = document.getElementById(item.id);\n\n        box.onValuesChange((newValue) => {\n          element.style.left = newValue.position.x + 'px';\n          element.style.top = newValue.position.y + 'px';\n          element.style.backgroundColor = newValue.bgColor;\n        });\n      });\n  }, []);\n\n  const totalSeconds = val(sheet.sequence.pointer.length);\n  console.log('totalSeconds', totalSeconds);\n\n  console.log('scrollOffset * totalSeconds', scrollOffset * totalSeconds);\n\n  return (\n    <>\n      <Container id='item-container'>\n        {preData.map((box, index) => (\n          <BasicBox key={index} id={box.id} style={box.style}>\n            {box.content}\n          </BasicBox>\n        ))}\n      </Container>\n    </>\n  );\n}\n\n// 自訂的 hook，用於獲取滾動位置\nfunction useScrollOffset() {\n  const [scrollOffset, setScrollOffset] = useState(0);\n\n  useEffect(() => {\n    function handleScroll() {\n      const { scrollTop, scrollHeight, clientHeight } =\n        document.documentElement;\n      const maxScrollOffset = scrollHeight - clientHeight;\n      const currentScrollOffset = scrollTop / maxScrollOffset;\n      setScrollOffset(currentScrollOffset);\n    }\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  return scrollOffset;\n}\n","import ReactDOM from 'react-dom/client';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\n\n// import App from './page/playground';\nimport Demo from './page/demo';\nimport ScrollDemo from './page/scroll-demo';\n\nconst rootElement = document.getElementById('root');\n\nReactDOM.createRoot(rootElement).render(\n  <React.StrictMode>\n    <ScrollDemo />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}